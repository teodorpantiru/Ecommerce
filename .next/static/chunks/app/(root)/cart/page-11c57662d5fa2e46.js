(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[867],{63:(e,t,r)=>{"use strict";var a=r(7260);r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},848:(e,t,r)=>{"use strict";r.d(t,{default:()=>_});var a=r(5155),s=r(63),n=r(2115),i=r(5425),c=r(1606),d=r(2348),o=r(7125),l=r(6191),u=r(2987),h=r(5016);function m(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,a.jsx)("table",{"data-slot":"table",className:(0,h.cn)("w-full caption-bottom text-sm",t),...r})})}function p(e){let{className:t,...r}=e;return(0,a.jsx)("thead",{"data-slot":"table-header",className:(0,h.cn)("[&_tr]:border-b",t),...r})}function f(e){let{className:t,...r}=e;return(0,a.jsx)("tbody",{"data-slot":"table-body",className:(0,h.cn)("[&_tr:last-child]:border-0",t),...r})}function x(e){let{className:t,...r}=e;return(0,a.jsx)("tr",{"data-slot":"table-row",className:(0,h.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...r})}function v(e){let{className:t,...r}=e;return(0,a.jsx)("th",{"data-slot":"table-head",className:(0,h.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...r})}function g(e){let{className:t,...r}=e;return(0,a.jsx)("td",{"data-slot":"table-cell",className:(0,h.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...r})}var b=r(2619),y=r.n(b),j=r(5239),N=r(7003),k=r(8720);function w(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card",className:(0,h.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...r})}function S(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,h.cn)("px-6",t),...r})}let _=e=>{let{cart:t}=e,r=(0,s.useRouter)(),[b,_]=(0,n.useTransition)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h1",{className:"py-4 h2-bold",children:"Shopping Cart"}),t&&0!==t.items.length?(0,a.jsxs)("div",{className:"grid md:grid-cols-4 md:gap-5",children:[(0,a.jsx)("div",{className:"overflow-x-auto md:col-span-3",children:(0,a.jsxs)(m,{children:[(0,a.jsx)(p,{children:(0,a.jsxs)(x,{children:[(0,a.jsx)(v,{children:"Item"}),(0,a.jsx)(v,{className:"text-center",children:"Quantity"}),(0,a.jsx)(v,{className:"text-right",children:"Price"})]})}),(0,a.jsx)(f,{children:t.items.map(e=>(0,a.jsxs)(x,{children:[(0,a.jsx)(g,{children:(0,a.jsxs)(y(),{href:"/product/".concat(e.slug),className:"flex items-center ",children:[(0,a.jsx)(j.default,{src:e.image,alt:e.name,width:50,height:50}),(0,a.jsx)("span",{className:"px-2",children:e.name})]})}),(0,a.jsxs)(g,{className:"flex-center gap-2",children:[(0,a.jsx)(N.$,{disabled:b,variant:"outline",type:"button",onClick:()=>_(async()=>{let t=await (0,i.I)(e.productId);t.success||k.oR.error("Error removing item from cart",{description:t.message})}),children:b?(0,a.jsx)(d.A,{className:"w-4 h-4 animate-spin"}):(0,a.jsx)(o.A,{className:"w-4 h-4"})}),(0,a.jsx)("span",{children:e.qty}),(0,a.jsx)(N.$,{disabled:b,variant:"outline",type:"button",onClick:()=>_(async()=>{let t=await (0,c.M)(e);t.success||k.oR.error("Error removing item from cart",{description:t.message})}),children:b?(0,a.jsx)(d.A,{className:"w-4 h-4 animate-spin"}):(0,a.jsx)(l.A,{className:"w-4 h-4"})})]}),(0,a.jsxs)(g,{className:"text-right",children:["RON ",e.price]})]},e.slug))})]})}),(0,a.jsx)(w,{children:(0,a.jsxs)(S,{className:"p-4 gap-4",children:[(0,a.jsxs)("div",{className:"pb-3 text-xl",children:["Subtotal (",t.items.reduce((e,t)=>e+t.qty,0),")",(0,a.jsx)("span",{className:"font-bold",children:(0,h.vv)(t.itemsPrice)})]}),(0,a.jsxs)(N.$,{className:"w-full",disabled:b,onClick:()=>_(()=>r.push("/shipping-address")),children:[b?(0,a.jsx)(d.A,{className:"w-4h-4 animate-spin"}):(0,a.jsx)(u.A,{className:"w-4 h-4"})," ","Proceed to Checkout"]})]})})]}):(0,a.jsxs)("p",{children:["Your cart is empty. ",(0,a.jsx)(y(),{href:"/",children:"Go shopping"})]})]})}},926:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{callServer:function(){return a.callServer},createServerReference:function(){return n.createServerReference},findSourceMapURL:function(){return s.findSourceMapURL}});let a=r(1209),s=r(5153),n=r(7197)},1606:(e,t,r)=>{"use strict";r.d(t,{M:()=>s});var a=r(926);let s=(0,a.createServerReference)("40630d5028bcff223345d666766d96ca58215f3ac1",a.callServer,void 0,a.findSourceMapURL,"addItemToCart")},2348:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(1847).A)("loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]])},2987:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(1847).A)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},4554:(e,t,r)=>{Promise.resolve().then(r.bind(r,848))},4652:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return d},getImageProps:function(){return c}});let a=r(8140),s=r(5040),n=r(1356),i=a._(r(1124));function c(e){let{props:t}=(0,s.getImgProps)(e,{defaultLoader:i.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let d=n.Image},5016:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n,eT:()=>i,vv:()=>d});var a=r(2821),s=r(5889);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))}function i(e){let[t,r]=e.toString().split(".");return r?"".concat(t,".").concat(r.padEnd(2,"0")):"".concat(t,".00")}let c=new Intl.NumberFormat("en-Europe",{currency:"RON",style:"currency",minimumFractionDigits:2});function d(e){return"number"==typeof e?c.format(e):"string"==typeof e?c.format(Number(e)):"NaN"}},5239:(e,t,r)=>{"use strict";r.d(t,{default:()=>s.a});var a=r(4652),s=r.n(a)},5425:(e,t,r)=>{"use strict";r.d(t,{I:()=>s});var a=r(926);let s=(0,a.createServerReference)("401584a5c27ffb6de75cd810b9f340a6dc39d9cfc6",a.callServer,void 0,a.findSourceMapURL,"removeItemFromCart")},6191:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(1847).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},7003:(e,t,r)=>{"use strict";r.d(t,{$:()=>d});var a=r(5155);r(2115);var s=r(2467),n=r(3101),i=r(5016);let c=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function d(e){let{className:t,variant:r,size:n,asChild:d=!1,...o}=e,l=d?s.DX:"button";return(0,a.jsx)(l,{"data-slot":"button",className:(0,i.cn)(c({variant:r,size:n,className:t})),...o})}},7125:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(1847).A)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]])}},e=>{e.O(0,[356,707,619,230,441,255,358],()=>e(e.s=4554)),_N_E=e.O()}]);