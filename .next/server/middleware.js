(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[751],{58:(a,b,c)=>{"use strict";c.d(b,{xl:()=>g});let d=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class e{disable(){throw d}getStore(){}run(){throw d}exit(){throw d}enterWith(){throw d}static bind(a){return a}}let f="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function g(){return f?new f:new e}},66:(a,b,c)=>{"use strict";c.d(b,{RM:()=>f,s8:()=>e});let d=new Set(Object.values({NOT_FOUND:404,FORBIDDEN:403,UNAUTHORIZED:401})),e="NEXT_HTTP_ERROR_FALLBACK";function f(a){if("object"!=typeof a||null===a||!("digest"in a)||"string"!=typeof a.digest)return!1;let[b,c]=a.digest.split(";");return b===e&&d.has(Number(c))}},107:(a,b,c)=>{"use strict";c.d(b,{wi:()=>m,I3:()=>k,Ui:()=>i,xI:()=>g,Pk:()=>h});var d=c(814),e=c(159);c(979),c(128),c(379),c(770),c(340),c(809);let f="function"==typeof d.unstable_postpone;function g(a,b,c){let d=Object.defineProperty(new e.F(`Route ${b.route} couldn't be rendered statically because it used \`${a}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E558",enumerable:!1,configurable:!0});throw c.revalidate=0,b.dynamicUsageDescription=a,b.dynamicUsageStack=d.stack,d}function h(a){switch(a.type){case"cache":case"unstable-cache":case"private-cache":return}}function i(a,b,c){(function(){if(!f)throw Object.defineProperty(Error("Invariant: React.unstable_postpone is not defined. This suggests the wrong version of React was loaded. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E224",enumerable:!1,configurable:!0})})(),c&&c.dynamicAccesses.push({stack:c.isDebugDynamicAccesses?Error().stack:void 0,expression:b}),d.unstable_postpone(j(a,b))}function j(a,b){return`Route ${a} needs to bail out of prerendering at this point because it used ${b}. React throws this special object to indicate where. It should not be caught by your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error`}function k(a){return"object"==typeof a&&null!==a&&"string"==typeof a.message&&l(a.message)}function l(a){return a.includes("needs to bail out of prerendering at this point because it used")&&a.includes("Learn more: https://nextjs.org/docs/messages/ppr-caught-error")}if(!1===l(j("%%%","^^^")))throw Object.defineProperty(Error("Invariant: isDynamicPostpone misidentified a postpone reason. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E296",enumerable:!1,configurable:!0});function m(a,b){return a.runtimeStagePromise?a.runtimeStagePromise.then(()=>b):b}RegExp(`\\n\\s+at Suspense \\(<anonymous>\\)(?:(?!\\n\\s+at (?:body|div|main|section|article|aside|header|footer|nav|form|p|span|h1|h2|h3|h4|h5|h6) \\(<anonymous>\\))[\\s\\S])*?\\n\\s+at __next_root_layout_boundary__ \\([^\\n]*\\)`),RegExp(`\\n\\s+at __next_metadata_boundary__[\\n\\s]`),RegExp(`\\n\\s+at __next_viewport_boundary__[\\n\\s]`),RegExp(`\\n\\s+at __next_outlet_boundary__[\\n\\s]`)},128:(a,b,c)=>{"use strict";c.d(b,{M1:()=>e,FP:()=>d});let d=(0,c(58).xl)();function e(a){throw Object.defineProperty(Error(`\`${a}\` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context`),"__NEXT_ERROR_CODE",{value:"E251",enumerable:!1,configurable:!0})}},159:(a,b,c)=>{"use strict";c.d(b,{F:()=>e,h:()=>f});let d="DYNAMIC_SERVER_USAGE";class e extends Error{constructor(a){super("Dynamic server usage: "+a),this.description=a,this.digest=d}}function f(a){return"object"==typeof a&&null!==a&&"digest"in a&&"string"==typeof a.digest&&a.digest===d}},165:(a,b,c)=>{"use strict";var d=c(356).Buffer;Object.defineProperty(b,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{handleFetch:function(){return h},interceptFetch:function(){return i},reader:function(){return f}});let e=c(392),f={url:a=>a.url,header:(a,b)=>a.headers.get(b)};async function g(a,b){let{url:c,method:e,headers:f,body:g,cache:h,credentials:i,integrity:j,mode:k,redirect:l,referrer:m,referrerPolicy:n}=b;return{testData:a,api:"fetch",request:{url:c,method:e,headers:[...Array.from(f),["next-test-stack",function(){let a=(Error().stack??"").split("\n");for(let b=1;b<a.length;b++)if(a[b].length>0){a=a.slice(b);break}return(a=(a=(a=a.filter(a=>!a.includes("/next/dist/"))).slice(0,5)).map(a=>a.replace("webpack-internal:///(rsc)/","").trim())).join("    ")}()]],body:g?d.from(await b.arrayBuffer()).toString("base64"):null,cache:h,credentials:i,integrity:j,mode:k,redirect:l,referrer:m,referrerPolicy:n}}}async function h(a,b){let c=(0,e.getTestReqInfo)(b,f);if(!c)return a(b);let{testData:h,proxyPort:i}=c,j=await g(h,b),k=await a(`http://localhost:${i}`,{method:"POST",body:JSON.stringify(j),next:{internal:!0}});if(!k.ok)throw Object.defineProperty(Error(`Proxy request failed: ${k.status}`),"__NEXT_ERROR_CODE",{value:"E146",enumerable:!1,configurable:!0});let l=await k.json(),{api:m}=l;switch(m){case"continue":return a(b);case"abort":case"unhandled":throw Object.defineProperty(Error(`Proxy request aborted [${b.method} ${b.url}]`),"__NEXT_ERROR_CODE",{value:"E145",enumerable:!1,configurable:!0});case"fetch":let{status:n,headers:o,body:p}=l.response;return new Response(p?d.from(p,"base64"):null,{status:n,headers:new Headers(o)});default:return m}}function i(a){return c.g.fetch=function(b,c){var d;return(null==c||null==(d=c.next)?void 0:d.internal)?a(b,c):h(a,new Request(b,c))},()=>{c.g.fetch=a}}},213:a=>{(()=>{"use strict";var b={993:a=>{var b=Object.prototype.hasOwnProperty,c="~";function d(){}function e(a,b,c){this.fn=a,this.context=b,this.once=c||!1}function f(a,b,d,f,g){if("function"!=typeof d)throw TypeError("The listener must be a function");var h=new e(d,f||a,g),i=c?c+b:b;return a._events[i]?a._events[i].fn?a._events[i]=[a._events[i],h]:a._events[i].push(h):(a._events[i]=h,a._eventsCount++),a}function g(a,b){0==--a._eventsCount?a._events=new d:delete a._events[b]}function h(){this._events=new d,this._eventsCount=0}Object.create&&(d.prototype=Object.create(null),(new d).__proto__||(c=!1)),h.prototype.eventNames=function(){var a,d,e=[];if(0===this._eventsCount)return e;for(d in a=this._events)b.call(a,d)&&e.push(c?d.slice(1):d);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(a)):e},h.prototype.listeners=function(a){var b=c?c+a:a,d=this._events[b];if(!d)return[];if(d.fn)return[d.fn];for(var e=0,f=d.length,g=Array(f);e<f;e++)g[e]=d[e].fn;return g},h.prototype.listenerCount=function(a){var b=c?c+a:a,d=this._events[b];return d?d.fn?1:d.length:0},h.prototype.emit=function(a,b,d,e,f,g){var h=c?c+a:a;if(!this._events[h])return!1;var i,j,k=this._events[h],l=arguments.length;if(k.fn){switch(k.once&&this.removeListener(a,k.fn,void 0,!0),l){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,b),!0;case 3:return k.fn.call(k.context,b,d),!0;case 4:return k.fn.call(k.context,b,d,e),!0;case 5:return k.fn.call(k.context,b,d,e,f),!0;case 6:return k.fn.call(k.context,b,d,e,f,g),!0}for(j=1,i=Array(l-1);j<l;j++)i[j-1]=arguments[j];k.fn.apply(k.context,i)}else{var m,n=k.length;for(j=0;j<n;j++)switch(k[j].once&&this.removeListener(a,k[j].fn,void 0,!0),l){case 1:k[j].fn.call(k[j].context);break;case 2:k[j].fn.call(k[j].context,b);break;case 3:k[j].fn.call(k[j].context,b,d);break;case 4:k[j].fn.call(k[j].context,b,d,e);break;default:if(!i)for(m=1,i=Array(l-1);m<l;m++)i[m-1]=arguments[m];k[j].fn.apply(k[j].context,i)}}return!0},h.prototype.on=function(a,b,c){return f(this,a,b,c,!1)},h.prototype.once=function(a,b,c){return f(this,a,b,c,!0)},h.prototype.removeListener=function(a,b,d,e){var f=c?c+a:a;if(!this._events[f])return this;if(!b)return g(this,f),this;var h=this._events[f];if(h.fn)h.fn!==b||e&&!h.once||d&&h.context!==d||g(this,f);else{for(var i=0,j=[],k=h.length;i<k;i++)(h[i].fn!==b||e&&!h[i].once||d&&h[i].context!==d)&&j.push(h[i]);j.length?this._events[f]=1===j.length?j[0]:j:g(this,f)}return this},h.prototype.removeAllListeners=function(a){var b;return a?(b=c?c+a:a,this._events[b]&&g(this,b)):(this._events=new d,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prefixed=c,h.EventEmitter=h,a.exports=h},213:a=>{a.exports=(a,b)=>(b=b||(()=>{}),a.then(a=>new Promise(a=>{a(b())}).then(()=>a),a=>new Promise(a=>{a(b())}).then(()=>{throw a})))},574:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.default=function(a,b,c){let d=0,e=a.length;for(;e>0;){let f=e/2|0,g=d+f;0>=c(a[g],b)?(d=++g,e-=f+1):e=f}return d}},821:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0});let d=c(574);class e{constructor(){this._queue=[]}enqueue(a,b){let c={priority:(b=Object.assign({priority:0},b)).priority,run:a};if(this.size&&this._queue[this.size-1].priority>=b.priority)return void this._queue.push(c);let e=d.default(this._queue,c,(a,b)=>b.priority-a.priority);this._queue.splice(e,0,c)}dequeue(){let a=this._queue.shift();return null==a?void 0:a.run}filter(a){return this._queue.filter(b=>b.priority===a.priority).map(a=>a.run)}get size(){return this._queue.length}}b.default=e},816:(a,b,c)=>{let d=c(213);class e extends Error{constructor(a){super(a),this.name="TimeoutError"}}let f=(a,b,c)=>new Promise((f,g)=>{if("number"!=typeof b||b<0)throw TypeError("Expected `milliseconds` to be a positive number");if(b===1/0)return void f(a);let h=setTimeout(()=>{if("function"==typeof c){try{f(c())}catch(a){g(a)}return}let d="string"==typeof c?c:`Promise timed out after ${b} milliseconds`,h=c instanceof Error?c:new e(d);"function"==typeof a.cancel&&a.cancel(),g(h)},b);d(a.then(f,g),()=>{clearTimeout(h)})});a.exports=f,a.exports.default=f,a.exports.TimeoutError=e}},c={};function d(a){var e=c[a];if(void 0!==e)return e.exports;var f=c[a]={exports:{}},g=!0;try{b[a](f,f.exports,d),g=!1}finally{g&&delete c[a]}return f.exports}d.ab="//";var e={};(()=>{Object.defineProperty(e,"__esModule",{value:!0});let a=d(993),b=d(816),c=d(821),f=()=>{},g=new b.TimeoutError;class h extends a{constructor(a){var b,d,e,g;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=f,this._resolveIdle=f,!("number"==typeof(a=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:c.default},a)).intervalCap&&a.intervalCap>=1))throw TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!=(d=null==(b=a.intervalCap)?void 0:b.toString())?d:""}\` (${typeof a.intervalCap})`);if(void 0===a.interval||!(Number.isFinite(a.interval)&&a.interval>=0))throw TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!=(g=null==(e=a.interval)?void 0:e.toString())?g:""}\` (${typeof a.interval})`);this._carryoverConcurrencyCount=a.carryoverConcurrencyCount,this._isIntervalIgnored=a.intervalCap===1/0||0===a.interval,this._intervalCap=a.intervalCap,this._interval=a.interval,this._queue=new a.queueClass,this._queueClass=a.queueClass,this.concurrency=a.concurrency,this._timeout=a.timeout,this._throwOnTimeout=!0===a.throwOnTimeout,this._isPaused=!1===a.autoStart}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=f,0===this._pendingCount&&(this._resolveIdle(),this._resolveIdle=f,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){let a=Date.now();if(void 0===this._intervalId){let b=this._intervalEnd-a;if(!(b<0))return void 0===this._timeoutId&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},b)),!0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}return!1}_tryToStartAnother(){if(0===this._queue.size)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){let a=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){let b=this._queue.dequeue();return!!b&&(this.emit("active"),b(),a&&this._initializeIntervalIfNeeded(),!0)}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||void 0!==this._intervalId||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){0===this._intervalCount&&0===this._pendingCount&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(a){if(!("number"==typeof a&&a>=1))throw TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${a}\` (${typeof a})`);this._concurrency=a,this._processQueue()}async add(a,c={}){return new Promise((d,e)=>{let f=async()=>{this._pendingCount++,this._intervalCount++;try{let f=void 0===this._timeout&&void 0===c.timeout?a():b.default(Promise.resolve(a()),void 0===c.timeout?this._timeout:c.timeout,()=>{(void 0===c.throwOnTimeout?this._throwOnTimeout:c.throwOnTimeout)&&e(g)});d(await f)}catch(a){e(a)}this._next()};this._queue.enqueue(f,c),this._tryToStartAnother(),this.emit("add")})}async addAll(a,b){return Promise.all(a.map(async a=>this.add(a,b)))}start(){return this._isPaused&&(this._isPaused=!1,this._processQueue()),this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(0!==this._queue.size)return new Promise(a=>{let b=this._resolveEmpty;this._resolveEmpty=()=>{b(),a()}})}async onIdle(){if(0!==this._pendingCount||0!==this._queue.size)return new Promise(a=>{let b=this._resolveIdle;this._resolveIdle=()=>{b(),a()}})}get size(){return this._queue.size}sizeBy(a){return this._queue.filter(a).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(a){this._timeout=a}}e.default=h})(),a.exports=e})()},269:a=>{"use strict";var b=Object.create,c=Object.defineProperty,d=Object.getOwnPropertyDescriptor,e=Object.getOwnPropertyNames,f=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty,h=(a,b)=>()=>(a&&(b=a(a=0)),b),i=(a,b)=>()=>(b||a((b={exports:{}}).exports,b),b.exports),j=(a,b)=>{for(var d in b)c(a,d,{get:b[d],enumerable:!0})},k=(a,b,f,h)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of e(b))g.call(a,i)||i===f||c(a,i,{get:()=>b[i],enumerable:!(h=d(b,i))||h.enumerable});return a},l=(a,d,e)=>(e=null!=a?b(f(a)):{},k(!d&&a&&a.__esModule?e:c(e,"default",{value:a,enumerable:!0}),a));function m(a,b){if("utf8"===(b=b.toLowerCase())||"utf-8"===b)return new u(w.encode(a));if("base64"===b||"base64url"===b)return a=(a=a.replace(/-/g,"+").replace(/_/g,"/")).replace(/[^A-Za-z0-9+/]/g,""),new u([...atob(a)].map(a=>a.charCodeAt(0)));if("binary"===b||"ascii"===b||"latin1"===b||"latin-1"===b)return new u([...a].map(a=>a.charCodeAt(0)));if("ucs2"===b||"ucs-2"===b||"utf16le"===b||"utf-16le"===b){let b=new u(2*a.length),c=new DataView(b.buffer);for(let b=0;b<a.length;b++)c.setUint16(2*b,a.charCodeAt(b),!0);return b}if("hex"===b){let b=new u(a.length/2);for(let c=0,d=0;d<a.length;d+=2,c++)b[c]=parseInt(a.slice(d,d+2),16);return b}n(`encoding "${b}"`)}function n(a){throw Error(`Buffer polyfill does not implement "${a}"`)}function o(a,b){if(!(a instanceof Uint8Array))throw TypeError(`The "${b}" argument must be an instance of Buffer or Uint8Array`)}function p(a,b,c=z+1){if(a<0||a>c){let d=RangeError(`The value of "${b}" is out of range. It must be >= 0 && <= ${c}. Received ${a}`);throw d.code="ERR_OUT_OF_RANGE",d}}function q(a,b){if("number"!=typeof a){let c=TypeError(`The "${b}" argument must be of type number. Received type ${typeof a}.`);throw c.code="ERR_INVALID_ARG_TYPE",c}}function r(a,b){if(!Number.isInteger(a)||Number.isNaN(a)){let c=RangeError(`The value of "${b}" is out of range. It must be an integer. Received ${a}`);throw c.code="ERR_OUT_OF_RANGE",c}}function s(a,b){if("string"!=typeof a){let c=TypeError(`The "${b}" argument must be of type string. Received type ${typeof a}`);throw c.code="ERR_INVALID_ARG_TYPE",c}}function t(a,b="utf8"){return u.from(a,b)}var u,v,w,x,y,z,A,B,C,D,E,F=h(()=>{u=class a extends Uint8Array{_isBuffer=!0;get offset(){return this.byteOffset}static alloc(b,c=0,d="utf8"){return s(d,"encoding"),a.allocUnsafe(b).fill(c,d)}static allocUnsafe(b){return a.from(b)}static allocUnsafeSlow(b){return a.from(b)}static isBuffer(a){return a&&!!a._isBuffer}static byteLength(a,b="utf8"){if("string"==typeof a)return m(a,b).byteLength;if(a&&a.byteLength)return a.byteLength;let c=TypeError('The "string" argument must be of type string or an instance of Buffer or ArrayBuffer.');throw c.code="ERR_INVALID_ARG_TYPE",c}static isEncoding(a){return y.includes(a)}static compare(a,b){o(a,"buff1"),o(b,"buff2");for(let c=0;c<a.length;c++){if(a[c]<b[c])return -1;if(a[c]>b[c])return 1}return a.length===b.length?0:a.length>b.length?1:-1}static from(b,c="utf8"){if(b&&"object"==typeof b&&"Buffer"===b.type)return new a(b.data);if("number"==typeof b)return new a(new Uint8Array(b));if("string"==typeof b)return m(b,c);if(ArrayBuffer.isView(b)){let{byteOffset:c,byteLength:d,buffer:e}=b;return"map"in b&&"function"==typeof b.map?new a(b.map(a=>a%256),c,d):new a(e,c,d)}if(b&&"object"==typeof b&&("length"in b||"byteLength"in b||"buffer"in b))return new a(b);throw TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}static concat(b,c){if(0===b.length)return a.alloc(0);let d=[].concat(...b.map(a=>[...a])),e=a.alloc(void 0!==c?c:d.length);return e.set(void 0!==c?d.slice(0,c):d),e}slice(a=0,b=this.length){return this.subarray(a,b)}subarray(b=0,c=this.length){return Object.setPrototypeOf(super.subarray(b,c),a.prototype)}reverse(){return super.reverse(),this}readIntBE(a,b){q(a,"offset"),r(a,"offset"),p(a,"offset",this.length-1),q(b,"byteLength"),r(b,"byteLength");let c=new DataView(this.buffer,a,b),d=0;for(let a=0;a<b;a++)d=256*d+c.getUint8(a);return 128&c.getUint8(0)&&(d-=Math.pow(256,b)),d}readIntLE(a,b){q(a,"offset"),r(a,"offset"),p(a,"offset",this.length-1),q(b,"byteLength"),r(b,"byteLength");let c=new DataView(this.buffer,a,b),d=0;for(let a=0;a<b;a++)d+=c.getUint8(a)*Math.pow(256,a);return 128&c.getUint8(b-1)&&(d-=Math.pow(256,b)),d}readUIntBE(a,b){q(a,"offset"),r(a,"offset"),p(a,"offset",this.length-1),q(b,"byteLength"),r(b,"byteLength");let c=new DataView(this.buffer,a,b),d=0;for(let a=0;a<b;a++)d=256*d+c.getUint8(a);return d}readUintBE(a,b){return this.readUIntBE(a,b)}readUIntLE(a,b){q(a,"offset"),r(a,"offset"),p(a,"offset",this.length-1),q(b,"byteLength"),r(b,"byteLength");let c=new DataView(this.buffer,a,b),d=0;for(let a=0;a<b;a++)d+=c.getUint8(a)*Math.pow(256,a);return d}readUintLE(a,b){return this.readUIntLE(a,b)}writeIntBE(a,b,c){return a=a<0?a+Math.pow(256,c):a,this.writeUIntBE(a,b,c)}writeIntLE(a,b,c){return a=a<0?a+Math.pow(256,c):a,this.writeUIntLE(a,b,c)}writeUIntBE(a,b,c){q(b,"offset"),r(b,"offset"),p(b,"offset",this.length-1),q(c,"byteLength"),r(c,"byteLength");let d=new DataView(this.buffer,b,c);for(let b=c-1;b>=0;b--)d.setUint8(b,255&a),a/=256;return b+c}writeUintBE(a,b,c){return this.writeUIntBE(a,b,c)}writeUIntLE(a,b,c){q(b,"offset"),r(b,"offset"),p(b,"offset",this.length-1),q(c,"byteLength"),r(c,"byteLength");let d=new DataView(this.buffer,b,c);for(let b=0;b<c;b++)d.setUint8(b,255&a),a/=256;return b+c}writeUintLE(a,b,c){return this.writeUIntLE(a,b,c)}toJSON(){return{type:"Buffer",data:Array.from(this)}}swap16(){let a=new DataView(this.buffer,this.byteOffset,this.byteLength);for(let b=0;b<this.length;b+=2)a.setUint16(b,a.getUint16(b,!0),!1);return this}swap32(){let a=new DataView(this.buffer,this.byteOffset,this.byteLength);for(let b=0;b<this.length;b+=4)a.setUint32(b,a.getUint32(b,!0),!1);return this}swap64(){let a=new DataView(this.buffer,this.byteOffset,this.byteLength);for(let b=0;b<this.length;b+=8)a.setBigUint64(b,a.getBigUint64(b,!0),!1);return this}compare(b,c=0,d=b.length,e=0,f=this.length){return o(b,"target"),q(c,"targetStart"),q(d,"targetEnd"),q(e,"sourceStart"),q(f,"sourceEnd"),p(c,"targetStart"),p(d,"targetEnd",b.length),p(e,"sourceStart"),p(f,"sourceEnd",this.length),a.compare(this.slice(e,f),b.slice(c,d))}equals(a){return o(a,"otherBuffer"),this.length===a.length&&this.every((b,c)=>b===a[c])}copy(a,b=0,c=0,d=this.length){p(b,"targetStart"),p(c,"sourceStart",this.length),p(d,"sourceEnd"),b>>>=0,c>>>=0,d>>>=0;let e=0;for(;c<d&&void 0!==this[c]&&void 0!==a[b];)a[b]=this[c],e++,c++,b++;return e}write(a,b,c,d="utf8"){let e="string"==typeof b?0:b??0,f="string"==typeof c?this.length-e:c??this.length-e;return d="string"==typeof b?b:"string"==typeof c?c:d,q(e,"offset"),q(f,"length"),p(e,"offset",this.length),p(f,"length",this.length),("ucs2"===d||"ucs-2"===d||"utf16le"===d||"utf-16le"===d)&&(f-=f%2),m(a,d).copy(this,e,0,f)}fill(b=0,c=0,d=this.length,e="utf-8"){let f="string"==typeof c?0:c,g="string"==typeof d?this.length:d;if(e="string"==typeof c?c:"string"==typeof d?d:e,b=a.from("number"==typeof b?[b]:b??[],e),s(e,"encoding"),p(f,"offset",this.length),p(g,"end",this.length),0!==b.length)for(let a=f;a<g;a+=b.length)super.set(b.slice(0,b.length+a>=this.length?this.length-a:b.length),a);return this}includes(a,b=null,c="utf-8"){return -1!==this.indexOf(a,b,c)}lastIndexOf(a,b=null,c="utf-8"){return this.indexOf(a,b,c,!0)}indexOf(b,c=null,d="utf-8",e=!1){let f=e?this.findLastIndex.bind(this):this.findIndex.bind(this);d="string"==typeof c?c:d;let g=a.from("number"==typeof b?[b]:b,d),h="string"==typeof c?0:c;return h=Number.isNaN(h="number"==typeof c?h:null)?null:h,h??=e?this.length:0,h=h<0?this.length+h:h,0===g.length&&!1===e?h>=this.length?this.length:h:0===g.length&&!0===e?(h>=this.length?this.length:h)||this.length:f((a,b)=>(e?b<=h:b>=h)&&this[b]===g[0]&&g.every((a,c)=>this[b+c]===a))}toString(a="utf8",b=0,c=this.length){if(b=b<0?0:b,a=a.toString().toLowerCase(),c<=0)return"";if("utf8"===a||"utf-8"===a)return x.decode(this.slice(b,c));if("base64"===a||"base64url"===a){let b=btoa(this.reduce((a,b)=>a+B(b),""));return"base64url"===a?b.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""):b}if("binary"===a||"ascii"===a||"latin1"===a||"latin-1"===a)return this.slice(b,c).reduce((b,c)=>b+B(c&("ascii"===a?127:255)),"");if("ucs2"===a||"ucs-2"===a||"utf16le"===a||"utf-16le"===a){let a=new DataView(this.buffer.slice(b,c));return Array.from({length:a.byteLength/2},(b,c)=>2*c+1<a.byteLength?B(a.getUint16(2*c,!0)):"").join("")}if("hex"===a)return this.slice(b,c).reduce((a,b)=>a+b.toString(16).padStart(2,"0"),"");n(`encoding "${a}"`)}toLocaleString(){return this.toString()}inspect(){return`<Buffer ${this.toString("hex").match(/.{1,2}/g).join(" ")}>`}},v={int8:[-128,127],int16:[-32768,32767],int32:[-0x80000000,0x7fffffff],uint8:[0,255],uint16:[0,65535],uint32:[0,0xffffffff],float32:[-1/0,1/0],float64:[-1/0,1/0],bigint64:[-0x8000000000000000n,0x7fffffffffffffffn],biguint64:[0n,0xffffffffffffffffn]},w=new TextEncoder,x=new TextDecoder,y=["utf8","utf-8","hex","base64","ascii","binary","base64url","ucs2","ucs-2","utf16le","utf-16le","latin1","latin-1"],z=0xffffffff,function(a){let b=Object.getOwnPropertyNames(DataView.prototype).filter(a=>a.startsWith("get")||a.startsWith("set")),c=b.map(a=>a.replace("get","read").replace("set","write")),d=(a,c)=>function(d=0){return q(d,"offset"),r(d,"offset"),p(d,"offset",this.length-1),new DataView(this.buffer)[b[a]](d,c)},e=(a,c)=>function(d,e=0){let f=v[b[a].match(/set(\w+\d+)/)[1].toLowerCase()];return q(e,"offset"),r(e,"offset"),p(e,"offset",this.length-1),function(a,b,c,d){if(a<c||a>d){let e=RangeError(`The value of "${b}" is out of range. It must be >= ${c} and <= ${d}. Received ${a}`);throw e.code="ERR_OUT_OF_RANGE",e}}(d,"value",f[0],f[1]),new DataView(this.buffer)[b[a]](e,d,c),e+parseInt(b[a].match(/\d+/)[0])/8};c.forEach((b,c)=>{b.startsWith("read")&&(a[b]=d(c,!1),a[b+"LE"]=d(c,!0),a[b+"BE"]=d(c,!1)),b.startsWith("write")&&(a[b]=e(c,!1),a[b+"LE"]=e(c,!0),a[b+"BE"]=e(c,!1)),[b,b+"LE",b+"BE"].forEach(b=>{b.includes("Uint")&&(a[b.replace("Uint","UInt")]=a[b]),b.includes("Float64")&&(a[b.replace("Float64","Double")]=a[b]),b.includes("Float32")&&(a[b.replace("Float32","Float")]=a[b])})})}(u.prototype),A=new Proxy(t,{construct:(a,[b,c])=>u.from(b,c),get:(a,b)=>u[b]}),B=String.fromCodePoint}),G=h(()=>{C={nextTick:(a,...b)=>{setTimeout(()=>{a(...b)},0)},env:{},version:"",cwd:()=>"/",stderr:{},argv:["/bin/node"]}}),H=h(()=>{globalThis.performance??(()=>{let a=Date.now();return{now:()=>Date.now()-a}})()}),I=h(()=>{(D=()=>{}).prototype=D}),J=h(()=>{E=class{value;constructor(a){this.value=a}deref(){return this.value}}});function K(a,b){var c,d,e,f,g,h,i,j,k=a.constructor,l=k.precision;if(!a.s||!b.s)return b.s||(b=new k(a)),_?T(b,l):b;if(i=a.d,j=b.d,g=a.e,e=b.e,i=i.slice(),f=g-e){for(f<0?(d=i,f=-f,h=j.length):(d=j,e=g,h=i.length),f>(h=(g=Math.ceil(l/ai))>h?g+1:h+1)&&(f=h,d.length=1),d.reverse();f--;)d.push(0);d.reverse()}for((h=i.length)-(f=j.length)<0&&(f=h,d=j,j=i,i=d),c=0;f;)c=(i[--f]=i[f]+j[f]+c)/ah|0,i[f]%=ah;for(c&&(i.unshift(c),++e),h=i.length;0==i[--h];)i.pop();return b.d=i,b.e=e,_?T(b,l):b}function L(a,b,c){if(a!==~~a||a<b||a>c)throw Error(ab+a)}function M(a){var b,c,d,e=a.length-1,f="",g=a[0];if(e>0){for(f+=g,b=1;b<e;b++)d=a[b]+"",(c=ai-d.length)&&(f+=Q(c)),f+=d;d=(g=a[b])+"",(c=ai-d.length)&&(f+=Q(c))}else if(0===g)return"0";for(;g%10==0;)g/=10;return f+g}function N(a,b){var c,d,e,f,g,h=0,i=0,j=a.constructor,k=j.precision;if(O(a)>16)throw Error(ac+O(a));if(!a.s)return new j(ag);for(null==b?(_=!1,g=k):g=b,f=new j(.03125);a.abs().gte(.1);)a=a.times(f),i+=5;for(g+=Math.log(ae(2,i))/Math.LN10*2+5|0,c=d=e=new j(ag),j.precision=g;;){if(d=T(d.times(a),g),c=c.times(++h),M((f=e.plus(al(d,c,g))).d).slice(0,g)===M(e.d).slice(0,g)){for(;i--;)e=T(e.times(e),g);return j.precision=k,null==b?(_=!0,T(e,k)):e}e=f}}function O(a){for(var b=a.e*ai,c=a.d[0];c>=10;c/=10)b++;return b}function P(a,b,c){if(b>a.LN10.sd())throw _=!0,c&&(a.precision=c),Error(aa+"LN10 precision limit exceeded");return T(new a(a.LN10),b)}function Q(a){for(var b="";a--;)b+="0";return b}function R(a,b){var c,d,e,f,g,h,i,j,k,l=1,m=a,n=m.d,o=m.constructor,p=o.precision;if(m.s<1)throw Error(aa+(m.s?"NaN":"-Infinity"));if(m.eq(ag))return new o(0);if(null==b?(_=!1,j=p):j=b,m.eq(10))return null==b&&(_=!0),P(o,j);if(o.precision=j+=10,d=(c=M(n)).charAt(0),!(15e14>Math.abs(f=O(m))))return i=P(o,j+2,p).times(f+""),m=R(new o(d+"."+c.slice(1)),j-10).plus(i),o.precision=p,null==b?(_=!0,T(m,p)):m;for(;d<7&&1!=d||1==d&&c.charAt(1)>3;)d=(c=M((m=m.times(a)).d)).charAt(0),l++;for(f=O(m),d>1?(m=new o("0."+c),f++):m=new o(d+"."+c.slice(1)),h=g=m=al(m.minus(ag),m.plus(ag),j),k=T(m.times(m),j),e=3;;){if(g=T(g.times(k),j),M((i=h.plus(al(g,new o(e),j))).d).slice(0,j)===M(h.d).slice(0,j))return h=h.times(2),0!==f&&(h=h.plus(P(o,j+2,p).times(f+""))),h=al(h,new o(l),j),o.precision=p,null==b?(_=!0,T(h,p)):h;h=i,e+=2}}function S(a,b){var c,d,e;for((c=b.indexOf("."))>-1&&(b=b.replace(".","")),(d=b.search(/e/i))>0?(c<0&&(c=d),c+=+b.slice(d+1),b=b.substring(0,d)):c<0&&(c=b.length),d=0;48===b.charCodeAt(d);)++d;for(e=b.length;48===b.charCodeAt(e-1);)--e;if(b=b.slice(d,e)){if(e-=d,a.e=ad((c=c-d-1)/ai),a.d=[],d=(c+1)%ai,c<0&&(d+=ai),d<e){for(d&&a.d.push(+b.slice(0,d)),e-=ai;d<e;)a.d.push(+b.slice(d,d+=ai));b=b.slice(d),d=ai-b.length}else d-=e;for(;d--;)b+="0";if(a.d.push(+b),_&&(a.e>aj||a.e<-aj))throw Error(ac+c)}else a.s=0,a.e=0,a.d=[0];return a}function T(a,b,c){var d,e,f,g,h,i,j,k,l=a.d;for(g=1,f=l[0];f>=10;f/=10)g++;if((d=b-g)<0)d+=ai,e=b,j=l[k=0];else{if((k=Math.ceil((d+1)/ai))>=(f=l.length))return a;for(j=f=l[k],g=1;f>=10;f/=10)g++;d%=ai,e=d-ai+g}if(void 0!==c&&(h=j/(f=ae(10,g-e-1))%10|0,i=b<0||void 0!==l[k+1]||j%f,i=c<4?(h||i)&&(0==c||c==(a.s<0?3:2)):h>5||5==h&&(4==c||i||6==c&&(d>0?e>0?j/ae(10,g-e):0:l[k-1])%10&1||c==(a.s<0?8:7))),b<1||!l[0])return i?(f=O(a),l.length=1,b=b-f-1,l[0]=ae(10,(ai-b%ai)%ai),a.e=ad(-b/ai)||0):(l.length=1,l[0]=a.e=a.s=0),a;if(0==d?(l.length=k,f=1,k--):(l.length=k+1,f=ae(10,ai-d),l[k]=e>0?(j/ae(10,g-e)%ae(10,e)|0)*f:0),i)for(;;)if(0==k){(l[0]+=f)==ah&&(l[0]=1,++a.e);break}else{if(l[k]+=f,l[k]!=ah)break;l[k--]=0,f=1}for(d=l.length;0===l[--d];)l.pop();if(_&&(a.e>aj||a.e<-aj))throw Error(ac+O(a));return a}function U(a,b){var c,d,e,f,g,h,i,j,k,l,m=a.constructor,n=m.precision;if(!a.s||!b.s)return b.s?b.s=-b.s:b=new m(a),_?T(b,n):b;if(i=a.d,l=b.d,d=b.e,j=a.e,i=i.slice(),g=j-d){for((k=g<0)?(c=i,g=-g,h=l.length):(c=l,d=j,h=i.length),g>(e=Math.max(Math.ceil(n/ai),h)+2)&&(g=e,c.length=1),c.reverse(),e=g;e--;)c.push(0);c.reverse()}else{for((k=(e=i.length)<(h=l.length))&&(h=e),e=0;e<h;e++)if(i[e]!=l[e]){k=i[e]<l[e];break}g=0}for(k&&(c=i,i=l,l=c,b.s=-b.s),h=i.length,e=l.length-h;e>0;--e)i[h++]=0;for(e=l.length;e>g;){if(i[--e]<l[e]){for(f=e;f&&0===i[--f];)i[f]=ah-1;--i[f],i[e]+=ah}i[e]-=l[e]}for(;0===i[--h];)i.pop();for(;0===i[0];i.shift())--d;return i[0]?(b.d=i,b.e=d,_?T(b,n):b):new m(0)}function V(a,b,c){var d,e=O(a),f=M(a.d),g=f.length;return b?(c&&(d=c-g)>0?f=f.charAt(0)+"."+f.slice(1)+Q(d):g>1&&(f=f.charAt(0)+"."+f.slice(1)),f=f+(e<0?"e":"e+")+e):e<0?(f="0."+Q(-e-1)+f,c&&(d=c-g)>0&&(f+=Q(d))):e>=g?(f+=Q(e+1-g),c&&(d=c-e-1)>0&&(f=f+"."+Q(d))):((d=e+1)<g&&(f=f.slice(0,d)+"."+f.slice(d)),c&&(d=c-g)>0&&(e+1===g&&(f+="."),f+=Q(d))),a.s<0?"-"+f:f}function W(a,b){if(a.length>b)return a.length=b,!0}function X(a){if(!a||"object"!=typeof a)throw Error(aa+"Object expected");var b,c,d,e=["precision",1,Y,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(b=0;b<e.length;b+=3)if(void 0!==(d=a[c=e[b]]))if(ad(d)===d&&d>=e[b+1]&&d<=e[b+2])this[c]=d;else throw Error(ab+c+": "+d);if(void 0!==(d=a[c="LN10"]))if(d==Math.LN10)this[c]=new this(d);else throw Error(ab+c+": "+d);return this}var Y,Z,$,_,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap=h(()=>{F(),G(),H(),I(),J(),aq(),Y=1e9,Z={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},_=!0,ab=(aa="[DecimalError] ")+"Invalid argument: ",ac=aa+"Exponent out of range: ",ad=Math.floor,ae=Math.pow,af=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ah=1e7,aj=ad(0x1fffffffffffff/(ai=7)),(ak={}).absoluteValue=ak.abs=function(){var a=new this.constructor(this);return a.s&&(a.s=1),a},ak.comparedTo=ak.cmp=function(a){var b,c,d,e;if(a=new this.constructor(a),this.s!==a.s)return this.s||-a.s;if(this.e!==a.e)return this.e>a.e^this.s<0?1:-1;for(d=this.d.length,e=a.d.length,b=0,c=d<e?d:e;b<c;++b)if(this.d[b]!==a.d[b])return this.d[b]>a.d[b]^this.s<0?1:-1;return d===e?0:d>e^this.s<0?1:-1},ak.decimalPlaces=ak.dp=function(){var a=this.d.length-1,b=(a-this.e)*ai;if(a=this.d[a])for(;a%10==0;a/=10)b--;return b<0?0:b},ak.dividedBy=ak.div=function(a){return al(this,new this.constructor(a))},ak.dividedToIntegerBy=ak.idiv=function(a){var b=this.constructor;return T(al(this,new b(a),0,1),b.precision)},ak.equals=ak.eq=function(a){return!this.cmp(a)},ak.exponent=function(){return O(this)},ak.greaterThan=ak.gt=function(a){return this.cmp(a)>0},ak.greaterThanOrEqualTo=ak.gte=function(a){return this.cmp(a)>=0},ak.isInteger=ak.isint=function(){return this.e>this.d.length-2},ak.isNegative=ak.isneg=function(){return this.s<0},ak.isPositive=ak.ispos=function(){return this.s>0},ak.isZero=function(){return 0===this.s},ak.lessThan=ak.lt=function(a){return 0>this.cmp(a)},ak.lessThanOrEqualTo=ak.lte=function(a){return 1>this.cmp(a)},ak.logarithm=ak.log=function(a){var b,c=this.constructor,d=c.precision,e=d+5;if(void 0===a)a=new c(10);else if((a=new c(a)).s<1||a.eq(ag))throw Error(aa+"NaN");if(this.s<1)throw Error(aa+(this.s?"NaN":"-Infinity"));return this.eq(ag)?new c(0):(_=!1,b=al(R(this,e),R(a,e),e),_=!0,T(b,d))},ak.minus=ak.sub=function(a){return a=new this.constructor(a),this.s==a.s?U(this,a):K(this,(a.s=-a.s,a))},ak.modulo=ak.mod=function(a){var b,c=this.constructor,d=c.precision;if(!(a=new c(a)).s)throw Error(aa+"NaN");return this.s?(_=!1,b=al(this,a,0,1).times(a),_=!0,this.minus(b)):T(new c(this),d)},ak.naturalExponential=ak.exp=function(){return N(this)},ak.naturalLogarithm=ak.ln=function(){return R(this)},ak.negated=ak.neg=function(){var a=new this.constructor(this);return a.s=-a.s||0,a},ak.plus=ak.add=function(a){return a=new this.constructor(a),this.s==a.s?K(this,a):U(this,(a.s=-a.s,a))},ak.precision=ak.sd=function(a){var b,c,d;if(void 0!==a&&!!a!==a&&1!==a&&0!==a)throw Error(ab+a);if(b=O(this)+1,c=(d=this.d.length-1)*ai+1,d=this.d[d]){for(;d%10==0;d/=10)c--;for(d=this.d[0];d>=10;d/=10)c++}return a&&b>c?b:c},ak.squareRoot=ak.sqrt=function(){var a,b,c,d,e,f,g,h=this.constructor;if(this.s<1){if(!this.s)return new h(0);throw Error(aa+"NaN")}for(a=O(this),_=!1,0==(e=Math.sqrt(+this))||e==1/0?(((b=M(this.d)).length+a)%2==0&&(b+="0"),e=Math.sqrt(b),a=ad((a+1)/2)-(a<0||a%2),d=new h(b=e==1/0?"5e"+a:(b=e.toExponential()).slice(0,b.indexOf("e")+1)+a)):d=new h(e.toString()),e=g=(c=h.precision)+3;;)if(d=(f=d).plus(al(this,f,g+2)).times(.5),M(f.d).slice(0,g)===(b=M(d.d)).slice(0,g)){if(b=b.slice(g-3,g+1),e==g&&"4999"==b){if(T(f,c+1,0),f.times(f).eq(this)){d=f;break}}else if("9999"!=b)break;g+=4}return _=!0,T(d,c)},ak.times=ak.mul=function(a){var b,c,d,e,f,g,h,i,j,k=this.constructor,l=this.d,m=(a=new k(a)).d;if(!this.s||!a.s)return new k(0);for(a.s*=this.s,c=this.e+a.e,(i=l.length)<(j=m.length)&&(f=l,l=m,m=f,g=i,i=j,j=g),f=[],d=g=i+j;d--;)f.push(0);for(d=j;--d>=0;){for(b=0,e=i+d;e>d;)h=f[e]+m[d]*l[e-d-1]+b,f[e--]=h%ah|0,b=h/ah|0;f[e]=(f[e]+b)%ah|0}for(;!f[--g];)f.pop();return b?++c:f.shift(),a.d=f,a.e=c,_?T(a,k.precision):a},ak.toDecimalPlaces=ak.todp=function(a,b){var c=this,d=c.constructor;return c=new d(c),void 0===a?c:(L(a,0,Y),void 0===b?b=d.rounding:L(b,0,8),T(c,a+O(c)+1,b))},ak.toExponential=function(a,b){var c,d=this,e=d.constructor;return void 0===a?c=V(d,!0):(L(a,0,Y),void 0===b?b=e.rounding:L(b,0,8),c=V(d=T(new e(d),a+1,b),!0,a+1)),c},ak.toFixed=function(a,b){var c,d,e=this.constructor;return void 0===a?V(this):(L(a,0,Y),void 0===b?b=e.rounding:L(b,0,8),c=V((d=T(new e(this),a+O(this)+1,b)).abs(),!1,a+O(d)+1),this.isneg()&&!this.isZero()?"-"+c:c)},ak.toInteger=ak.toint=function(){var a=this.constructor;return T(new a(this),O(this)+1,a.rounding)},ak.toNumber=function(){return+this},ak.toPower=ak.pow=function(a){var b,c,d,e,f,g,h=this,i=h.constructor,j=+(a=new i(a));if(!a.s)return new i(ag);if(!(h=new i(h)).s){if(a.s<1)throw Error(aa+"Infinity");return h}if(h.eq(ag))return h;if(d=i.precision,a.eq(ag))return T(h,d);if(g=(b=a.e)>=(c=a.d.length-1),f=h.s,g){if((c=j<0?-j:j)<=0x1fffffffffffff){for(e=new i(ag),b=Math.ceil(d/ai+4),_=!1;c%2&&W((e=e.times(h)).d,b),0!==(c=ad(c/2));)W((h=h.times(h)).d,b);return _=!0,a.s<0?new i(ag).div(e):T(e,d)}}else if(f<0)throw Error(aa+"NaN");return f=f<0&&1&a.d[Math.max(b,c)]?-1:1,h.s=1,_=!1,e=a.times(R(h,d+12)),_=!0,(e=N(e)).s=f,e},ak.toPrecision=function(a,b){var c,d,e=this,f=e.constructor;return void 0===a?(c=O(e),d=V(e,c<=f.toExpNeg||c>=f.toExpPos)):(L(a,1,Y),void 0===b?b=f.rounding:L(b,0,8),c=O(e=T(new f(e),a,b)),d=V(e,a<=c||c<=f.toExpNeg,a)),d},ak.toSignificantDigits=ak.tosd=function(a,b){var c=this.constructor;return void 0===a?(a=c.precision,b=c.rounding):(L(a,1,Y),void 0===b?b=c.rounding:L(b,0,8)),T(new c(this),a,b)},ak.toString=ak.valueOf=ak.val=ak.toJSON=ak[Symbol.for("nodejs.util.inspect.custom")]=function(){var a=O(this),b=this.constructor;return V(this,a<=b.toExpNeg||a>=b.toExpPos)},al=function(){function a(a,b){var c,d=0,e=a.length;for(a=a.slice();e--;)c=a[e]*b+d,a[e]=c%ah|0,d=c/ah|0;return d&&a.unshift(d),a}function b(a,b,c,d){var e,f;if(c!=d)f=c>d?1:-1;else for(e=f=0;e<c;e++)if(a[e]!=b[e]){f=a[e]>b[e]?1:-1;break}return f}function c(a,b,c){for(var d=0;c--;)a[c]-=d,d=+(a[c]<b[c]),a[c]=d*ah+a[c]-b[c];for(;!a[0]&&a.length>1;)a.shift()}return function(d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z=d.constructor,A=d.s==e.s?1:-1,B=d.d,C=e.d;if(!d.s)return new z(d);if(!e.s)throw Error(aa+"Division by zero");for(i=d.e-e.e,x=C.length,v=B.length,o=(n=new z(A)).d=[],j=0;C[j]==(B[j]||0);)++j;if(C[j]>(B[j]||0)&&--i,(s=null==f?f=z.precision:g?f+(O(d)-O(e))+1:f)<0)return new z(0);if(s=s/ai+2|0,j=0,1==x)for(k=0,C=C[0],s++;(j<v||k)&&s--;j++)t=k*ah+(B[j]||0),o[j]=t/C|0,k=t%C|0;else{for((k=ah/(C[0]+1)|0)>1&&(C=a(C,k),B=a(B,k),x=C.length,v=B.length),u=x,q=(p=B.slice(0,x)).length;q<x;)p[q++]=0;(y=C.slice()).unshift(0),w=C[0],C[1]>=ah/2&&++w;do k=0,(h=b(C,p,x,q))<0?(r=p[0],x!=q&&(r=r*ah+(p[1]||0)),(k=r/w|0)>1?(k>=ah&&(k=ah-1),m=(l=a(C,k)).length,q=p.length,1==(h=b(l,p,m,q))&&(k--,c(l,x<m?y:C,m))):(0==k&&(h=k=1),l=C.slice()),(m=l.length)<q&&l.unshift(0),c(p,l,q),-1==h&&(q=p.length,(h=b(C,p,x,q))<1&&(k++,c(p,x<q?y:C,q))),q=p.length):0===h&&(k++,p=[0]),o[j++]=k,h&&p[0]?p[q++]=B[u]||0:(p=[B[u]],q=1);while((u++<v||void 0!==p[0])&&s--)}return o[0]||o.shift(),n.e=i,T(n,g?f+O(n)+1:f)}}(),ag=new($=function a(b){var c,d,e;function f(a){if(!(this instanceof f))return new f(a);if(this.constructor=f,a instanceof f){this.s=a.s,this.e=a.e,this.d=(a=a.d)?a.slice():a;return}if("number"==typeof a){if(0*a!=0)throw Error(ab+a);if(a>0)this.s=1;else if(a<0)a=-a,this.s=-1;else{this.s=0,this.e=0,this.d=[0];return}if(a===~~a&&a<1e7){this.e=0,this.d=[a];return}return S(this,a.toString())}if("string"!=typeof a)throw Error(ab+a);if(45===a.charCodeAt(0)?(a=a.slice(1),this.s=-1):this.s=1,af.test(a))S(this,a);else throw Error(ab+a)}if(f.prototype=ak,f.ROUND_UP=0,f.ROUND_DOWN=1,f.ROUND_CEIL=2,f.ROUND_FLOOR=3,f.ROUND_HALF_UP=4,f.ROUND_HALF_DOWN=5,f.ROUND_HALF_EVEN=6,f.ROUND_HALF_CEIL=7,f.ROUND_HALF_FLOOR=8,f.clone=a,f.config=f.set=X,void 0===b&&(b={}),b)for(e=["precision","rounding","toExpNeg","toExpPos","LN10"],c=0;c<e.length;)b.hasOwnProperty(d=e[c++])||(b[d]=this[d]);return f.config(b),f}(Z))(1),am=$}),aq=h(()=>{ap(),ao=an=class extends am{static isDecimal(a){return a instanceof am}static random(a=20){{let b=globalThis.crypto.getRandomValues(new Uint8Array(a)).reduce((a,b)=>a+b,"");return new am(`0.${b.slice(0,a)}`)}}}});function ar(){return!1}function as(){return{dev:0,ino:0,mode:0,nlink:0,uid:0,gid:0,rdev:0,size:0,blksize:0,blocks:0,atimeMs:0,mtimeMs:0,ctimeMs:0,birthtimeMs:0,atime:new Date,mtime:new Date,ctime:new Date,birthtime:new Date}}function at(){return as()}function au(){return[]}function av(a){a(null,[])}function aw(){return""}function ax(){return""}function ay(){}function az(){}function aA(){}function aB(){}function aC(){}function aD(){}var aE,aF=h(()=>{F(),G(),H(),I(),J(),aq(),aE={existsSync:ar,lstatSync:as,statSync:at,readdirSync:au,readdir:av,readlinkSync:aw,realpathSync:ax,chmodSync:ay,renameSync:az,mkdirSync:aA,rmdirSync:aB,rmSync:aC,unlinkSync:aD,promises:{}}});function aG(...a){return a.join("/")}function aH(...a){return a.join("/")}function aI(a){let b=aJ(a),c=aK(a),[d,e]=b.split(".");return{root:"/",dir:c,base:b,ext:e,name:d}}function aJ(a){let b=a.split("/");return b[b.length-1]}function aK(a){return a.split("/").slice(0,-1).join("/")}var aL,aM,aN=h(()=>{F(),G(),H(),I(),J(),aq(),aL={basename:aJ,dirname:aK,join:aH,parse:aI,posix:{sep:"/"},resolve:aG,sep:"/"}}),aO=i((a,b)=>{b.exports={name:"@prisma/internals",version:"6.5.0",description:"This package is intended for Prisma's internal use",main:"dist/index.js",types:"dist/index.d.ts",repository:{type:"git",url:"https://github.com/prisma/prisma.git",directory:"packages/internals"},homepage:"https://www.prisma.io",author:"Tim Suchanek <suchanek@prisma.io>",bugs:"https://github.com/prisma/prisma/issues",license:"Apache-2.0",scripts:{dev:"DEV=true tsx helpers/build.ts",build:"tsx helpers/build.ts",test:"dotenv -e ../../.db.env -- jest --silent",prepublishOnly:"pnpm run build"},files:["README.md","dist","!**/libquery_engine*","!dist/get-generators/engines/*","scripts"],devDependencies:{"@antfu/ni":"0.21.12","@babel/helper-validator-identifier":"7.25.9","@opentelemetry/api":"1.9.0","@swc/core":"1.11.5","@swc/jest":"0.2.37","@types/babel__helper-validator-identifier":"7.15.2","@types/jest":"29.5.14","@types/node":"18.19.76","@types/resolve":"1.20.6",archiver:"6.0.2","checkpoint-client":"1.1.33","cli-truncate":"4.0.0",dotenv:"16.4.7",esbuild:"0.24.2","escape-string-regexp":"4.0.0",execa:"5.1.1","fast-glob":"3.3.3","find-up":"7.0.0","fp-ts":"2.16.9","fs-extra":"11.3.0","fs-jetpack":"5.1.0","global-dirs":"4.0.0",globby:"11.1.0","identifier-regex":"1.0.0","indent-string":"4.0.0","is-windows":"1.0.2","is-wsl":"3.1.0",jest:"29.7.0","jest-junit":"16.0.0",kleur:"4.1.5","mock-stdin":"1.0.0","new-github-issue-url":"0.2.1","node-fetch":"3.3.2","npm-packlist":"5.1.3",open:"7.4.2","p-map":"4.0.0","read-package-up":"11.0.0",resolve:"1.22.10","string-width":"4.2.3","strip-ansi":"6.0.1","strip-indent":"3.0.0","temp-dir":"2.0.0",tempy:"1.0.1","terminal-link":"2.1.1",tmp:"0.2.3","ts-node":"10.9.2","ts-pattern":"5.6.2","ts-toolbelt":"9.6.0",typescript:"5.4.5",yarn:"1.22.22"},dependencies:{"@prisma/config":"workspace:*","@prisma/debug":"workspace:*","@prisma/engines":"workspace:*","@prisma/fetch-engine":"workspace:*","@prisma/generator-helper":"workspace:*","@prisma/get-platform":"workspace:*","@prisma/prisma-schema-wasm":"6.5.0-73.173f8d54f8d52e692c7e27e72a88314ec7aeff60","@prisma/schema-files-loader":"workspace:*",arg:"5.0.2",prompts:"2.4.2"},peerDependencies:{typescript:">=5.1.0"},peerDependenciesMeta:{typescript:{optional:!0}},sideEffects:!1}}),aP=h(()=>{F(),G(),H(),I(),J(),aq(),aM=class{events={};on(a,b){return this.events[a]||(this.events[a]=[]),this.events[a].push(b),this}emit(a,...b){return!!this.events[a]&&(this.events[a].forEach(a=>{a(...b)}),!0)}}}),aQ=i((a,b)=>{F(),G(),H(),I(),J(),aq(),b.exports=(a,b=1,c)=>{if(c={indent:" ",includeEmptyLines:!1,...c},"string"!=typeof a)throw TypeError(`Expected \`input\` to be a \`string\`, got \`${typeof a}\``);if("number"!=typeof b)throw TypeError(`Expected \`count\` to be a \`number\`, got \`${typeof b}\``);if("string"!=typeof c.indent)throw TypeError(`Expected \`options.indent\` to be a \`string\`, got \`${typeof c.indent}\``);if(0===b)return a;let d=c.includeEmptyLines?/^/gm:/^(?!\s*$)/gm;return a.replace(d,c.indent.repeat(b))}}),aR=i((a,b)=>{F(),G(),H(),I(),J(),aq(),b.exports=({onlyFirst:a=!1}={})=>RegExp("[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)|(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))",a?void 0:"g")}),aS=i((a,b)=>{F(),G(),H(),I(),J(),aq();var c=aR();b.exports=a=>"string"==typeof a?a.replace(c(),""):a}),aT=i((a,b)=>{F(),G(),H(),I(),J(),aq(),b.exports=function(){function a(a,b,c,d,e){return a<b||c<b?a>c?c+1:a+1:d===e?b:b+1}return function(b,c){if(b===c)return 0;if(b.length>c.length){var d=b;b=c,c=d}for(var e=b.length,f=c.length;e>0&&b.charCodeAt(e-1)===c.charCodeAt(f-1);)e--,f--;for(var g=0;g<e&&b.charCodeAt(g)===c.charCodeAt(g);)g++;if(e-=g,f-=g,0===e||f<3)return f;var h,i,j,k,l,m,n,o,p,q,r,s,t=0,u=[];for(h=0;h<e;h++)u.push(h+1),u.push(b.charCodeAt(g+h));for(var v=u.length-1;t<f-3;)for(p=c.charCodeAt(g+(i=t)),q=c.charCodeAt(g+(j=t+1)),r=c.charCodeAt(g+(k=t+2)),s=c.charCodeAt(g+(l=t+3)),m=t+=4,h=0;h<v;h+=2)i=a(n=u[h],i,j,p,o=u[h+1]),j=a(i,j,k,q,o),k=a(j,k,l,r,o),m=a(k,l,m,s,o),u[h]=m,l=k,k=j,j=i,i=n;for(;t<f;)for(p=c.charCodeAt(g+(i=t)),m=++t,h=0;h<v;h+=2)n=u[h],u[h]=m=a(n,i,m,p,u[h+1]),i=n;return m}}()}),aU=i((a,b)=>{b.exports={name:"@prisma/engines-version",version:"6.5.0-73.173f8d54f8d52e692c7e27e72a88314ec7aeff60",main:"index.js",types:"index.d.ts",license:"Apache-2.0",author:"Tim Suchanek <suchanek@prisma.io>",prisma:{enginesVersion:"173f8d54f8d52e692c7e27e72a88314ec7aeff60"},repository:{type:"git",url:"https://github.com/prisma/engines-wrapper.git",directory:"packages/engines-version"},devDependencies:{"@types/node":"18.19.76",typescript:"4.9.5"},files:["index.js","index.d.ts"],scripts:{build:"tsc -d"}}}),aV={};j(aV,{Debug:()=>br,Decimal:()=>ao,Extensions:()=>aW,MetricsClient:()=>cQ,PrismaClientInitializationError:()=>bI,PrismaClientKnownRequestError:()=>bJ,PrismaClientRustPanicError:()=>bK,PrismaClientUnknownRequestError:()=>bL,PrismaClientValidationError:()=>bM,Public:()=>aZ,Sql:()=>c$,createParam:()=>cE,defineDmmfProperty:()=>cT,deserializeJsonResponse:()=>bN,deserializeRawResult:()=>ef,dmmfToRuntimeDataModel:()=>cR,empty:()=>c1,getPrismaClient:()=>ev,getRuntime:()=>dJ,join:()=>c_,makeStrictEnum:()=>ey,makeTypedQueryFactory:()=>cX,objectEnumValues:()=>cp,raw:()=>c0,serializeJsonQuery:()=>cL,skip:()=>cH,sqltag:()=>c2,warnEnvConflicts:()=>void 0,warnOnce:()=>bH}),a.exports=k(c({},"__esModule",{value:!0}),aV),F(),G(),H(),I(),J(),aq();var aW={};function aX(a){return"function"==typeof a?a:b=>b.$extends(a)}function aY(a){return a}j(aW,{defineExtension:()=>aX,getExtensionContext:()=>aY}),F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq();var aZ={};function a$(){return a=>a}function a_(a){return"DriverAdapterError"===a.name&&"object"==typeof a.cause}function a0(a){return{ok:!0,value:a,map:b=>a0(b(a)),flatMap:b=>b(a)}}function a1(a){return{ok:!1,error:a,map:()=>a1(a),flatMap:()=>a1(a)}}j(aZ,{validator:()=>a$}),F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq();var a2=class{registeredErrors=[];consumeError(a){return this.registeredErrors[a]}registerNewError(a){let b=0;for(;void 0!==this.registeredErrors[b];)b++;return this.registeredErrors[b]={error:a},b}},a3=(a,b)=>({adapterName:b.adapterName,provider:b.provider,options:b.options,queryRaw:a4(a,b.queryRaw.bind(b)),executeRaw:a4(a,b.executeRaw.bind(b)),commit:a4(a,b.commit.bind(b)),rollback:a4(a,b.rollback.bind(b))});function a4(a,b){return async(...c)=>{try{return a0(await b(...c))}catch(b){if(a_(b))return a1(b.cause);return a1({kind:"GenericJs",id:a.registerNewError(b)})}}}F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq();var a5,a6,a7,a8,a9=!0;"u">typeof C&&({FORCE_COLOR:a5,NODE_DISABLE_COLORS:a6,NO_COLOR:a7,TERM:a8}=C.env||{},a9=C.stdout&&C.stdout.isTTY);var ba={enabled:!a6&&null==a7&&"dumb"!==a8&&(null!=a5&&"0"!==a5||a9)};function bb(a,b){let c=RegExp(`\\x1b\\[${b}m`,"g"),d=`\x1b[${a}m`,e=`\x1b[${b}m`;return function(a){return ba.enabled&&null!=a?d+(~(""+a).indexOf(e)?a.replace(c,e+d):a)+e:a}}bb(0,0);var bc=bb(1,22),bd=bb(2,22),be=(bb(3,23),bb(4,24)),bf=(bb(7,27),bb(8,28),bb(9,29),bb(30,39),bb(31,39)),bg=bb(32,39),bh=bb(33,39),bi=bb(34,39),bj=(bb(35,39),bb(36,39)),bk=(bb(37,39),bb(90,39));bb(90,39),bb(40,49),bb(41,49),bb(42,49),bb(43,49),bb(44,49),bb(45,49),bb(46,49),bb(47,49);var bl=["green","yellow","blue","magenta","cyan","red"],bm=[],bn=Date.now(),bo=0,bp="u">typeof C?C.env:{};globalThis.DEBUG??=bp.DEBUG??"",globalThis.DEBUG_COLORS??=!bp.DEBUG_COLORS||"true"===bp.DEBUG_COLORS;var bq={enable(a){"string"==typeof a&&(globalThis.DEBUG=a)},disable(){let a=globalThis.DEBUG;return globalThis.DEBUG="",a},enabled(a){let b=globalThis.DEBUG.split(",").map(a=>a.replace(/[.+?^${}()|[\]\\]/g,"\\$&")),c=b.some(b=>""!==b&&"-"!==b[0]&&a.match(RegExp(b.split("*").join(".*")+"$"))),d=b.some(b=>""!==b&&"-"===b[0]&&a.match(RegExp(b.slice(1).split("*").join(".*")+"$")));return c&&!d},log:(...a)=>{let[b,c,...d]=a;(console.warn??console.log)(`${b} ${c}`,...d)},formatters:{}},br=new Proxy(function(a){let b={color:bl[bo++%bl.length],enabled:bq.enabled(a),namespace:a,log:bq.log,extend:()=>{}};return new Proxy((...a)=>{let{enabled:c,namespace:d,color:e,log:f}=b;if(0!==a.length&&bm.push([d,...a]),bm.length>100&&bm.shift(),bq.enabled(d)||c){let b=a.map(a=>"string"==typeof a?a:function(a,b=2){let c=new Set;return JSON.stringify(a,(a,b)=>{if("object"==typeof b&&null!==b){if(c.has(b))return"[Circular *]";c.add(b)}else if("bigint"==typeof b)return b.toString();return b},b)}(a)),c=`+${Date.now()-bn}ms`;bn=Date.now(),f(d,...b,c)}},{get:(a,c)=>b[c],set:(a,c,d)=>b[c]=d})},{get:(a,b)=>bq[b],set:(a,b,c)=>bq[b]=c});F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq();var bs=aO().version;function bt(a){let b;return("library"===(b=C.env.PRISMA_CLIENT_ENGINE_TYPE)?"library":"binary"===b?"binary":"client"===b?"client":void 0)||(a?.config.engineType==="library"?"library":a?.config.engineType==="binary"?"binary":a?.config.engineType==="client"?"client":"library")}F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq();F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq(),dL=dM||={},(a=>(a.findUnique="findUnique",a.findUniqueOrThrow="findUniqueOrThrow",a.findFirst="findFirst",a.findFirstOrThrow="findFirstOrThrow",a.findMany="findMany",a.create="create",a.createMany="createMany",a.createManyAndReturn="createManyAndReturn",a.update="update",a.updateMany="updateMany",a.updateManyAndReturn="updateManyAndReturn",a.upsert="upsert",a.delete="delete",a.deleteMany="deleteMany",a.groupBy="groupBy",a.count="count",a.aggregate="aggregate",a.findRaw="findRaw",a.aggregateRaw="aggregateRaw"))(dL.ModelAction||={});var bu={};j(bu,{error:()=>bA,info:()=>bz,log:()=>bx,query:()=>bB,should:()=>bw,tags:()=>bv,warn:()=>by}),F(),G(),H(),I(),J(),aq();var bv={error:bf("prisma:error"),warn:bh("prisma:warn"),info:bj("prisma:info"),query:bi("prisma:query")},bw={warn:()=>!C.env.PRISMA_DISABLE_WARNINGS};function bx(...a){console.log(...a)}function by(a,...b){bw.warn()&&console.warn(`${bv.warn} ${a}`,...b)}function bz(a,...b){console.info(`${bv.info} ${a}`,...b)}function bA(a,...b){console.error(`${bv.error} ${a}`,...b)}function bB(a,...b){console.log(`${bv.query} ${a}`,...b)}function bC(a,b){if(!a)throw Error(`${b}. This should never happen. If you see this error, please, open an issue at https://pris.ly/prisma-prisma-bug-report`)}function bD(a,b){throw Error(b)}function bE(a,b){let c={};for(let d of Object.keys(a))c[d]=b(a[d],d);return c}function bF(a,b){Object.defineProperty(a,"name",{value:b,configurable:!0})}F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq();var bG=new Set,bH=(a,b,...c)=>{bG.has(a)||(bG.add(a),by(b,...c))},bI=class a extends Error{clientVersion;errorCode;retryable;constructor(b,c,d){super(b),this.name="PrismaClientInitializationError",this.clientVersion=c,this.errorCode=d,Error.captureStackTrace(a)}get[Symbol.toStringTag](){return"PrismaClientInitializationError"}};bF(bI,"PrismaClientInitializationError"),F(),G(),H(),I(),J(),aq();var bJ=class extends Error{code;meta;clientVersion;batchRequestIdx;constructor(a,{code:b,clientVersion:c,meta:d,batchRequestIdx:e}){super(a),this.name="PrismaClientKnownRequestError",this.code=b,this.clientVersion=c,this.meta=d,Object.defineProperty(this,"batchRequestIdx",{value:e,enumerable:!1,writable:!0})}get[Symbol.toStringTag](){return"PrismaClientKnownRequestError"}};bF(bJ,"PrismaClientKnownRequestError"),F(),G(),H(),I(),J(),aq();var bK=class extends Error{clientVersion;constructor(a,b){super(a),this.name="PrismaClientRustPanicError",this.clientVersion=b}get[Symbol.toStringTag](){return"PrismaClientRustPanicError"}};bF(bK,"PrismaClientRustPanicError"),F(),G(),H(),I(),J(),aq();var bL=class extends Error{clientVersion;batchRequestIdx;constructor(a,{clientVersion:b,batchRequestIdx:c}){super(a),this.name="PrismaClientUnknownRequestError",this.clientVersion=b,Object.defineProperty(this,"batchRequestIdx",{value:c,writable:!0,enumerable:!1})}get[Symbol.toStringTag](){return"PrismaClientUnknownRequestError"}};bF(bL,"PrismaClientUnknownRequestError"),F(),G(),H(),I(),J(),aq();var bM=class extends Error{name="PrismaClientValidationError";clientVersion;constructor(a,{clientVersion:b}){super(a),this.clientVersion=b}get[Symbol.toStringTag](){return"PrismaClientValidationError"}};function bN(a){var b;return null===a?a:Array.isArray(a)?a.map(bN):"object"==typeof a?null!==(b=a)&&"object"==typeof b&&"string"==typeof b.$type?function({$type:a,value:b}){switch(a){case"BigInt":return BigInt(b);case"Bytes":{let{buffer:a,byteOffset:c,byteLength:d}=A.from(b,"base64");return new Uint8Array(a,c,d)}case"DateTime":return new Date(b);case"Decimal":return new ao(b);case"Json":return JSON.parse(b);default:bD(b,"Unknown tagged value")}}(a):bE(a,bN):a}function bO(a){return a.substring(0,1).toLowerCase()+a.substring(1)}function bP(a){return a instanceof Date||"[object Date]"===Object.prototype.toString.call(a)}function bQ(a){return"Invalid Date"!==a.toString()}function bR(a){return!!an.isDecimal(a)||null!==a&&"object"==typeof a&&"number"==typeof a.s&&"number"==typeof a.e&&"function"==typeof a.toFixed&&Array.isArray(a.d)}bF(bM,"PrismaClientValidationError"),F(),G(),H(),I(),J(),aq(),aq(),F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq(),aq(),F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq(),l(aQ());var bS={red:bf,gray:bk,dim:bd,bold:bc,underline:be,highlightSource:a=>a.highlight()},bT={red:a=>a,gray:a=>a,dim:a=>a,bold:a=>a,underline:a=>a,highlightSource:a=>a};function bU(a){let b=a.showColors?bS:bT;return function({functionName:a,location:b,message:c,isPanic:d,contextLines:e,callArguments:f},g){var h;let i,j=[""],k=b?" in":":";if(d?(j.push(g.red(`Oops, an unknown error occurred! This is ${g.bold("on us")}, you did nothing wrong.`)),j.push(g.red(`It occurred in the ${g.bold(`\`${a}\``)} invocation${k}`))):j.push(g.red(`Invalid ${g.bold(`\`${a}\``)} invocation${k}`)),b&&j.push(g.underline((i=[(h=b).fileName],h.lineNumber&&i.push(String(h.lineNumber)),h.columnNumber&&i.push(String(h.columnNumber)),i.join(":")))),e){j.push("");let a=[e.toString()];f&&(a.push(f),a.push(g.dim(")"))),j.push(a.join("")),f&&j.push("")}else j.push(""),f&&j.push(f),j.push("");return j.push(c),j.join(`
`)}("u">typeof $getTemplateParameters?$getTemplateParameters(a,b):function({message:a,originalMethod:b,isPanic:c,callArguments:d}){return{functionName:`prisma.${b}()`,message:a,isPanic:c??!1,callArguments:d}}(a),b)}F(),G(),H(),I(),J(),aq();var bV=l(aT());function bW(a){let b=0;return Array.isArray(a.selectionPath)&&(b+=a.selectionPath.length),Array.isArray(a.argumentPath)&&(b+=a.argumentPath.length),b}function bX(a){switch(a.kind){case"InvalidArgumentValue":case"ValueTooLarge":return 20;case"InvalidArgumentType":return 10;case"RequiredArgumentMissing":return -10;default:return 0}}F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq();var bY=class{constructor(a,b){this.name=a,this.value=b}isRequired=!1;makeRequired(){return this.isRequired=!0,this}write(a){let{colors:{green:b}}=a.context;a.addMarginSymbol(b(this.isRequired?"+":"?")),a.write(b(this.name)),this.isRequired||a.write(b("?")),a.write(b(": ")),"string"==typeof this.value?a.write(b(this.value)):a.write(this.value)}};F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq();var bZ=class{constructor(a=0,b){this.context=b,this.currentIndent=a}lines=[];currentLine="";currentIndent=0;marginSymbol;afterNextNewLineCallback;write(a){return"string"==typeof a?this.currentLine+=a:a.write(this),this}writeJoined(a,b,c=(a,b)=>b.write(a)){let d=b.length-1;for(let e=0;e<b.length;e++)c(b[e],this),e!==d&&this.write(a);return this}writeLine(a){return this.write(a).newLine()}newLine(){this.lines.push(this.indentedCurrentLine()),this.currentLine="",this.marginSymbol=void 0;let a=this.afterNextNewLineCallback;return this.afterNextNewLineCallback=void 0,a?.(),this}withIndent(a){return this.indent(),a(this),this.unindent(),this}afterNextNewline(a){return this.afterNextNewLineCallback=a,this}indent(){return this.currentIndent++,this}unindent(){return this.currentIndent>0&&this.currentIndent--,this}addMarginSymbol(a){return this.marginSymbol=a,this}toString(){return this.lines.concat(this.indentedCurrentLine()).join(`
`)}getCurrentLineLength(){return this.currentLine.length}indentedCurrentLine(){let a=this.currentLine.padStart(this.currentLine.length+2*this.currentIndent);return this.marginSymbol?this.marginSymbol+a.slice(1):a}};F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq();var b$=class{constructor(a){this.value=a}write(a){a.write(this.value)}markAsError(){this.value.markAsError()}};F(),G(),H(),I(),J(),aq();var b_=a=>a,b0={bold:b_,red:b_,green:b_,dim:b_,enabled:!1},b1={bold:bc,red:bf,green:bg,dim:bd,enabled:!0},b2={write(a){a.writeLine(",")}};F(),G(),H(),I(),J(),aq();var b3=class{constructor(a){this.contents=a}isUnderlined=!1;color=a=>a;underline(){return this.isUnderlined=!0,this}setColor(a){return this.color=a,this}write(a){let b=a.getCurrentLineLength();a.write(this.color(this.contents)),this.isUnderlined&&a.afterNextNewline(()=>{a.write(" ".repeat(b)).writeLine(this.color("~".repeat(this.contents.length)))})}};F(),G(),H(),I(),J(),aq();var b4=class{hasError=!1;markAsError(){return this.hasError=!0,this}},b5=class extends b4{items=[];addItem(a){return this.items.push(new b$(a)),this}getField(a){return this.items[a]}getPrintWidth(){return 0===this.items.length?2:Math.max(...this.items.map(a=>a.value.getPrintWidth()))+2}write(a){if(0===this.items.length)return void this.writeEmpty(a);this.writeWithItems(a)}writeEmpty(a){let b=new b3("[]");this.hasError&&b.setColor(a.context.colors.red).underline(),a.write(b)}writeWithItems(a){let{colors:b}=a.context;a.writeLine("[").withIndent(()=>a.writeJoined(b2,this.items).newLine()).write("]"),this.hasError&&a.afterNextNewline(()=>{a.writeLine(b.red("~".repeat(this.getPrintWidth())))})}asObject(){}},b6=class a extends b4{fields={};suggestions=[];addField(a){this.fields[a.name]=a}addSuggestion(a){this.suggestions.push(a)}getField(a){return this.fields[a]}getDeepField(b){let[c,...d]=b,e=this.getField(c);if(!e)return;let f=e;for(let b of d){let c;if(f.value instanceof a?c=f.value.getField(b):f.value instanceof b5&&(c=f.value.getField(Number(b))),!c)return;f=c}return f}getDeepFieldValue(a){return 0===a.length?this:this.getDeepField(a)?.value}hasField(a){return!!this.getField(a)}removeAllFields(){this.fields={}}removeField(a){delete this.fields[a]}getFields(){return this.fields}isEmpty(){return 0===Object.keys(this.fields).length}getFieldValue(a){return this.getField(a)?.value}getDeepSubSelectionValue(b){let c=this;for(let d of b){if(!(c instanceof a))return;let b=c.getSubSelectionValue(d);if(!b)return;c=b}return c}getDeepSelectionParent(b){let c=this.getSelectionParent();if(!c)return;let d=c;for(let c of b){let b=d.value.getFieldValue(c);if(!b||!(b instanceof a))return;let e=b.getSelectionParent();if(!e)return;d=e}return d}getSelectionParent(){let a=this.getField("select")?.value.asObject();if(a)return{kind:"select",value:a};let b=this.getField("include")?.value.asObject();if(b)return{kind:"include",value:b}}getSubSelectionValue(a){return this.getSelectionParent()?.value.fields[a].value}getPrintWidth(){let a=Object.values(this.fields);return 0==a.length?2:Math.max(...a.map(a=>a.getPrintWidth()))+2}write(a){let b=Object.values(this.fields);if(0===b.length&&0===this.suggestions.length)return void this.writeEmpty(a);this.writeWithContents(a,b)}asObject(){return this}writeEmpty(a){let b=new b3("{}");this.hasError&&b.setColor(a.context.colors.red).underline(),a.write(b)}writeWithContents(a,b){a.writeLine("{").withIndent(()=>{a.writeJoined(b2,[...b,...this.suggestions]).newLine()}),a.write("}"),this.hasError&&a.afterNextNewline(()=>{a.writeLine(a.context.colors.red("~".repeat(this.getPrintWidth())))})}};F(),G(),H(),I(),J(),aq();var b7=class extends b4{constructor(a){super(),this.text=a}getPrintWidth(){return this.text.length}write(a){let b=new b3(this.text);this.hasError&&b.underline().setColor(a.context.colors.red),a.write(b)}asObject(){}};F(),G(),H(),I(),J(),aq();var b8=class{fields=[];addField(a,b){return this.fields.push({write(c){let{green:d,dim:e}=c.context.colors;c.write(d(e(`${a}: ${b}`))).addMarginSymbol(d(e("+")))}}),this}write(a){let{colors:{green:b}}=a.context;a.writeLine(b("{")).withIndent(()=>{a.writeJoined(b2,this.fields).newLine()}).write(b("}")).addMarginSymbol(b("+"))}};function b9(a,b,c){let d=[`Unknown argument \`${a.red(b)}\`.`],e=function(a,b){let c=1/0,d;for(let e of b){let b=(0,bV.default)(a,e);b>3||b<c&&(c=b,d=e)}return d}(b,c);return e&&d.push(`Did you mean \`${a.green(e)}\`?`),c.length>0&&d.push(ce(a)),d.join(" ")}function ca(a,b){for(let c of b.fields)a.hasField(c.name)||a.addSuggestion(new bY(c.name,"true"))}function cb(a,b){let[c,d]=cd(a),e=b.arguments.getDeepSubSelectionValue(c)?.asObject();if(!e)return{parentKind:"unknown",fieldName:d};let f=e.getFieldValue("select")?.asObject(),g=e.getFieldValue("include")?.asObject(),h=e.getFieldValue("omit")?.asObject(),i=f?.getField(d);return f&&i?{parentKind:"select",parent:f,field:i,fieldName:d}:(i=g?.getField(d),g&&i?{parentKind:"include",field:i,parent:g,fieldName:d}:(i=h?.getField(d),h&&i?{parentKind:"omit",field:i,parent:h,fieldName:d}:{parentKind:"unknown",fieldName:d}))}function cc(a,b){if("object"===b.kind)for(let c of b.fields)a.hasField(c.name)||a.addSuggestion(new bY(c.name,c.typeNames.join(" | ")))}function cd(a){let b=[...a],c=b.pop();if(!c)throw Error("unexpected empty path");return[b,c]}function ce({green:a,enabled:b}){return"Available options are "+(b?`listed in ${a("green")}`:"marked with ?")+"."}function cf(a,b){if(1===b.length)return b[0];let c=[...b],d=c.pop();return`${c.join(", ")} ${a} ${d}`}F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq();var cg=class{modelName;name;typeName;isList;isEnum;constructor(a,b,c,d,e){this.modelName=a,this.name=b,this.typeName=c,this.isList=d,this.isEnum=e}_toGraphQLInputType(){let a=this.isList?"List":"",b=this.isEnum?"Enum":"";return`${a}${b}${this.typeName}FieldRefInput<${this.modelName}>`}};function ch(a){return a instanceof cg}F(),G(),H(),I(),J(),aq();var ci=Symbol(),cj=new WeakMap,ck=class{constructor(a){a===ci?cj.set(this,`Prisma.${this._getName()}`):cj.set(this,`new Prisma.${this._getNamespace()}.${this._getName()}()`)}_getName(){return this.constructor.name}toString(){return cj.get(this)}},cl=class extends ck{_getNamespace(){return"NullTypes"}},cm=class extends cl{};cq(cm,"DbNull");var cn=class extends cl{};cq(cn,"JsonNull");var co=class extends cl{};cq(co,"AnyNull");var cp={classes:{DbNull:cm,JsonNull:cn,AnyNull:co},instances:{DbNull:new cm(ci),JsonNull:new cn(ci),AnyNull:new co(ci)}};function cq(a,b){Object.defineProperty(a,"name",{value:b,configurable:!0})}F(),G(),H(),I(),J(),aq();var cr=class{constructor(a,b){this.name=a,this.value=b}hasError=!1;markAsError(){this.hasError=!0}getPrintWidth(){return this.name.length+this.value.getPrintWidth()+2}write(a){let b=new b3(this.name);this.hasError&&b.underline().setColor(a.context.colors.red),a.write(b).write(": ").write(this.value)}},cs=class{arguments;errorMessages=[];constructor(a){this.arguments=a}write(a){a.write(this.arguments)}addErrorMessage(a){this.errorMessages.push(a)}renderAllMessages(a){return this.errorMessages.map(b=>b(a)).join(`
`)}};function ct(a){return new cs(cu(a))}function cu(a){let b=new b6;for(let[c,d]of Object.entries(a)){let a=new cr(c,function a(b){var c;if("string"==typeof b)return new b7(JSON.stringify(b));if("number"==typeof b||"boolean"==typeof b)return new b7(String(b));if("bigint"==typeof b)return new b7(`${b}n`);if(null===b)return new b7("null");if(void 0===b)return new b7("undefined");if(bR(b))return new b7(`new Prisma.Decimal("${b.toFixed()}")`);if(b instanceof Uint8Array)return new b7(A.isBuffer(b)?`Buffer.alloc(${b.byteLength})`:`new Uint8Array(${b.byteLength})`);if(b instanceof Date){let a=bQ(b)?b.toISOString():"Invalid Date";return new b7(`new Date("${a}")`)}return b instanceof ck?new b7(`Prisma.${b._getName()}`):ch(b)?new b7(`prisma.${(c=b.modelName).substring(0,1).toLowerCase()+c.substring(1)}.$fields.${b.name}`):Array.isArray(b)?function(b){let c=new b5;for(let d of b)c.addItem(a(d));return c}(b):"object"==typeof b?cu(b):new b7(Object.prototype.toString.call(b))}(d));b.addField(a)}return b}function cv(a,b){let c="pretty"===b?b1:b0;return{message:a.renderAllMessages(c),args:new bZ(0,{colors:c}).write(a).toString()}}function cw({args:a,errors:b,errorFormat:c,callsite:d,originalMethod:e,clientVersion:f,globalOmit:g}){let h=ct(a);for(let a of b)!function a(b,c,d){switch(b.kind){case"MutuallyExclusiveFields":let e;m=b,n=c,(e=n.arguments.getDeepSubSelectionValue(m.selectionPath)?.asObject())&&(e.getField(m.firstField)?.markAsError(),e.getField(m.secondField)?.markAsError()),n.addErrorMessage(a=>`Please ${a.bold("either")} use ${a.green(`\`${m.firstField}\``)} or ${a.green(`\`${m.secondField}\``)}, but ${a.red("not both")} at the same time.`);break;case"IncludeOnScalar":!function(a,b){let[c,d]=cd(a.selectionPath),e=a.outputType,f=b.arguments.getDeepSelectionParent(c)?.value;if(f&&(f.getField(d)?.markAsError(),e))for(let a of e.fields)a.isRelation&&f.addSuggestion(new bY(a.name,"true"));b.addErrorMessage(a=>{let b=`Invalid scalar field ${a.red(`\`${d}\``)} for ${a.bold("include")} statement`;return e?b+=` on model ${a.bold(e.name)}. ${ce(a)}`:b+=".",b+=`
Note that ${a.bold("include")} statements only accept relation fields.`})}(b,c);break;case"EmptySelection":!function(a,b,c){let d=b.arguments.getDeepSubSelectionValue(a.selectionPath)?.asObject();if(d){let c=d.getField("omit")?.value.asObject();if(c){var e,f,g=a,h=b,i=c;for(let a of(i.removeAllFields(),g.outputType.fields))i.addSuggestion(new bY(a.name,"false"));h.addErrorMessage(a=>`The ${a.red("omit")} statement includes every field of the model ${a.bold(g.outputType.name)}. At least one field must be included in the result`);return}if(d.hasField("select")){let c,d,g;return e=a,f=b,c=e.outputType,d=f.arguments.getDeepSelectionParent(e.selectionPath)?.value,g=d?.isEmpty()??!1,d&&(d.removeAllFields(),ca(d,c)),f.addErrorMessage(a=>g?`The ${a.red("`select`")} statement for type ${a.bold(c.name)} must not be empty. ${ce(a)}`:`The ${a.red("`select`")} statement for type ${a.bold(c.name)} needs ${a.bold("at least one truthy value")}.`)}}if(c?.[bO(a.outputType.name)])return function(a,b){let c=new b8;for(let b of a.outputType.fields)b.isRelation||c.addField(b.name,"false");let d=new bY("omit",c).makeRequired();if(0===a.selectionPath.length)b.arguments.addSuggestion(d);else{let[c,e]=cd(a.selectionPath),f=b.arguments.getDeepSelectionParent(c)?.value.asObject()?.getField(e);if(f){let a=f?.value.asObject()??new b6;a.addSuggestion(d),f.value=a}}b.addErrorMessage(b=>`The global ${b.red("omit")} configuration excludes every field of the model ${b.bold(a.outputType.name)}. At least one field must be included in the result`)}(a,b);b.addErrorMessage(()=>`Unknown field at "${a.selectionPath.join(".")} selection"`)}(b,c,d);break;case"UnknownSelectionField":!function(a,b){let c=cb(a.selectionPath,b);if("unknown"!==c.parentKind){c.field.markAsError();let b=c.parent;switch(c.parentKind){case"select":ca(b,a.outputType);break;case"include":var d=b,e=a.outputType;for(let a of e.fields)a.isRelation&&!d.hasField(a.name)&&d.addSuggestion(new bY(a.name,"true"));break;case"omit":var f=b,g=a.outputType;for(let a of g.fields)f.hasField(a.name)||a.isRelation||f.addSuggestion(new bY(a.name,"true"))}}b.addErrorMessage(b=>{let d=[`Unknown field ${b.red(`\`${c.fieldName}\``)}`];return"unknown"!==c.parentKind&&d.push(`for ${b.bold(c.parentKind)} statement`),d.push(`on model ${b.bold(`\`${a.outputType.name}\``)}.`),d.push(ce(b)),d.join(" ")})}(b,c);break;case"InvalidSelectionValue":let f;o=b,p=c,"unknown"!==(f=cb(o.selectionPath,p)).parentKind&&f.field.value.markAsError(),p.addErrorMessage(a=>`Invalid value for selection field \`${a.red(f.fieldName)}\`: ${o.underlyingError}`);break;case"UnknownArgument":let g,h;q=b,r=c,g=q.argumentPath[0],(h=r.arguments.getDeepSubSelectionValue(q.selectionPath)?.asObject())&&(h.getField(g)?.markAsError(),function(a,b){for(let c of b)a.hasField(c.name)||a.addSuggestion(new bY(c.name,c.typeNames.join(" | ")))}(h,q.arguments)),r.addErrorMessage(a=>b9(a,g,q.arguments.map(a=>a.name)));break;case"UnknownInputField":!function(a,b){let[c,d]=cd(a.argumentPath),e=b.arguments.getDeepSubSelectionValue(a.selectionPath)?.asObject();if(e){e.getDeepField(a.argumentPath)?.markAsError();let b=e.getDeepFieldValue(c)?.asObject();b&&cc(b,a.inputType)}b.addErrorMessage(b=>b9(b,d,a.inputType.fields.map(a=>a.name)))}(b,c);break;case"RequiredArgumentMissing":!function(a,b){let c;b.addErrorMessage(a=>c?.value instanceof b7&&"null"===c.value.text?`Argument \`${a.green(f)}\` must not be ${a.red("null")}.`:`Argument \`${a.green(f)}\` is missing.`);let d=b.arguments.getDeepSubSelectionValue(a.selectionPath)?.asObject();if(!d)return;let[e,f]=cd(a.argumentPath),g=new b8,h=d.getDeepFieldValue(e)?.asObject();if(h)if((c=h.getField(f))&&h.removeField(f),1===a.inputTypes.length&&"object"===a.inputTypes[0].kind){for(let b of a.inputTypes[0].fields)g.addField(b.name,b.typeNames.join(" | "));h.addSuggestion(new bY(f,g).makeRequired())}else{let b=a.inputTypes.map(function a(b){return"list"===b.kind?`${a(b.elementType)}[]`:b.name}).join(" | ");h.addSuggestion(new bY(f,b).makeRequired())}}(b,c);break;case"InvalidArgumentType":let i,j;s=b,t=c,i=s.argument.name,(j=t.arguments.getDeepSubSelectionValue(s.selectionPath)?.asObject())&&j.getDeepFieldValue(s.argumentPath)?.markAsError(),t.addErrorMessage(a=>{let b=cf("or",s.argument.typeNames.map(b=>a.green(b)));return`Argument \`${a.bold(i)}\`: Invalid value provided. Expected ${b}, provided ${a.red(s.inferredType)}.`});break;case"InvalidArgumentValue":let k,l;u=b,v=c,k=u.argument.name,(l=v.arguments.getDeepSubSelectionValue(u.selectionPath)?.asObject())&&l.getDeepFieldValue(u.argumentPath)?.markAsError(),v.addErrorMessage(a=>{let b=[`Invalid value for argument \`${a.bold(k)}\``];if(u.underlyingError&&b.push(`: ${u.underlyingError}`),b.push("."),u.argument.typeNames.length>0){let c=cf("or",u.argument.typeNames.map(b=>a.green(b)));b.push(` Expected ${c}.`)}return b.join("")});break;case"ValueTooLarge":var m,n,o,p,q,r,s,t,u,v,w=b,x=c;let y=w.argument.name,z=x.arguments.getDeepSubSelectionValue(w.selectionPath)?.asObject(),A;if(z){let a=z.getDeepField(w.argumentPath)?.value;a?.markAsError(),a instanceof b7&&(A=a.text)}x.addErrorMessage(a=>{let b=["Unable to fit value"];return A&&b.push(a.red(A)),b.push(`into a 64-bit signed integer for field \`${a.bold(y)}\``),b.join(" ")});break;case"SomeFieldsMissing":var B=b,C=c;let D=B.argumentPath[B.argumentPath.length-1],E=C.arguments.getDeepSubSelectionValue(B.selectionPath)?.asObject();if(E){let a=E.getDeepFieldValue(B.argumentPath)?.asObject();a&&cc(a,B.inputType)}C.addErrorMessage(a=>{let b=[`Argument \`${a.bold(D)}\` of type ${a.bold(B.inputType.name)} needs`];return 1===B.constraints.minFieldCount?B.constraints.requiredFields?b.push(`${a.green("at least one of")} ${cf("or",B.constraints.requiredFields.map(b=>`\`${a.bold(b)}\``))} arguments.`):b.push(`${a.green("at least one")} argument.`):b.push(`${a.green(`at least ${B.constraints.minFieldCount}`)} arguments.`),b.push(ce(a)),b.join(" ")});break;case"TooManyFieldsGiven":var F=b,G=c;let H=F.argumentPath[F.argumentPath.length-1],I=G.arguments.getDeepSubSelectionValue(F.selectionPath)?.asObject(),J=[];if(I){let a=I.getDeepFieldValue(F.argumentPath)?.asObject();a&&(a.markAsError(),J=Object.keys(a.getFields()))}G.addErrorMessage(a=>{let b=[`Argument \`${a.bold(H)}\` of type ${a.bold(F.inputType.name)} needs`];return 1===F.constraints.minFieldCount&&1==F.constraints.maxFieldCount?b.push(`${a.green("exactly one")} argument,`):1==F.constraints.maxFieldCount?b.push(`${a.green("at most one")} argument,`):b.push(`${a.green(`at most ${F.constraints.maxFieldCount}`)} arguments,`),b.push(`but you provided ${cf("and",J.map(b=>a.red(b)))}. Please choose`),1===F.constraints.maxFieldCount?b.push("one."):b.push(`${F.constraints.maxFieldCount}.`),b.join(" ")});break;case"Union":let K;(K=function(a){var b=(a,b)=>{let c=bW(a),d=bW(b);return c!==d?c-d:bX(a)-bX(b)};if(0===a.length)return;let c=a[0];for(let d=1;d<a.length;d++)0>b(c,a[d])&&(c=a[d]);return c}(function(a){let b=new Map,c=[];for(let f of a){var d,e;if("InvalidArgumentType"!==f.kind){c.push(f);continue}let a=`${f.selectionPath.join(".")}:${f.argumentPath.join(".")}`,g=b.get(a);g?b.set(a,{...f,argument:{...f.argument,typeNames:(d=g.argument.typeNames,e=f.argument.typeNames,[...new Set(d.concat(e))])}}):b.set(a,f)}return c.push(...b.values()),c}(function a(b){return b.errors.flatMap(b=>"Union"===b.kind?a(b):[b])}(b))))?a(K,c,d):c.addErrorMessage(()=>"Unknown error");break;default:throw Error("not implemented: "+b.kind)}}(a,h,g);let{message:i,args:j}=cv(h,c);throw new bM(bU({message:i,callsite:d,originalMethod:e,showColors:"pretty"===c,callArguments:j}),{clientVersion:f})}F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq();var cx=class{_map=new Map;get(a){return this._map.get(a)?.value}set(a,b){this._map.set(a,{value:b})}getOrCreate(a,b){let c=this._map.get(a);if(c)return c.value;let d=b();return this.set(a,d),d}};function cy(a){let b;return{get:()=>(b||(b={value:a()}),b.value)}}function cz(a){return a.replace(/^./,a=>a.toLowerCase())}function cA(a,b,c){return c?bE(c,({needs:a,compute:c},d)=>{var e,f,g;let h;return{name:d,needs:a?Object.keys(a).filter(b=>a[b]):[],compute:(e=b,f=d,g=c,(h=e?.[f]?.compute)?a=>g({...a,[f]:h(a)}):g)}}):{}}F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq();var cB=class{constructor(a,b){this.extension=a,this.previous=b}computedFieldsCache=new cx;modelExtensionsCache=new cx;queryCallbacksCache=new cx;clientExtensions=cy(()=>this.extension.client?{...this.previous?.getAllClientExtensions(),...this.extension.client}:this.previous?.getAllClientExtensions());batchCallbacks=cy(()=>{let a=this.previous?.getAllBatchQueryCallbacks()??[],b=this.extension.query?.$__internalBatch;return b?a.concat(b):a});getAllComputedFields(a){return this.computedFieldsCache.getOrCreate(a,()=>{var b,c,d;let e,f,g;return b=this.previous?.getAllComputedFields(a),c=this.extension,e=cz(a),c.result&&(c.result.$allModels||c.result[e])?(d={...b,...cA(c.name,b,c.result.$allModels),...cA(c.name,b,c.result[e])},f=new cx,g=(a,b)=>f.getOrCreate(a,()=>b.has(a)?[a]:(b.add(a),d[a]?d[a].needs.flatMap(a=>g(a,b)):[a])),bE(d,a=>({...a,needs:g(a.name,new Set)}))):b})}getAllClientExtensions(){return this.clientExtensions.get()}getAllModelExtensions(a){return this.modelExtensionsCache.getOrCreate(a,()=>{let b=cz(a);return this.extension.model&&(this.extension.model[b]||this.extension.model.$allModels)?{...this.previous?.getAllModelExtensions(a),...this.extension.model.$allModels,...this.extension.model[b]}:this.previous?.getAllModelExtensions(a)})}getAllQueryCallbacks(a,b){return this.queryCallbacksCache.getOrCreate(`${a}:${b}`,()=>{let c=this.previous?.getAllQueryCallbacks(a,b)??[],d=[],e=this.extension.query;return e&&(e[a]||e.$allModels||e[b]||e.$allOperations)?(void 0!==e[a]&&(void 0!==e[a][b]&&d.push(e[a][b]),void 0!==e[a].$allOperations&&d.push(e[a].$allOperations)),"$none"!==a&&void 0!==e.$allModels&&(void 0!==e.$allModels[b]&&d.push(e.$allModels[b]),void 0!==e.$allModels.$allOperations&&d.push(e.$allModels.$allOperations)),void 0!==e[b]&&d.push(e[b]),void 0!==e.$allOperations&&d.push(e.$allOperations),c.concat(d)):c})}getAllBatchQueryCallbacks(){return this.batchCallbacks.get()}},cC=class a{constructor(a){this.head=a}static empty(){return new a}static single(b){return new a(new cB(b))}isEmpty(){return void 0===this.head}append(b){return new a(new cB(b,this.head))}getAllComputedFields(a){return this.head?.getAllComputedFields(a)}getAllClientExtensions(){return this.head?.getAllClientExtensions()}getAllModelExtensions(a){return this.head?.getAllModelExtensions(a)}getAllQueryCallbacks(a,b){return this.head?.getAllQueryCallbacks(a,b)??[]}getAllBatchQueryCallbacks(){return this.head?.getAllBatchQueryCallbacks()??[]}};F(),G(),H(),I(),J(),aq();var cD=class{constructor(a){this.name=a}};function cE(a){return new cD(a)}F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq();var cF=Symbol(),cG=class{constructor(a){if(a!==cF)throw Error("Skip instance can not be constructed directly")}ifUndefined(a){return void 0===a?cH:a}},cH=new cG(cF);function cI(a){return a instanceof cG}var cJ={findUnique:"findUnique",findUniqueOrThrow:"findUniqueOrThrow",findFirst:"findFirst",findFirstOrThrow:"findFirstOrThrow",findMany:"findMany",count:"aggregate",create:"createOne",createMany:"createMany",createManyAndReturn:"createManyAndReturn",update:"updateOne",updateMany:"updateMany",updateManyAndReturn:"updateManyAndReturn",upsert:"upsertOne",delete:"deleteOne",deleteMany:"deleteMany",executeRaw:"executeRaw",queryRaw:"queryRaw",aggregate:"aggregate",groupBy:"groupBy",runCommandRaw:"runCommandRaw",findRaw:"findRaw",aggregateRaw:"aggregateRaw"},cK="explicitly `undefined` values are not allowed";function cL({modelName:a,action:b,args:c,runtimeDataModel:d,extensions:e=cC.empty(),callsite:f,clientMethod:g,errorFormat:h,clientVersion:i,previewFeatures:j,globalOmit:k}){let l=new cO({runtimeDataModel:d,modelName:a,action:b,rootArgs:c,callsite:f,extensions:e,selectionPath:[],argumentPath:[],originalMethod:g,errorFormat:h,clientVersion:i,previewFeatures:j,globalOmit:k});return{modelName:a,action:cJ[b],query:function a({select:b,include:c,...d}={},e){var f,g,h,i,j,k,l;let m,n=d.omit;return delete d.omit,{arguments:cM(d,e),selection:(f=b,g=c,h=n,i=e,f?(g?i.throwValidationError({kind:"MutuallyExclusiveFields",firstField:"include",secondField:"select",selectionPath:i.getSelectionPath()}):h&&i.throwValidationError({kind:"MutuallyExclusiveFields",firstField:"omit",secondField:"select",selectionPath:i.getSelectionPath()}),function(b,c){let d={},e=c.getComputedFields();for(let[f,g]of Object.entries(function(a,b){if(!b)return a;let c={...a};for(let d of Object.values(b))if(a[d.name])for(let a of d.needs)c[a]=!0;return c}(b,e))){if(cI(g))continue;let b=c.nestSelection(f);cN(g,b);let h=c.findField(f);if(!(e?.[f]&&!h)){if(!1===g||void 0===g||cI(g)){d[f]=!1;continue}if(!0===g){h?.kind==="object"?d[f]=a({},b):d[f]=!0;continue}d[f]=a(g,b)}}return d}(f,i)):(j=i,k=g,l=h,m={},j.modelOrType&&!j.isRawAction()&&(m.$composites=!0,m.$scalars=!0),k&&function(b,c,d){for(let[e,f]of Object.entries(c)){if(cI(f))continue;let c=d.nestSelection(e);if(cN(f,c),!1===f||void 0===f){b[e]=!1;continue}let g=d.findField(e);if(g&&"object"!==g.kind&&d.throwValidationError({kind:"IncludeOnScalar",selectionPath:d.getSelectionPath().concat(e),outputType:d.getOutputTypeDescription()}),g){b[e]=a(!0===f?{}:f,c);continue}if(!0===f){b[e]=!0;continue}b[e]=a(f,c)}}(m,k,j),function(a,b,c){let d=c.getComputedFields();for(let[e,f]of Object.entries(function(a,b){if(!b)return a;let c={...a};for(let d of Object.values(b))if(!a[d.name])for(let a of d.needs)delete c[a];return c}({...c.getGlobalOmit(),...b},d))){if(cI(f))continue;cN(f,c.nestSelection(e));let b=c.findField(e);d?.[e]&&!b||(a[e]=!f)}}(m,l,j),m))}}(c,l)}}function cM(a,b){if(a.$type)return{$type:"Raw",value:a};let c={};for(let d in a){let e=a[d],f=b.nestArgument(d);cI(e)||(void 0!==e?c[d]=function a(b,c){var d,e;if(null===b)return null;if("string"==typeof b||"number"==typeof b||"boolean"==typeof b)return b;if("bigint"==typeof b)return{$type:"BigInt",value:String(b)};if(bP(b)){if(bQ(b))return{$type:"DateTime",value:b.toISOString()};c.throwValidationError({kind:"InvalidArgumentValue",selectionPath:c.getSelectionPath(),argumentPath:c.getArgumentPath(),argument:{name:c.getArgumentName(),typeNames:["Date"]},underlyingError:"Provided Date object is invalid"})}if(b instanceof cD)return{$type:"Param",value:b.name};if(ch(b))return{$type:"FieldRef",value:{_ref:b.name,_container:b.modelName}};if(Array.isArray(b))return function(b,c){let d=[];for(let e=0;e<b.length;e++){let f=c.nestArgument(String(e)),g=b[e];if(void 0===g||cI(g)){let a=void 0===g?"undefined":"Prisma.skip";c.throwValidationError({kind:"InvalidArgumentValue",selectionPath:f.getSelectionPath(),argumentPath:f.getArgumentPath(),argument:{name:`${c.getArgumentName()}[${e}]`,typeNames:[]},underlyingError:`Can not use \`${a}\` value within array. Use \`null\` or filter out \`${a}\` values`})}d.push(a(g,f))}return d}(b,c);if(ArrayBuffer.isView(b)){let{buffer:a,byteOffset:c,byteLength:d}=b;return{$type:"Bytes",value:A.from(a,c,d).toString("base64")}}if("object"==typeof(d=b)&&null!==d&&!0===d.__prismaRawParameters__)return b.values;if(bR(b))return{$type:"Decimal",value:b.toFixed()};if(b instanceof ck){if(b!==cp.instances[b._getName()])throw Error("Invalid ObjectEnumValue");return{$type:"Enum",value:b._getName()}}return"object"==typeof(e=b)&&null!==e&&"function"==typeof e.toJSON?b.toJSON():"object"==typeof b?cM(b,c):void c.throwValidationError({kind:"InvalidArgumentValue",selectionPath:c.getSelectionPath(),argumentPath:c.getArgumentPath(),argument:{name:c.getArgumentName(),typeNames:[]},underlyingError:`We could not serialize ${Object.prototype.toString.call(b)} value. Serialize the object to JSON or implement a ".toJSON()" method on it`})}(e,f):b.isPreviewFeatureOn("strictUndefinedChecks")&&b.throwValidationError({kind:"InvalidArgumentValue",argumentPath:f.getArgumentPath(),selectionPath:b.getSelectionPath(),argument:{name:b.getArgumentName(),typeNames:[]},underlyingError:cK}))}return c}function cN(a,b){void 0===a&&b.isPreviewFeatureOn("strictUndefinedChecks")&&b.throwValidationError({kind:"InvalidSelectionValue",selectionPath:b.getSelectionPath(),underlyingError:cK})}var cO=class a{constructor(a){this.params=a,this.params.modelName&&(this.modelOrType=this.params.runtimeDataModel.models[this.params.modelName]??this.params.runtimeDataModel.types[this.params.modelName])}modelOrType;throwValidationError(a){cw({errors:[a],originalMethod:this.params.originalMethod,args:this.params.rootArgs??{},callsite:this.params.callsite,errorFormat:this.params.errorFormat,clientVersion:this.params.clientVersion,globalOmit:this.params.globalOmit})}getSelectionPath(){return this.params.selectionPath}getArgumentPath(){return this.params.argumentPath}getArgumentName(){return this.params.argumentPath[this.params.argumentPath.length-1]}getOutputTypeDescription(){if(!(!this.params.modelName||!this.modelOrType))return{name:this.params.modelName,fields:this.modelOrType.fields.map(a=>({name:a.name,typeName:"boolean",isRelation:"object"===a.kind}))}}isRawAction(){return["executeRaw","queryRaw","runCommandRaw","findRaw","aggregateRaw"].includes(this.params.action)}isPreviewFeatureOn(a){return this.params.previewFeatures.includes(a)}getComputedFields(){if(this.params.modelName)return this.params.extensions.getAllComputedFields(this.params.modelName)}findField(a){return this.modelOrType?.fields.find(b=>b.name===a)}nestSelection(b){let c=this.findField(b),d=c?.kind==="object"?c.type:void 0;return new a({...this.params,modelName:d,selectionPath:this.params.selectionPath.concat(b)})}getGlobalOmit(){return this.params.modelName&&this.shouldApplyGlobalOmit()?this.params.globalOmit?.[bO(this.params.modelName)]??{}:{}}shouldApplyGlobalOmit(){switch(this.params.action){case"findFirst":case"findFirstOrThrow":case"findUniqueOrThrow":case"findMany":case"upsert":case"findUnique":case"createManyAndReturn":case"create":case"update":case"updateManyAndReturn":case"delete":return!0;case"executeRaw":case"aggregateRaw":case"runCommandRaw":case"findRaw":case"createMany":case"deleteMany":case"groupBy":case"updateMany":case"count":case"aggregate":case"queryRaw":return!1;default:bD(this.params.action,"Unknown action")}}nestArgument(b){return new a({...this.params,argumentPath:this.params.argumentPath.concat(b)})}};function cP(a){if(!a._hasPreviewFlag("metrics"))throw new bM("`metrics` preview feature must be enabled in order to access metrics API",{clientVersion:a._clientVersion})}F(),G(),H(),I(),J(),aq();var cQ=class{_client;constructor(a){this._client=a}prometheus(a){return cP(this._client),this._client._engine.metrics({format:"prometheus",...a})}json(a){return cP(this._client),this._client._engine.metrics({format:"json",...a})}};function cR(a){return{models:cS(a.models),enums:cS(a.enums),types:cS(a.types)}}function cS(a){let b={};for(let{name:c,...d}of a)b[c]=d;return b}function cT(a,b){let c=cy(()=>(function(a){throw Error("Prisma.dmmf is not available when running in edge runtimes.")})(0));Object.defineProperty(a,"dmmf",{get:()=>c.get()})}F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq();var cU=new WeakMap,cV="$$PrismaTypedSql",cW=class{constructor(a,b){cU.set(this,{sql:a,values:b}),Object.defineProperty(this,cV,{value:cV})}get sql(){return cU.get(this).sql}get values(){return cU.get(this).values}};function cX(a){return(...b)=>new cW(a,b)}function cY(a){return null!=a&&a[cV]===cV}F(),G(),H(),I(),J(),aq();var cZ=l(aU());F(),G(),H(),I(),J(),aq(),aP(),aF(),aN(),F(),G(),H(),I(),J(),aq();var c$=class a{constructor(b,c){if(b.length-1!==c.length)throw 0===b.length?TypeError("Expected at least 1 string"):TypeError(`Expected ${b.length} strings to have ${b.length-1} values`);let d=c.reduce((b,c)=>b+(c instanceof a?c.values.length:1),0);this.values=Array(d),this.strings=Array(d+1),this.strings[0]=b[0];let e=0,f=0;for(;e<c.length;){let d=c[e++],g=b[e];if(d instanceof a){this.strings[f]+=d.strings[0];let a=0;for(;a<d.values.length;)this.values[f++]=d.values[a++],this.strings[f]=d.strings[a];this.strings[f]+=g}else this.values[f++]=d,this.strings[f]=g}}get sql(){let a=this.strings.length,b=1,c=this.strings[0];for(;b<a;)c+=`?${this.strings[b++]}`;return c}get statement(){let a=this.strings.length,b=1,c=this.strings[0];for(;b<a;)c+=`:${b}${this.strings[b++]}`;return c}get text(){let a=this.strings.length,b=1,c=this.strings[0];for(;b<a;)c+=`$${b}${this.strings[b++]}`;return c}inspect(){return{sql:this.sql,statement:this.statement,text:this.text,values:this.values}}};function c_(a,b=",",c="",d=""){if(0===a.length)throw TypeError("Expected `join([])` to be called with an array of multiple elements, but got an empty array");return new c$([c,...Array(a.length-1).fill(b),d],a)}function c0(a){return new c$([a],[])}var c1=c0("");function c2(a,...b){return new c$(a,b)}function c3(a){return{getKeys:()=>Object.keys(a),getPropertyValue:b=>a[b]}}function c4(a,b){return{getKeys:()=>[a],getPropertyValue:()=>b()}}function c5(a){let b=new cx;return{getKeys:()=>a.getKeys(),getPropertyValue:c=>b.getOrCreate(c,()=>a.getPropertyValue(c)),getPropertyDescriptor:b=>a.getPropertyDescriptor?.(b)}}F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq();var c6={enumerable:!0,configurable:!0,writable:!0};function c7(a){let b=new Set(a);return{getPrototypeOf:()=>Object.prototype,getOwnPropertyDescriptor:()=>c6,has:(a,c)=>b.has(c),set:(a,c,d)=>b.add(c)&&Reflect.set(a,c,d),ownKeys:()=>[...b]}}var c8=Symbol.for("nodejs.util.inspect.custom");function c9(a,b){let c=function(a){let b=new Map;for(let c of a)for(let a of c.getKeys())b.set(a,c);return b}(b),d=new Set,e=new Proxy(a,{get(a,b){if(d.has(b))return a[b];let e=c.get(b);return e?e.getPropertyValue(b):a[b]},has(a,b){if(d.has(b))return!0;let e=c.get(b);return e?e.has?.(b)??!0:Reflect.has(a,b)},ownKeys:a=>[...new Set([...da(Reflect.ownKeys(a),c),...da(Array.from(c.keys()),c),...d])],set:(a,b,e)=>c.get(b)?.getPropertyDescriptor?.(b)?.writable!==!1&&(d.add(b),Reflect.set(a,b,e)),getOwnPropertyDescriptor(a,b){let d=Reflect.getOwnPropertyDescriptor(a,b);if(d&&!d.configurable)return d;let e=c.get(b);return e?e.getPropertyDescriptor?{...c6,...e?.getPropertyDescriptor(b)}:c6:d},defineProperty:(a,b,c)=>(d.add(b),Reflect.defineProperty(a,b,c)),getPrototypeOf:()=>Object.prototype});return e[c8]=function(){let a={...this};return delete a[c8],a},e}function da(a,b){return a.filter(a=>b.get(a)?.has?.(a)??!0)}function db(a){return{getKeys:()=>a,has:()=>!1,getPropertyValue(){}}}function dc(a,b){return{batch:a,transaction:b?.kind==="batch"?{isolationLevel:b.options.isolationLevel}:void 0}}function dd({error:a,user_facing_error:b},c,d){var e,f;let g;return b.error_code?new bJ((e=b,f=d,g=e.message,("postgresql"===f||"postgres"===f||"mysql"===f)&&"P2037"===e.error_code&&(g+=`
Prisma Accelerate has built-in connection pooling to prevent such errors: https://pris.ly/client/error-accelerate`),g),{code:b.error_code,clientVersion:c,meta:b.meta,batchRequestIdx:b.batch_request_idx}):new bL(a,{clientVersion:c,batchRequestIdx:b.batch_request_idx})}F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq();var de=class{getLocation(){return null}};function df(a){return"function"==typeof $EnabledCallSite&&"minimal"!==a?new $EnabledCallSite:new de}F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq();var dg={_avg:!0,_count:!0,_sum:!0,_min:!0,_max:!0};function dh(a={}){return Object.entries(function(a={}){return"boolean"==typeof a._count?{...a,_count:{_all:a._count}}:a}(a)).reduce((a,[b,c])=>(void 0!==dg[b]?a.select[b]={select:c}:a[b]=c,a),{select:{}})}function di(a={}){return b=>("boolean"==typeof a._count&&(b._count=b._count._all),b)}function dj(a={}){let{select:b,...c}=a;return"object"==typeof b?dh({...c,_count:b}):dh({...c,_count:{_all:!0}})}function dk(a={}){let b=dh(a);if(Array.isArray(b.by))for(let a of b.by)"string"==typeof a&&(b.select[a]=!0);else"string"==typeof b.by&&(b.select[b.by]=!0);return b}F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq();var dl=a=>Array.isArray(a)?a:a.split("."),dm=(a,b)=>dl(b).reduce((a,b)=>a&&a[b],a),dn=["findUnique","findUniqueOrThrow","findFirst","findFirstOrThrow","create","update","upsert","delete"],dp=["aggregate","count","groupBy"];function dq(a,b){var c,d,e,f;let g,h,i=a._extensions.getAllModelExtensions(b)??{};return c9({},[(c=a,g=cz(d=b),h=Object.keys(dM.ModelAction).concat("count"),{getKeys:()=>h,getPropertyValue(a){var b;let e=b=>e=>{let f=df(c._errorFormat);return c._createPrismaPromise(h=>{let i={args:e,dataPath:[],action:a,model:d,clientMethod:`${g}.${a}`,jsModelName:g,transaction:h,callsite:f};return c._request({...i,...b})},{action:a,args:e,model:d})};return dn.includes(a)?function a(b,c,d,e,f,g){let h=b._runtimeDataModel.models[c].fields.reduce((a,b)=>({...a,[b.name]:b}),{});return i=>{var j,k;let l,m=df(b._errorFormat),n=void 0===e||void 0===f?[]:[...f,"select",e],o=void 0===g?i??{}:(l=i||!0,dl(n).reduceRight((a,b,c,d)=>Object.assign({},dm(g,d.slice(0,c)),{[b]:a}),l)),p=d({dataPath:n,callsite:m})(o),q=(j=b,k=c,j._runtimeDataModel.models[k].fields.filter(a=>"object"===a.kind).map(a=>a.name));return new Proxy(p,{get:(c,e)=>q.includes(e)?a(b,h[e].type,d,e,n,o):c[e],...c7([...q,...Object.getOwnPropertyNames(p)])})}}(c,d,e):(b=a,dp.includes(b))?"aggregate"===a?a=>e({action:"aggregate",unpacker:di(a),argsMapper:dh})(a):"count"===a?a=>e({action:"count",unpacker:function(a={}){return"object"==typeof a.select?b=>di(a)(b)._count:b=>di(a)(b)._count._all}(a),argsMapper:dj})(a):"groupBy"===a?a=>e({action:"groupBy",unpacker:function(a={}){return b=>("boolean"==typeof a?._count&&b.forEach(a=>{a._count=a._count._all}),b)}(a),argsMapper:dk})(a):void 0:e({})}}),(e=a,f=b,c5(c4("fields",()=>{let a,b,c,d=e._runtimeDataModel.models[f];return new Proxy({},{get(a,b){if(b in a||"symbol"==typeof b)return a[b];let d=c[b];if(d)return new cg(f,b,d.type,d.isList,"enum"===d.kind)},...c7(Object.keys((a=d.fields.filter(a=>!a.relationName),b=a=>a.name,c=a.reduce((a,c)=>(a[b(c)]=c,a),{}))))})}))),c3(i),c4("name",()=>b),c4("$name",()=>b),c4("$parent",()=>a._appliedParent)])}F(),G(),H(),I(),J(),aq();var dr=Symbol();function ds(a){var b,c;let d,e,f,g,h=[(d=[...new Set(Object.getOwnPropertyNames(Object.getPrototypeOf((b=a)._originalClient)))],{getKeys:()=>d,getPropertyValue:a=>b[a]}),(f=(e=Object.keys((c=a)._runtimeDataModel.models)).map(cz),g=[...new Set(e.concat(f))],c5({getKeys:()=>g,getPropertyValue(a){let b=a.replace(/^./,a=>a.toUpperCase());return void 0!==c._runtimeDataModel.models[b]?dq(c,b):void 0!==c._runtimeDataModel.models[a]?dq(c,a):void 0},getPropertyDescriptor(a){if(!f.includes(a))return{enumerable:!1}}})),c4(dr,()=>a),c4("$parent",()=>a._appliedParent)],i=a._extensions.getAllClientExtensions();return i&&h.push(c3(i)),c9(a,h)}function dt(a){if("function"==typeof a)return a(this);if(a.client?.__AccelerateEngine){let b=a.client.__AccelerateEngine;this._originalClient._engine=new b(this._originalClient._accelerateEngineConfig)}return ds(Object.create(this._originalClient,{_extensions:{value:this._extensions.append(a)},_appliedParent:{value:this,configurable:!0},$use:{value:void 0},$on:{value:void 0}}))}function du({visitor:a,result:b,args:c,runtimeDataModel:d,modelName:e}){if(Array.isArray(b)){for(let f=0;f<b.length;f++)b[f]=du({result:b[f],args:c,modelName:e,runtimeDataModel:d,visitor:a});return b}let f=a(b,e,c)??b;return c.include&&dv({includeOrSelect:c.include,result:f,parentModelName:e,runtimeDataModel:d,visitor:a}),c.select&&dv({includeOrSelect:c.select,result:f,parentModelName:e,runtimeDataModel:d,visitor:a}),f}function dv({includeOrSelect:a,result:b,parentModelName:c,runtimeDataModel:d,visitor:e}){for(let[f,g]of Object.entries(a)){if(!g||null==b[f]||cI(g))continue;let a=d.models[c].fields.find(a=>a.name===f);if(!a||"object"!==a.kind||!a.relationName)continue;let h="object"==typeof g?g:{};b[f]=du({visitor:e,result:b[f],args:h,modelName:a.type,runtimeDataModel:d})}}F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq(),aq(),F(),G(),H(),I(),J(),aq();var dw=["$connect","$disconnect","$on","$transaction","$use","$extends"];function dx(a){if("object"!=typeof a||null==a||a instanceof ck||ch(a))return a;if(bR(a))return new ao(a.toFixed());if(bP(a))return new Date(+a);if(ArrayBuffer.isView(a))return a.slice(0);if(Array.isArray(a)){let b=a.length,c;for(c=Array(b);b--;)c[b]=dx(a[b]);return c}if("object"==typeof a){let b={};for(let c in a)"__proto__"===c?Object.defineProperty(b,c,{value:dx(a[c]),configurable:!0,enumerable:!0,writable:!0}):b[c]=dx(a[c]);return b}bD(a,"Unknown value")}var dy=a=>a;function dz(a=dy,b=dy){return c=>a(b(c))}F(),G(),H(),I(),J(),aq();var dA=br("prisma:client"),dB={Vercel:"vercel","Netlify CI":"netlify"};F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq();var dC=()=>globalThis.process?.release?.name==="node",dD=()=>!!globalThis.Bun||!!globalThis.process?.versions?.bun,dE=()=>!!globalThis.Deno,dF=()=>"object"==typeof globalThis.Netlify,dG=()=>"object"==typeof globalThis.EdgeRuntime,dH=()=>globalThis.navigator?.userAgent==="Cloudflare-Workers",dI={node:"Node.js",workerd:"Cloudflare Workers",deno:"Deno and Deno Deploy",netlify:"Netlify Edge Functions","edge-light":"Edge Runtime (Vercel Edge Functions, Vercel Edge Middleware, Next.js (Pages Router) Edge API Routes, Next.js (App Router) Edge Route Handlers or Next.js Middleware)"};function dJ(){let a=[[dF,"netlify"],[dG,"edge-light"],[dH,"workerd"],[dE,"deno"],[dD,"bun"],[dC,"node"]].flatMap(a=>a[0]()?[a[1]]:[]).at(0)??"";return{id:a,prettyName:dI[a]||a,isEdge:["workerd","deno","netlify","edge-light"].includes(a)}}function dK({inlineDatasources:a,overrideDatasources:b,env:c,clientVersion:d}){let e,f=Object.keys(a)[0],g=a[f]?.url,h=b[f]?.url;if(void 0===f?e=void 0:h?e=h:g?.value?e=g.value:g?.fromEnvVar&&(e=c[g.fromEnvVar]),g?.fromEnvVar!==void 0&&void 0===e)throw"workerd"===dJ().id?new bI(`error: Environment variable not found: ${g.fromEnvVar}.

In Cloudflare module Workers, environment variables are available only in the Worker's \`env\` parameter of \`fetch\`.
To solve this, provide the connection string directly: https://pris.ly/d/cloudflare-datasource-url`,d):new bI(`error: Environment variable not found: ${g.fromEnvVar}.`,d);if(void 0===e)throw new bI("error: Missing URL environment variable, value, or override.",d);return e}F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq();var dL,dM,dN,dO={async loadLibrary(a){let{clientVersion:b,adapter:c,engineWasm:d}=a;if(void 0===c)throw new bI(`The \`adapter\` option for \`PrismaClient\` is required in this context (${dJ().prettyName})`,b);if(void 0===d)throw new bI("WASM engine was unexpectedly `undefined`",b);return void 0===dN&&(dN=(async()=>{let a=d.getRuntime(),c=await d.getQueryEngineWasmModule();if(null==c)throw new bI("The loaded wasm module was unexpectedly `undefined` or `null` once loaded",b);let e=new WebAssembly.Instance(c,{"./query_engine_bg.js":a}),f=e.exports.__wbindgen_start;return a.__wbg_set_wasm(e.exports),f(),a.QueryEngine})()),{debugPanic:()=>Promise.reject("{}"),dmmf:()=>Promise.resolve("{}"),version:()=>({commit:"unknown",version:"unknown"}),QueryEngine:await dN}}},dP=br("prisma:client:libraryEngine"),dQ=1n,dR=class{name="LibraryEngine";engine;libraryInstantiationPromise;libraryStartingPromise;libraryStoppingPromise;libraryStarted;executingQueryPromise;config;QueryEngineConstructor;libraryLoader;library;logEmitter;libQueryEnginePath;binaryTarget;datasourceOverrides;datamodel;logQueries;logLevel;lastQuery;loggerRustPanic;tracingHelper;versionInfo;constructor(a,b){this.libraryLoader=b??dO,this.config=a,this.libraryStarted=!1,this.logQueries=a.logQueries??!1,this.logLevel=a.logLevel??"error",this.logEmitter=a.logEmitter,this.datamodel=a.inlineSchema,this.tracingHelper=a.tracingHelper,a.enableDebugLogs&&(this.logLevel="debug");let c=Object.keys(a.overrideDatasources)[0],d=a.overrideDatasources[c]?.url;void 0!==c&&void 0!==d&&(this.datasourceOverrides={[c]:d}),this.libraryInstantiationPromise=this.instantiateLibrary()}wrapEngine(a){return{applyPendingMigrations:a.applyPendingMigrations?.bind(a),commitTransaction:this.withRequestId(a.commitTransaction.bind(a)),connect:this.withRequestId(a.connect.bind(a)),disconnect:this.withRequestId(a.disconnect.bind(a)),metrics:a.metrics?.bind(a),query:this.withRequestId(a.query.bind(a)),rollbackTransaction:this.withRequestId(a.rollbackTransaction.bind(a)),sdlSchema:a.sdlSchema?.bind(a),startTransaction:this.withRequestId(a.startTransaction.bind(a)),trace:a.trace.bind(a)}}withRequestId(a){return async(...b)=>{let c,d=(c=dQ++,dQ>0xffffffffffffffffn&&(dQ=1n),c).toString();try{return await a(...b,d)}finally{if(this.tracingHelper.isEnabled()){let a=await this.engine?.trace(d);if(a){let b=JSON.parse(a);this.tracingHelper.dispatchEngineSpans(b.spans)}}}}}async applyPendingMigrations(){throw Error("Cannot call this method from this type of engine instance")}async transaction(a,b,c){var d;await this.start();let e=JSON.stringify(b),f;if("start"===a){let a=JSON.stringify({max_wait:c.maxWait,timeout:c.timeout,isolation_level:c.isolationLevel});f=await this.engine?.startTransaction(a,e)}else"commit"===a?f=await this.engine?.commitTransaction(c.id,e):"rollback"===a&&(f=await this.engine?.rollbackTransaction(c.id,e));let g=this.parseEngineResponse(f);if("object"==typeof(d=g)&&null!==d&&void 0!==d.error_code){let a=this.getExternalAdapterError(g);throw a?a.error:new bJ(g.message,{code:g.error_code,clientVersion:this.config.clientVersion,meta:g.meta})}if("string"==typeof g.message)throw new bL(g.message,{clientVersion:this.config.clientVersion});return g}async instantiateLibrary(){if(dP("internalSetup"),this.libraryInstantiationPromise)return this.libraryInstantiationPromise;this.binaryTarget=await this.getCurrentBinaryTarget(),await this.tracingHelper.runInChildSpan("load_engine",()=>this.loadEngine()),this.version()}async getCurrentBinaryTarget(){}parseEngineResponse(a){if(!a)throw new bL("Response from the Engine was empty",{clientVersion:this.config.clientVersion});try{return JSON.parse(a)}catch{throw new bL("Unable to JSON.parse response from engine",{clientVersion:this.config.clientVersion})}}async loadEngine(){if(!this.engine){this.QueryEngineConstructor||(this.library=await this.libraryLoader.loadLibrary(this.config),this.QueryEngineConstructor=this.library.QueryEngine);try{let a=new E(this),{adapter:b}=this.config;b&&dP("Using driver adapter: %O",b),this.engine=this.wrapEngine(new this.QueryEngineConstructor({datamodel:this.datamodel,env:C.env,logQueries:this.config.logQueries??!1,ignoreEnvVarErrors:!0,datasourceOverrides:this.datasourceOverrides??{},logLevel:this.logLevel,configDir:this.config.cwd,engineProtocol:"json",enableTracing:this.tracingHelper.isEnabled()},b=>{a.deref()?.logger(b)},b))}catch(b){let a=this.parseInitError(b.message);throw"string"==typeof a?b:new bI(a.message,this.config.clientVersion,a.error_code)}}}logger(a){let b=this.parseEngineResponse(a);b&&(b.level=b?.level.toLowerCase()??"unknown","query"===b.item_type&&"query"in b?this.logEmitter.emit("query",{timestamp:new Date,query:b.query,params:b.params,duration:Number(b.duration_ms),target:b.module_path}):("level"in b&&"error"===b.level&&b.message,this.logEmitter.emit(b.level,{timestamp:new Date,message:b.message,target:b.module_path})))}parseInitError(a){try{return JSON.parse(a)}catch{}return a}parseRequestError(a){try{return JSON.parse(a)}catch{}return a}onBeforeExit(){throw Error('"beforeExit" hook is not applicable to the library engine since Prisma 5.0.0, it is only relevant and implemented for the binary engine. Please add your event listener to the `process` object directly instead.')}async start(){if(await this.libraryInstantiationPromise,await this.libraryStoppingPromise,this.libraryStartingPromise)return dP(`library already starting, this.libraryStarted: ${this.libraryStarted}`),this.libraryStartingPromise;if(this.libraryStarted)return;let a=async()=>{dP("library starting");try{let a={traceparent:this.tracingHelper.getTraceParent()};await this.engine?.connect(JSON.stringify(a)),this.libraryStarted=!0,dP("library started")}catch(b){let a=this.parseInitError(b.message);throw"string"==typeof a?b:new bI(a.message,this.config.clientVersion,a.error_code)}finally{this.libraryStartingPromise=void 0}};return this.libraryStartingPromise=this.tracingHelper.runInChildSpan("connect",a),this.libraryStartingPromise}async stop(){if(await this.libraryStartingPromise,await this.executingQueryPromise,this.libraryStoppingPromise)return dP("library is already stopping"),this.libraryStoppingPromise;if(!this.libraryStarted)return;let a=async()=>{await new Promise(a=>setTimeout(a,5)),dP("library stopping");let a={traceparent:this.tracingHelper.getTraceParent()};await this.engine?.disconnect(JSON.stringify(a)),this.libraryStarted=!1,this.libraryStoppingPromise=void 0,dP("library stopped")};return this.libraryStoppingPromise=this.tracingHelper.runInChildSpan("disconnect",a),this.libraryStoppingPromise}version(){return this.versionInfo=this.library?.version(),this.versionInfo?.version??"unknown"}debugPanic(a){return this.library?.debugPanic(a)}async request(a,{traceparent:b,interactiveTransaction:c}){dP(`sending request, this.libraryStarted: ${this.libraryStarted}`);let d=JSON.stringify({traceparent:b}),e=JSON.stringify(a);try{await this.start(),this.executingQueryPromise=this.engine?.query(e,d,c?.id),this.lastQuery=e;let a=this.parseEngineResponse(await this.executingQueryPromise);if(a.errors)throw 1===a.errors.length?this.buildQueryError(a.errors[0]):new bL(JSON.stringify(a.errors),{clientVersion:this.config.clientVersion});if(this.loggerRustPanic)throw this.loggerRustPanic;return{data:a}}catch(b){if(b instanceof bI)throw b;"GenericFailure"===b.code&&b.message?.startsWith("PANIC:");let a=this.parseRequestError(b.message);throw"string"==typeof a?b:new bL(`${a.message}
${a.backtrace}`,{clientVersion:this.config.clientVersion})}}async requestBatch(a,{transaction:b,traceparent:c}){dP("requestBatch");let d=dc(a,b);await this.start(),this.lastQuery=JSON.stringify(d),this.executingQueryPromise=this.engine.query(this.lastQuery,JSON.stringify({traceparent:c}),function(a){if(a?.kind==="itx")return a.options.id}(b));let e=await this.executingQueryPromise,f=this.parseEngineResponse(e);if(f.errors)throw 1===f.errors.length?this.buildQueryError(f.errors[0]):new bL(JSON.stringify(f.errors),{clientVersion:this.config.clientVersion});let{batchResult:g,errors:h}=f;if(Array.isArray(g))return g.map(a=>a.errors&&a.errors.length>0?this.loggerRustPanic??this.buildQueryError(a.errors[0]):{data:a});throw h&&1===h.length?Error(h[0].error):Error(JSON.stringify(f))}buildQueryError(a){a.user_facing_error.is_panic;let b=this.getExternalAdapterError(a.user_facing_error);return b?b.error:dd(a,this.config.clientVersion,this.config.activeProvider)}getExternalAdapterError(a){if("P2036"===a.error_code&&this.config.adapter){let b=a.meta?.id;bC("number"==typeof b,"Malformed external JS error received from the engine");let c=this.config.adapter.errorRegistry.consumeError(b);return bC(c,"External error with reported id was not registered"),c}}async metrics(a){await this.start();let b=await this.engine.metrics(JSON.stringify(a));return"prometheus"===a.format?b:this.parseEngineResponse(b)}};F(),G(),H(),I(),J(),aq();var dS="Accelerate has not been setup correctly. Make sure your client is using `.$extends(withAccelerate())`. See https://pris.ly/d/accelerate-getting-started",dT=class{constructor(a){this.config=a,this.resolveDatasourceUrl=this.config.accelerateUtils?.resolveDatasourceUrl,this.getBatchRequestPayload=this.config.accelerateUtils?.getBatchRequestPayload,this.prismaGraphQLToJSError=this.config.accelerateUtils?.prismaGraphQLToJSError,this.PrismaClientUnknownRequestError=this.config.accelerateUtils?.PrismaClientUnknownRequestError,this.PrismaClientInitializationError=this.config.accelerateUtils?.PrismaClientInitializationError,this.PrismaClientKnownRequestError=this.config.accelerateUtils?.PrismaClientKnownRequestError,this.debug=this.config.accelerateUtils?.debug,this.engineVersion=this.config.accelerateUtils?.engineVersion,this.clientVersion=this.config.accelerateUtils?.clientVersion}name="AccelerateEngine";resolveDatasourceUrl;getBatchRequestPayload;prismaGraphQLToJSError;PrismaClientUnknownRequestError;PrismaClientInitializationError;PrismaClientKnownRequestError;debug;engineVersion;clientVersion;onBeforeExit(a){}async start(){}async stop(){}version(a){return"unknown"}transaction(a,b,c){throw new bI(dS,this.config.clientVersion)}metrics(a){throw new bI(dS,this.config.clientVersion)}request(a,b){throw new bI(dS,this.config.clientVersion)}requestBatch(a,b){throw new bI(dS,this.config.clientVersion)}applyPendingMigrations(){throw new bI(dS,this.config.clientVersion)}};function dU({generator:a}){return a?.previewFeatures??[]}F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq();var dV=a=>({command:a});function dW(a){try{return dX(a,"fast")}catch{return dX(a,"slow")}}function dX(a,b){return JSON.stringify(a.map(a=>(function a(b,c){var d;if(Array.isArray(b))return b.map(b=>a(b,c));if("bigint"==typeof b)return{prisma__type:"bigint",prisma__value:b.toString()};if(bP(b))return{prisma__type:"date",prisma__value:b.toJSON()};if(ao.isDecimal(b))return{prisma__type:"decimal",prisma__value:b.toJSON()};if(A.isBuffer(b))return{prisma__type:"bytes",prisma__value:b.toString("base64")};if((d=b)instanceof ArrayBuffer||d instanceof SharedArrayBuffer||"object"==typeof d&&null!==d&&("ArrayBuffer"===d[Symbol.toStringTag]||"SharedArrayBuffer"===d[Symbol.toStringTag]))return{prisma__type:"bytes",prisma__value:A.from(b).toString("base64")};if(ArrayBuffer.isView(b)){let{buffer:a,byteOffset:c,byteLength:d}=b;return{prisma__type:"bytes",prisma__value:A.from(a,c,d).toString("base64")}}return"object"==typeof b&&"slow"===c?dY(b):b})(a,b)))}function dY(a){if("object"!=typeof a||null===a)return a;if("function"==typeof a.toJSON)return a.toJSON();if(Array.isArray(a))return a.map(dZ);let b={};for(let c of Object.keys(a))b[c]=dZ(a[c]);return b}function dZ(a){return"bigint"==typeof a?a.toString():dY(a)}F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq(),aq();var d$=/^(\s*alter\s)/i,d_=br("prisma:client");function d0(a,b,c,d){if(("postgresql"===a||"cockroachdb"===a)&&c.length>0&&d$.exec(b))throw Error(`Running ALTER using ${d} is not supported
Using the example below you can still execute your query with Prisma, but please note that it is vulnerable to SQL injection attacks and requires you to take care of input sanitization.

Example:
  await prisma.$executeRawUnsafe(\`ALTER USER prisma WITH PASSWORD '\${password}'\`)

More Information: https://pris.ly/d/execute-raw
`)}var d1=({clientMethod:a,activeProvider:b})=>c=>{let d="",e;if(cY(c))d=c.sql,e={values:dW(c.values),__prismaRawParameters__:!0};else if(Array.isArray(c)){let[a,...b]=c;d=a,e={values:dW(b||[]),__prismaRawParameters__:!0}}else switch(b){case"sqlite":case"mysql":d=c.sql,e={values:dW(c.values),__prismaRawParameters__:!0};break;case"cockroachdb":case"postgresql":case"postgres":d=c.text,e={values:dW(c.values),__prismaRawParameters__:!0};break;case"sqlserver":d=c.strings.reduce((a,b,c)=>`${a}@P${c}${b}`),e={values:dW(c.values),__prismaRawParameters__:!0};break;default:throw Error(`The ${b} provider does not support ${a}`)}return e?.values?d_(`prisma.${a}(${d}, ${e.values})`):d_(`prisma.${a}(${d})`),{query:d,parameters:e}},d2={requestArgsToMiddlewareArgs:a=>[a.strings,...a.values],middlewareArgsToRequestArgs(a){let[b,...c]=a;return new c$(b,c)}},d3={requestArgsToMiddlewareArgs:a=>[a],middlewareArgsToRequestArgs:a=>a[0]};function d4(a){return function(b,c){let d,e=(c=a)=>{try{return void 0===c||c?.kind==="itx"?d??=d5(b(c)):d5(b(c))}catch(a){return Promise.reject(a)}};return{get spec(){return c},then:(a,b)=>e().then(a,b),catch:a=>e().catch(a),finally:a=>e().finally(a),requestTransaction(a){let b=e(a);return b.requestTransaction?b.requestTransaction(a):b},[Symbol.toStringTag]:"PrismaPromise"}}}function d5(a){return"function"==typeof a.then?a:Promise.resolve(a)}F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq();var d6=bs.split(".")[0],d7={isEnabled:()=>!1,getTraceParent:()=>"00-10-10-00",dispatchEngineSpans(){},getActiveContext(){},runInChildSpan:(a,b)=>b()},d8=class{isEnabled(){return this.getGlobalTracingHelper().isEnabled()}getTraceParent(a){return this.getGlobalTracingHelper().getTraceParent(a)}dispatchEngineSpans(a){return this.getGlobalTracingHelper().dispatchEngineSpans(a)}getActiveContext(){return this.getGlobalTracingHelper().getActiveContext()}runInChildSpan(a,b){return this.getGlobalTracingHelper().runInChildSpan(a,b)}getGlobalTracingHelper(){let a=globalThis[`V${d6}_PRISMA_INSTRUMENTATION`],b=globalThis.PRISMA_INSTRUMENTATION;return a?.helper??b?.helper??d7}};F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq();var d9=class{_middlewares=[];use(a){this._middlewares.push(a)}get(a){return this._middlewares[a]}has(a){return!!this._middlewares[a]}length(){return this._middlewares.length}};F(),G(),H(),I(),J(),aq();var ea=l(aS());function eb(a){return"number"==typeof a.batchRequestIdx}function ec(a){return`(${Object.keys(a).sort().map(b=>{let c=a[b];return"object"==typeof c&&null!==c?`(${b} ${ec(c)})`:b}).join(" ")})`}F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq();var ed={aggregate:!1,aggregateRaw:!1,createMany:!0,createManyAndReturn:!0,createOne:!0,deleteMany:!0,deleteOne:!0,executeRaw:!0,findFirst:!1,findFirstOrThrow:!1,findMany:!1,findRaw:!1,findUnique:!1,findUniqueOrThrow:!1,groupBy:!1,queryRaw:!1,runCommandRaw:!0,updateMany:!0,updateManyAndReturn:!0,updateOne:!0,upsertOne:!0};F(),G(),H(),I(),J(),aq();var ee=class{constructor(a){this.options=a,this.batches={}}batches;tickActive=!1;request(a){let b=this.options.batchBy(a);return b?(this.batches[b]||(this.batches[b]=[],this.tickActive||(this.tickActive=!0,C.nextTick(()=>{this.dispatchBatches(),this.tickActive=!1}))),new Promise((c,d)=>{this.batches[b].push({request:a,resolve:c,reject:d})})):this.options.singleLoader(a)}dispatchBatches(){for(let a in this.batches){let b=this.batches[a];delete this.batches[a],1===b.length?this.options.singleLoader(b[0].request).then(a=>{a instanceof Error?b[0].reject(a):b[0].resolve(a)}).catch(a=>{b[0].reject(a)}):(b.sort((a,b)=>this.options.batchOrder(a.request,b.request)),this.options.batchLoader(b.map(a=>a.request)).then(a=>{if(a instanceof Error)for(let c=0;c<b.length;c++)b[c].reject(a);else for(let c=0;c<b.length;c++){let d=a[c];d instanceof Error?b[c].reject(d):b[c].resolve(d)}}).catch(a=>{for(let c=0;c<b.length;c++)b[c].reject(a)}))}}get[Symbol.toStringTag](){return"DataLoader"}};function ef(a){let b=[],c=function(a){let b={};for(let c=0;c<a.columns.length;c++)b[a.columns[c]]=null;return b}(a);for(let d=0;d<a.rows.length;d++){let e=a.rows[d],f={...c};for(let b=0;b<e.length;b++)f[a.columns[b]]=function a(b,c){if(null===c)return c;switch(b){case"bigint":return BigInt(c);case"bytes":{let{buffer:a,byteOffset:b,byteLength:d}=A.from(c,"base64");return new Uint8Array(a,b,d)}case"decimal":return new ao(c);case"datetime":case"date":return new Date(c);case"time":return new Date(`1970-01-01T${c}Z`);case"bigint-array":return c.map(b=>a("bigint",b));case"bytes-array":return c.map(b=>a("bytes",b));case"decimal-array":return c.map(b=>a("decimal",b));case"datetime-array":return c.map(b=>a("datetime",b));case"date-array":return c.map(b=>a("date",b));case"time-array":return c.map(b=>a("time",b));default:return c}}(a.types[b],e[b]);b.push(f)}return b}F(),G(),H(),I(),J(),aq(),aq();var eg=br("prisma:client:request_handler"),eh=class{client;dataloader;logEmitter;constructor(a,b){this.logEmitter=b,this.client=a,this.dataloader=new ee({batchLoader:function(a){return b=>{let c={requests:b},d=b[0].extensions.getAllBatchQueryCallbacks();return d.length?function a(b,c,d,e){if(d===c.length)return e(b);let f=b.customDataProxyFetch,g=b.requests[0].transaction;return c[d]({args:{queries:b.requests.map(a=>({model:a.modelName,operation:a.action,args:a.args})),transaction:g?{isolationLevel:"batch"===g.kind?g.isolationLevel:void 0}:void 0},__internalParams:b,query(g,h=b){let i=h.customDataProxyFetch;return h.customDataProxyFetch=dz(f,i),a(h,c,d+1,e)}})}(c,d,0,a):a(c)}}(async({requests:a,customDataProxyFetch:b})=>{let{transaction:c,otelParentCtx:d}=a[0],e=a.map(a=>a.protocolQuery),f=this.client._tracingHelper.getTraceParent(d),g=a.some(a=>ed[a.protocolQuery.action]);return(await this.client._engine.requestBatch(e,{traceparent:f,transaction:function(a){if(a){if("batch"===a.kind)return{kind:"batch",options:{isolationLevel:a.isolationLevel}};if("itx"===a.kind)return{kind:"itx",options:ei(a)};bD(a,"Unknown transaction kind")}}(c),containsWrite:g,customDataProxyFetch:b})).map((b,c)=>{if(b instanceof Error)return b;try{return this.mapQueryEngineResult(a[c],b)}catch(a){return a}})}),singleLoader:async a=>{let b=a.transaction?.kind==="itx"?ei(a.transaction):void 0,c=await this.client._engine.request(a.protocolQuery,{traceparent:this.client._tracingHelper.getTraceParent(),interactiveTransaction:b,isWrite:ed[a.protocolQuery.action],customDataProxyFetch:a.customDataProxyFetch});return this.mapQueryEngineResult(a,c)},batchBy:a=>a.transaction?.id?`transaction-${a.transaction.id}`:function(a){if("findUnique"!==a.action&&"findUniqueOrThrow"!==a.action)return;let b=[];return a.modelName&&b.push(a.modelName),a.query.arguments&&b.push(ec(a.query.arguments)),b.push(ec(a.query.selection)),b.join("")}(a.protocolQuery),batchOrder:(a,b)=>a.transaction?.kind==="batch"&&b.transaction?.kind==="batch"?a.transaction.index-b.transaction.index:0})}async request(a){try{return await this.dataloader.request(a)}catch(g){let{clientMethod:b,callsite:c,transaction:d,args:e,modelName:f}=a;this.handleAndLogRequestError({error:g,clientMethod:b,callsite:c,transaction:d,args:e,modelName:f,globalOmit:a.globalOmit})}}mapQueryEngineResult({dataPath:a,unpacker:b},c){let d=c?.data,e=this.unpack(d,a,b);return C.env.PRISMA_CLIENT_GET_TIME?{data:e}:e}handleAndLogRequestError(a){try{this.handleRequestError(a)}catch(b){throw this.logEmitter&&this.logEmitter.emit("error",{message:b.message,target:a.clientMethod,timestamp:new Date}),b}}handleRequestError({error:a,clientMethod:b,callsite:c,transaction:d,args:e,modelName:f,globalOmit:g}){var h,i,j;if(eg(a),h=a,i=d,eb(h)&&i?.kind==="batch"&&h.batchRequestIdx!==i.index)throw a;a instanceof bJ&&("P2009"===(j=a).code||"P2012"===j.code)&&cw({args:e,errors:[function a(b){if("Union"===b.kind)return{kind:"Union",errors:b.errors.map(a)};if(Array.isArray(b.selectionPath)){let[,...a]=b.selectionPath;return{...b,selectionPath:a}}return b}(a.meta)],callsite:c,errorFormat:this.client._errorFormat,originalMethod:b,clientVersion:this.client._clientVersion,globalOmit:g});let k=a.message;if(c&&(k=bU({callsite:c,originalMethod:b,isPanic:a.isPanic,showColors:"pretty"===this.client._errorFormat,message:k})),k=this.sanitizeMessage(k),a.code){let b=f?{modelName:f,...a.meta}:a.meta;throw new bJ(k,{code:a.code,clientVersion:this.client._clientVersion,meta:b,batchRequestIdx:a.batchRequestIdx})}if(a.isPanic)throw new bK(k,this.client._clientVersion);if(a instanceof bL)throw new bL(k,{clientVersion:this.client._clientVersion,batchRequestIdx:a.batchRequestIdx});if(a instanceof bI)throw new bI(k,this.client._clientVersion);if(a instanceof bK)throw new bK(k,this.client._clientVersion);throw a.clientVersion=this.client._clientVersion,a}sanitizeMessage(a){return this.client._errorFormat&&"pretty"!==this.client._errorFormat?(0,ea.default)(a):a}unpack(a,b,c){if(!a||(a.data&&(a=a.data),!a))return a;let d=Object.keys(a)[0],e=dm(Object.values(a)[0],b.filter(a=>"select"!==a&&"include"!==a)),f="queryRaw"===d?ef(e):bN(e);return c?c(f):f}get[Symbol.toStringTag](){return"RequestHandler"}};function ei(a){return{id:a.id,payload:a.payload}}F(),G(),H(),I(),J(),aq(),F(),G(),H(),I(),J(),aq();var ej=l(aT());F(),G(),H(),I(),J(),aq();var ek=class extends Error{constructor(a){super(a+`
Read more at https://pris.ly/d/client-constructor`),this.name="PrismaClientConstructorValidationError"}get[Symbol.toStringTag](){return"PrismaClientConstructorValidationError"}};bF(ek,"PrismaClientConstructorValidationError");var el=["datasources","datasourceUrl","errorFormat","adapter","log","transactionOptions","omit","__internal"],em=["pretty","colorless","minimal"],en=["info","query","warn","error"],eo={datasources:(a,{datasourceNames:b})=>{if(a){if("object"!=typeof a||Array.isArray(a))throw new ek(`Invalid value ${JSON.stringify(a)} for "datasources" provided to PrismaClient constructor`);for(let[c,d]of Object.entries(a)){if(!b.includes(c)){let a=ep(c,b)||` Available datasources: ${b.join(", ")}`;throw new ek(`Unknown datasource ${c} provided to PrismaClient constructor.${a}`)}if("object"!=typeof d||Array.isArray(d))throw new ek(`Invalid value ${JSON.stringify(a)} for datasource "${c}" provided to PrismaClient constructor.
It should have this form: { url: "CONNECTION_STRING" }`);if(d&&"object"==typeof d)for(let[b,e]of Object.entries(d)){if("url"!==b)throw new ek(`Invalid value ${JSON.stringify(a)} for datasource "${c}" provided to PrismaClient constructor.
It should have this form: { url: "CONNECTION_STRING" }`);if("string"!=typeof e)throw new ek(`Invalid value ${JSON.stringify(e)} for datasource "${c}" provided to PrismaClient constructor.
It should have this form: { url: "CONNECTION_STRING" }`)}}}},adapter:(a,b)=>{if(!a&&"client"===bt(b.generator))throw new ek('Using engine type "client" requires a driver adapter to be provided to PrismaClient constructor.');if(null!==a){if(void 0===a)throw new ek('"adapter" property must not be undefined, use null to conditionally disable driver adapters.');if(!dU(b).includes("driverAdapters"))throw new ek('"adapter" property can only be provided to PrismaClient constructor when "driverAdapters" preview feature is enabled.');if("binary"===bt(b.generator))throw new ek('Cannot use a driver adapter with the "binary" Query Engine. Please use the "library" Query Engine.')}},datasourceUrl:a=>{if("u">typeof a&&"string"!=typeof a)throw new ek(`Invalid value ${JSON.stringify(a)} for "datasourceUrl" provided to PrismaClient constructor.
Expected string or undefined.`)},errorFormat:a=>{if(a){if("string"!=typeof a)throw new ek(`Invalid value ${JSON.stringify(a)} for "errorFormat" provided to PrismaClient constructor.`);if(!em.includes(a)){let b=ep(a,em);throw new ek(`Invalid errorFormat ${a} provided to PrismaClient constructor.${b}`)}}},log:a=>{if(a){if(!Array.isArray(a))throw new ek(`Invalid value ${JSON.stringify(a)} for "log" provided to PrismaClient constructor.`);for(let c of a){b(c);let a={level:b,emit:a=>{let b=["stdout","event"];if(!b.includes(a)){let c=ep(a,b);throw new ek(`Invalid value ${JSON.stringify(a)} for "emit" in logLevel provided to PrismaClient constructor.${c}`)}}};if(c&&"object"==typeof c)for(let[b,d]of Object.entries(c))if(a[b])a[b](d);else throw new ek(`Invalid property ${b} for "log" provided to PrismaClient constructor`)}}function b(a){if("string"==typeof a&&!en.includes(a)){let b=ep(a,en);throw new ek(`Invalid log level "${a}" provided to PrismaClient constructor.${b}`)}}},transactionOptions:a=>{if(!a)return;let b=a.maxWait;if(null!=b&&b<=0)throw new ek(`Invalid value ${b} for maxWait in "transactionOptions" provided to PrismaClient constructor. maxWait needs to be greater than 0`);let c=a.timeout;if(null!=c&&c<=0)throw new ek(`Invalid value ${c} for timeout in "transactionOptions" provided to PrismaClient constructor. timeout needs to be greater than 0`)},omit:(a,b)=>{if("object"!=typeof a)throw new ek('"omit" option is expected to be an object.');if(null===a)throw new ek('"omit" option can not be `null`');let c=[];for(let[d,e]of Object.entries(a)){let a=function(a,b){return eq(b.models,a)??eq(b.types,a)}(d,b.runtimeDataModel);if(!a){c.push({kind:"UnknownModel",modelKey:d});continue}for(let[b,f]of Object.entries(e)){let e=a.fields.find(a=>a.name===b);if(!e){c.push({kind:"UnknownField",modelKey:d,fieldName:b});continue}if(e.relationName){c.push({kind:"RelationInOmit",modelKey:d,fieldName:b});continue}"boolean"!=typeof f&&c.push({kind:"InvalidFieldValue",modelKey:d,fieldName:b})}}if(c.length>0)throw new ek(function(a,b){let c=ct(a);for(let a of b)switch(a.kind){case"UnknownModel":c.arguments.getField(a.modelKey)?.markAsError(),c.addErrorMessage(()=>`Unknown model name: ${a.modelKey}.`);break;case"UnknownField":c.arguments.getDeepField([a.modelKey,a.fieldName])?.markAsError(),c.addErrorMessage(()=>`Model "${a.modelKey}" does not have a field named "${a.fieldName}".`);break;case"RelationInOmit":c.arguments.getDeepField([a.modelKey,a.fieldName])?.markAsError(),c.addErrorMessage(()=>'Relations are already excluded by default and can not be specified in "omit".');break;case"InvalidFieldValue":c.arguments.getDeepFieldValue([a.modelKey,a.fieldName])?.markAsError(),c.addErrorMessage(()=>"Omit field option value must be a boolean.")}let{message:d,args:e}=cv(c,"colorless");return`Error validating "omit" option:

${e}

${d}`}(a,c))},__internal:a=>{if(!a)return;let b=["debug","engine","configOverride"];if("object"!=typeof a)throw new ek(`Invalid value ${JSON.stringify(a)} for "__internal" to PrismaClient constructor`);for(let[c]of Object.entries(a))if(!b.includes(c)){let a=ep(c,b);throw new ek(`Invalid property ${JSON.stringify(c)} for "__internal" provided to PrismaClient constructor.${a}`)}}};function ep(a,b){if(0===b.length||"string"!=typeof a)return"";let c=function(a,b){if(0===b.length)return null;let c=b.map(b=>({value:b,distance:(0,ej.default)(a,b)}));c.sort((a,b)=>a.distance<b.distance?-1:1);let d=c[0];return d.distance<3?d.value:null}(a,b);return c?` Did you mean "${c}"?`:""}function eq(a,b){let c=Object.keys(a).find(a=>bO(a)===b);if(c)return a[c]}F(),G(),H(),I(),J(),aq();var er=br("prisma:client");"object"==typeof globalThis&&(globalThis.NODE_CLIENT=!0);var es={requestArgsToMiddlewareArgs:a=>a,middlewareArgsToRequestArgs:a=>a},et=Symbol.for("prisma.client.transaction.id"),eu={id:0,nextId(){return++this.id}};function ev(a){class b{_originalClient=this;_runtimeDataModel;_requestHandler;_connectionPromise;_disconnectionPromise;_engineConfig;_accelerateEngineConfig;_clientVersion;_errorFormat;_tracingHelper;_middlewares=new d9;_previewFeatures;_activeProvider;_globalOmit;_extensions;_engine;_appliedParent;_createPrismaPromise=d4();constructor(b){let c;(function({postinstall:a,ciName:b,clientVersion:c}){if(dA("checkPlatformCaching:postinstall",a),dA("checkPlatformCaching:ciName",b),!0===a&&b&&b in dB){let a=`Prisma has detected that this project was built on ${b}, which caches dependencies. This leads to an outdated Prisma Client because Prisma's auto-generation isn't triggered. To fix this, make sure to run the \`prisma generate\` command during the build process.

Learn how: https://pris.ly/d/${dB[b]}-build`;throw console.error(a),new bI(a,c)}})(a=b?.__internal?.configOverride?.(a)??a),b&&function(a,b){for(let[c,d]of Object.entries(a)){if(!el.includes(c)){let a=ep(c,el);throw new ek(`Unknown property ${c} provided to PrismaClient constructor.${a}`)}eo[c](d,b)}if(a.datasourceUrl&&a.datasources)throw new ek('Can not use "datasourceUrl" and "datasources" options at the same time. Pick one of them')}(b,a);let d=new aM().on("error",()=>{});if(this._extensions=cC.empty(),this._previewFeatures=dU(a),this._clientVersion=a.clientVersion??"6.5.0",this._activeProvider=a.activeProvider,this._globalOmit=b?.omit,this._tracingHelper=new d8,a.relativeEnvPaths.rootEnvPath&&aL.resolve(a.dirname,a.relativeEnvPaths.rootEnvPath),a.relativeEnvPaths.schemaEnvPath&&aL.resolve(a.dirname,a.relativeEnvPaths.schemaEnvPath),b?.adapter){c=(a=>{var b,c;let d=new a2,e=a4(d,a.transactionContext.bind(a)),f={adapterName:a.adapterName,errorRegistry:d,queryRaw:a4(d,a.queryRaw.bind(a)),executeRaw:a4(d,a.executeRaw.bind(a)),executeScript:a4(d,a.executeScript.bind(a)),dispose:a4(d,a.dispose.bind(a)),provider:a.provider,transactionContext:async(...a)=>(await e(...a)).map(a=>((a,b)=>{let c=a4(a,b.startTransaction.bind(b));return{adapterName:b.adapterName,provider:b.provider,queryRaw:a4(a,b.queryRaw.bind(b)),executeRaw:a4(a,b.executeRaw.bind(b)),startTransaction:async(...b)=>(await c(...b)).map(b=>a3(a,b))}})(d,a))};return a.getConnectionInfo&&(b=d,c=a.getConnectionInfo.bind(a),f.getConnectionInfo=(...a)=>{try{return a0(c(...a))}catch(a){if(a_(a))return a1(a.cause);return a1({kind:"GenericJs",id:b.registerNewError(a)})}}),f})(b.adapter);let d="postgresql"===a.activeProvider?"postgres":a.activeProvider;if(c.provider!==d)throw new bI(`The Driver Adapter \`${c.adapterName}\`, based on \`${c.provider}\`, is not compatible with the provider \`${d}\` specified in the Prisma schema.`,this._clientVersion);if(b.datasources||void 0!==b.datasourceUrl)throw new bI("Custom datasource configuration is not compatible with Prisma Driver Adapters. Please define the database connection string directly in the Driver Adapter configuration.",this._clientVersion)}let e=a.injectableEdgeEnv?.();try{let f=b??{},g=f.__internal??{},h=!0===g.debug;h&&br.enable("prisma:client");let i=aL.resolve(a.dirname,a.relativePath);aE.existsSync(i)||(i=a.dirname),er("dirname",a.dirname),er("relativePath",a.relativePath),er("cwd",i);let j=g.engine||{};if(f.errorFormat?this._errorFormat=f.errorFormat:"production"===C.env.NODE_ENV?this._errorFormat="minimal":(C.env.NO_COLOR,this._errorFormat="colorless"),this._runtimeDataModel=a.runtimeDataModel,this._engineConfig={cwd:i,dirname:a.dirname,enableDebugLogs:h,allowTriggerPanic:j.allowTriggerPanic,datamodelPath:aL.join(a.dirname,a.filename??"schema.prisma"),prismaPath:j.binaryPath??void 0,engineEndpoint:j.endpoint,generator:a.generator,showColors:"pretty"===this._errorFormat,logLevel:f.log&&function(a){return"string"==typeof a?a:a.reduce((a,b)=>{let c="string"==typeof b?b:b.level;return"query"===c?a:a&&("info"===b||"info"===a)?"info":c},void 0)}(f.log),logQueries:f.log&&!!("string"==typeof f.log?"query"===f.log:f.log.find(a=>"string"==typeof a?"query"===a:"query"===a.level)),env:e?.parsed??{},flags:[],engineWasm:a.engineWasm,compilerWasm:a.compilerWasm,clientVersion:a.clientVersion,engineVersion:a.engineVersion,previewFeatures:this._previewFeatures,activeProvider:a.activeProvider,inlineSchema:a.inlineSchema,overrideDatasources:function(a,b){return a?a.datasources?a.datasources:a.datasourceUrl?{[b[0]]:{url:a.datasourceUrl}}:{}:{}}(f,a.datasourceNames),inlineDatasources:a.inlineDatasources,inlineSchemaHash:a.inlineSchemaHash,tracingHelper:this._tracingHelper,transactionOptions:{maxWait:f.transactionOptions?.maxWait??2e3,timeout:f.transactionOptions?.timeout??5e3,isolationLevel:f.transactionOptions?.isolationLevel},logEmitter:d,isBundled:a.isBundled,adapter:c},this._accelerateEngineConfig={...this._engineConfig,accelerateUtils:{resolveDatasourceUrl:dK,getBatchRequestPayload:dc,prismaGraphQLToJSError:dd,PrismaClientUnknownRequestError:bL,PrismaClientInitializationError:bI,PrismaClientKnownRequestError:bJ,debug:br("prisma:client:accelerateEngine"),engineVersion:cZ.version,clientVersion:a.clientVersion}},er("clientVersion",a.clientVersion),this._engine=function({copyEngine:a=!0},b){var c;let d;try{d=dK({inlineDatasources:b.inlineDatasources,overrideDatasources:b.overrideDatasources,env:{...b.env,...C.env},clientVersion:b.clientVersion})}catch{}let e=!!(d?.startsWith("prisma://")||(c=d,c?.startsWith("prisma+postgres://")));a&&e&&bH("recommend--no-engine","In production, we recommend using `prisma generate --no-engine` (See: `prisma generate --help`)"),bt(b.generator);let f=e||!a,g=!!b.adapter;if(f&&g)throw new bM((a?d?.startsWith("prisma://")?["Prisma Client was configured to use the `adapter` option but the URL was a `prisma://` URL.","Please either use the `prisma://` URL or remove the `adapter` from the Prisma Client constructor."]:["Prisma Client was configured to use both the `adapter` and Accelerate, please chose one."]:["Prisma Client was configured to use the `adapter` option but `prisma generate` was run with `--no-engine`.","Please run `prisma generate` without `--no-engine` to be able to use Prisma Client with the adapter."]).join(`
`),{clientVersion:b.clientVersion});if(g)return new dR(b);if(f)return new dT(b);throw new bM([`PrismaClient failed to initialize because it wasn't configured to run in this environment (${dJ().prettyName}).`,"In order to run Prisma Client in an edge runtime, you will need to configure one of the following options:","- Enable Driver Adapters: https://pris.ly/d/driver-adapters","- Enable Accelerate: https://pris.ly/d/accelerate"].join(`
`),{clientVersion:b.clientVersion})}(a,this._engineConfig),this._requestHandler=new eh(this,d),f.log)for(let a of f.log){let b="string"==typeof a?a:"stdout"===a.emit?a.level:null;b&&this.$on(b,a=>{bu.log(`${bu.tags[b]??""}`,a.message||a.query)})}}catch(a){throw a.clientVersion=this._clientVersion,a}return this._appliedParent=ds(this)}get[Symbol.toStringTag](){return"PrismaClient"}$use(a){this._middlewares.use(a)}$on(a,b){return"beforeExit"===a?this._engine.onBeforeExit(b):a&&this._engineConfig.logEmitter.on(a,b),this}$connect(){try{return this._engine.start()}catch(a){throw a.clientVersion=this._clientVersion,a}}async $disconnect(){try{await this._engine.stop()}catch(a){throw a.clientVersion=this._clientVersion,a}finally{bm.length=0}}$executeRawInternal(a,b,c,d){let e=this._activeProvider;return this._request({action:"executeRaw",args:c,transaction:a,clientMethod:b,argsMapper:d1({clientMethod:b,activeProvider:e}),callsite:df(this._errorFormat),dataPath:[],middlewareArgsMapper:d})}$executeRaw(a,...b){return this._createPrismaPromise(c=>{if(void 0!==a.raw||void 0!==a.sql){let[d,e]=ew(a,b);return d0(this._activeProvider,d.text,d.values,Array.isArray(a)?"prisma.$executeRaw`<SQL>`":"prisma.$executeRaw(sql`<SQL>`)"),this.$executeRawInternal(c,"$executeRaw",d,e)}throw new bM("`$executeRaw` is a tag function, please use it like the following:\n```\nconst result = await prisma.$executeRaw`UPDATE User SET cool = ${true} WHERE email = ${'user@email.com'};`\n```\n\nOr read our docs at https://www.prisma.io/docs/concepts/components/prisma-client/raw-database-access#executeraw\n",{clientVersion:this._clientVersion})})}$executeRawUnsafe(a,...b){return this._createPrismaPromise(c=>(d0(this._activeProvider,a,b,"prisma.$executeRawUnsafe(<SQL>, [...values])"),this.$executeRawInternal(c,"$executeRawUnsafe",[a,...b])))}$runCommandRaw(b){if("mongodb"!==a.activeProvider)throw new bM(`The ${a.activeProvider} provider does not support $runCommandRaw. Use the mongodb provider.`,{clientVersion:this._clientVersion});return this._createPrismaPromise(a=>this._request({args:b,clientMethod:"$runCommandRaw",dataPath:[],action:"runCommandRaw",argsMapper:dV,callsite:df(this._errorFormat),transaction:a}))}async $queryRawInternal(a,b,c,d){let e=this._activeProvider;return this._request({action:"queryRaw",args:c,transaction:a,clientMethod:b,argsMapper:d1({clientMethod:b,activeProvider:e}),callsite:df(this._errorFormat),dataPath:[],middlewareArgsMapper:d})}$queryRaw(a,...b){return this._createPrismaPromise(c=>{if(void 0!==a.raw||void 0!==a.sql)return this.$queryRawInternal(c,"$queryRaw",...ew(a,b));throw new bM("`$queryRaw` is a tag function, please use it like the following:\n```\nconst result = await prisma.$queryRaw`SELECT * FROM User WHERE id = ${1} OR email = ${'user@email.com'};`\n```\n\nOr read our docs at https://www.prisma.io/docs/concepts/components/prisma-client/raw-database-access#queryraw\n",{clientVersion:this._clientVersion})})}$queryRawTyped(a){return this._createPrismaPromise(b=>{if(!this._hasPreviewFlag("typedSql"))throw new bM("`typedSql` preview feature must be enabled in order to access $queryRawTyped API",{clientVersion:this._clientVersion});return this.$queryRawInternal(b,"$queryRawTyped",a)})}$queryRawUnsafe(a,...b){return this._createPrismaPromise(c=>this.$queryRawInternal(c,"$queryRawUnsafe",[a,...b]))}_transactionWithArray({promises:a,options:b}){var c;let d=eu.nextId(),e=function(a,b=()=>{}){let c,d=new Promise(a=>c=a);return{then:e=>(0==--a&&c(b()),e?.(d))}}(a.length);return 0===(c=a.map((a,c)=>{if(a?.[Symbol.toStringTag]!=="PrismaPromise")throw Error("All elements of the array need to be Prisma Client promises. Hint: Please make sure you are not awaiting the Prisma client calls you intended to pass in the $transaction function.");let f=b?.isolationLevel??this._engineConfig.transactionOptions.isolationLevel;return a.requestTransaction?.({kind:"batch",id:d,index:c,isolationLevel:f,lock:e})??a})).length?Promise.resolve([]):new Promise((a,b)=>{let d=Array(c.length),e=null,f=!1,g=0,h=()=>{f||++g===c.length&&(f=!0,e?b(e):a(d))},i=a=>{f||(f=!0,b(a))};for(let a=0;a<c.length;a++)c[a].then(b=>{d[a]=b,h()},b=>{if(!eb(b))return void i(b);b.batchRequestIdx===a?i(b):(e||(e=b),h())})})}async _transactionWithCallback({callback:a,options:b}){let c={traceparent:this._tracingHelper.getTraceParent()},d={maxWait:b?.maxWait??this._engineConfig.transactionOptions.maxWait,timeout:b?.timeout??this._engineConfig.transactionOptions.timeout,isolationLevel:b?.isolationLevel??this._engineConfig.transactionOptions.isolationLevel},e=await this._engine.transaction("start",c,d),f;try{let b={kind:"itx",...e};f=await a(this._createItxClient(b)),await this._engine.transaction("commit",c,e)}catch(a){throw await this._engine.transaction("rollback",c,e).catch(()=>{}),a}return f}_createItxClient(a){return c9(ds(c9(this[dr]?this[dr]:this,[c4("_appliedParent",()=>this._appliedParent._createItxClient(a)),c4("_createPrismaPromise",()=>d4(a)),c4(et,()=>a.id)])),[db(dw)])}$transaction(a,b){let c;return c="function"==typeof a?this._engineConfig.adapter?.adapterName==="@prisma/adapter-d1"?()=>{throw Error("Cloudflare D1 does not support interactive transactions. We recommend you to refactor your queries with that limitation in mind, and use batch transactions with `prisma.$transactions([])` where applicable.")}:()=>this._transactionWithCallback({callback:a,options:b}):()=>this._transactionWithArray({promises:a,options:b}),this._tracingHelper.runInChildSpan({name:"transaction",attributes:{method:"$transaction"}},c)}_request(a){a.otelParentCtx=this._tracingHelper.getActiveContext();let b=a.middlewareArgsMapper??es,c={args:b.requestArgsToMiddlewareArgs(a.args),dataPath:a.dataPath,runInTransaction:!!a.transaction,action:a.action,model:a.model},d={middleware:{name:"middleware",middleware:!0,attributes:{method:"$use"},active:!1},operation:{name:"operation",attributes:{method:c.action,model:c.model,name:c.model?`${c.model}.${c.action}`:c.action}}},e=-1,f=async c=>{let g=this._middlewares.get(++e);if(g)return this._tracingHelper.runInChildSpan(d.middleware,a=>g(c,b=>(a?.end(),f(b))));let{runInTransaction:h,args:i,...j}=c,k={...a,...j};i&&(k.args=b.middlewareArgsToRequestArgs(i)),void 0!==a.transaction&&!1===h&&delete k.transaction;let l=await function(a,b){let{jsModelName:c,action:d,clientMethod:e}=b;if(a._extensions.isEmpty())return a._executeRequest(b);let f=a._extensions.getAllQueryCallbacks(c??"$none",c?d:e);return function a(b,c,d,e=0){return b._createPrismaPromise(f=>{let g=c.customDataProxyFetch;return"transaction"in c&&void 0!==f&&(c.transaction?.kind==="batch"&&c.transaction.lock.then(),c.transaction=f),e===d.length?b._executeRequest(c):d[e]({model:c.model,operation:c.model?c.action:c.clientMethod,args:function(a){var b,c;if(a instanceof c$){return new c$((b=a).strings,b.values)}if(cY(a)){return new cW((c=a).sql,c.values)}if(Array.isArray(a)){let b=[a[0]];for(let c=1;c<a.length;c++)b[c]=dx(a[c]);return b}let d={};for(let b in a)d[b]=dx(a[b]);return d}(c.args??{}),__internalParams:c,query:(f,h=c)=>{let i=h.customDataProxyFetch;return h.customDataProxyFetch=dz(g,i),h.args=f,a(b,h,d,e+1)}})})}(a,b,f)}(this,k);return k.model?function({result:a,modelName:b,args:c,extensions:d,runtimeDataModel:e,globalOmit:f}){return d.isEmpty()||null==a||"object"!=typeof a||!e.models[b]?a:du({result:a,args:c??{},modelName:b,runtimeDataModel:e,visitor:(a,b,c)=>{let e=cz(b);return function({result:a,modelName:b,select:c,omit:d,extensions:e}){let f=e.getAllComputedFields(b);if(!f)return a;let g=[],h=[];for(let b of Object.values(f)){if(d){if(d[b.name])continue;let a=b.needs.filter(a=>d[a]);a.length>0&&h.push(db(a))}else if(c){if(!c[b.name])continue;let a=b.needs.filter(a=>!c[a]);a.length>0&&h.push(db(a))}(function(a,b){return b.every(b=>Object.prototype.hasOwnProperty.call(a,b))})(a,b.needs)&&g.push(function(a,b){return c5(c4(a.name,()=>a.compute(b)))}(b,c9(a,g)))}return g.length>0||h.length>0?c9(a,[...g,...h]):a}({result:a,modelName:e,select:c.select,omit:c.select?void 0:{...f?.[e],...c.omit},extensions:d})}})}({result:l,modelName:k.model,args:k.args,extensions:this._extensions,runtimeDataModel:this._runtimeDataModel,globalOmit:this._globalOmit}):l};return this._tracingHelper.runInChildSpan(d.operation,()=>f(c))}async _executeRequest({args:a,clientMethod:b,dataPath:c,callsite:d,action:e,model:f,argsMapper:g,transaction:h,unpacker:i,otelParentCtx:j,customDataProxyFetch:k}){try{a=g?g(a):a;let l=this._tracingHelper.runInChildSpan({name:"serialize"},()=>cL({modelName:f,runtimeDataModel:this._runtimeDataModel,action:e,args:a,clientMethod:b,callsite:d,extensions:this._extensions,errorFormat:this._errorFormat,clientVersion:this._clientVersion,previewFeatures:this._previewFeatures,globalOmit:this._globalOmit}));return br.enabled("prisma:client")&&(er("Prisma Client call:"),er(`prisma.${b}(${function(a){if(void 0===a)return"";let b=ct(a);return new bZ(0,{colors:b0}).write(b).toString()}(a)})`),er("Generated request:"),er(JSON.stringify(l,null,2)+`
`)),h?.kind==="batch"&&await h.lock,this._requestHandler.request({protocolQuery:l,modelName:f,action:e,clientMethod:b,dataPath:c,callsite:d,args:a,extensions:this._extensions,transaction:h,unpacker:i,otelParentCtx:j,otelChildCtx:this._tracingHelper.getActiveContext(),globalOmit:this._globalOmit,customDataProxyFetch:k})}catch(a){throw a.clientVersion=this._clientVersion,a}}$metrics=new cQ(this);_hasPreviewFlag(a){return!!this._engineConfig.previewFeatures?.includes(a)}$applyPendingMigrations(){return this._engine.applyPendingMigrations()}$extends=dt}return b}function ew(a,b){var c;return Array.isArray(c=a)&&Array.isArray(c.raw)?[new c$(a,b),d2]:[a,d3]}F(),G(),H(),I(),J(),aq();var ex=new Set(["toJSON","$$typeof","asymmetricMatch",Symbol.iterator,Symbol.toStringTag,Symbol.isConcatSpreadable,Symbol.toPrimitive]);function ey(a){return new Proxy(a,{get(a,b){if(b in a)return a[b];if(!ex.has(b))throw TypeError(`Invalid enum value: ${String(b)}`)}})}F(),G(),H(),I(),J(),aq(),aq()},339:a=>{a.exports=wasm_f8dfc29674d2009c804a75106a5fb78e22335a8b},340:(a,b,c)=>{"use strict";function d(a){return"object"==typeof a&&null!==a&&"digest"in a&&"BAILOUT_TO_CLIENT_SIDE_RENDERING"===a.digest}c.d(b,{C:()=>d})},356:a=>{"use strict";a.exports=require("node:buffer")},378:(a,b,c)=>{"use strict";c.d(b,{Q:()=>d});var d=function(a){return a[a.SeeOther=303]="SeeOther",a[a.TemporaryRedirect=307]="TemporaryRedirect",a[a.PermanentRedirect=308]="PermanentRedirect",a}({})},379:(a,b,c)=>{"use strict";c.d(b,{J:()=>d});let d=(0,c(58).xl)()},392:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{getTestReqInfo:function(){return g},withRequest:function(){return f}});let d=new(c(521)).AsyncLocalStorage;function e(a,b){let c=b.header(a,"next-test-proxy-port");if(!c)return;let d=b.url(a);return{url:d,proxyPort:Number(c),testData:b.header(a,"next-test-data")||""}}function f(a,b,c){let f=e(a,b);return f?d.run(f,c):c()}function g(a,b){let c=d.getStore();return c||(a&&b?e(a,b):void 0)}},440:(a,b)=>{"use strict";var c={H:null,A:null};function d(a){var b="https://react.dev/errors/"+a;if(1<arguments.length){b+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)b+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var e=Array.isArray;function f(){}var g=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),l=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),n=Symbol.for("react.memo"),o=Symbol.for("react.lazy"),p=Symbol.iterator,q=Object.prototype.hasOwnProperty,r=Object.assign;function s(a,b,c){var d=c.ref;return{$$typeof:g,type:a,key:b,ref:void 0!==d?d:null,props:c}}function t(a){return"object"==typeof a&&null!==a&&a.$$typeof===g}var u=/\/+/g;function v(a,b){var c,d;return"object"==typeof a&&null!==a&&null!=a.key?(c=""+a.key,d={"=":"=0",":":"=2"},"$"+c.replace(/[=:]/g,function(a){return d[a]})):b.toString(36)}function w(a,b,c){if(null==a)return a;var i=[],j=0;return!function a(b,c,i,j,k){var l,m,n,q=typeof b;("undefined"===q||"boolean"===q)&&(b=null);var r=!1;if(null===b)r=!0;else switch(q){case"bigint":case"string":case"number":r=!0;break;case"object":switch(b.$$typeof){case g:case h:r=!0;break;case o:return a((r=b._init)(b._payload),c,i,j,k)}}if(r)return k=k(b),r=""===j?"."+v(b,0):j,e(k)?(i="",null!=r&&(i=r.replace(u,"$&/")+"/"),a(k,c,i,"",function(a){return a})):null!=k&&(t(k)&&(l=k,m=i+(null==k.key||b&&b.key===k.key?"":(""+k.key).replace(u,"$&/")+"/")+r,k=s(l.type,m,l.props)),c.push(k)),1;r=0;var w=""===j?".":j+":";if(e(b))for(var x=0;x<b.length;x++)q=w+v(j=b[x],x),r+=a(j,c,i,q,k);else if("function"==typeof(x=null===(n=b)||"object"!=typeof n?null:"function"==typeof(n=p&&n[p]||n["@@iterator"])?n:null))for(b=x.call(b),x=0;!(j=b.next()).done;)q=w+v(j=j.value,x++),r+=a(j,c,i,q,k);else if("object"===q){if("function"==typeof b.then)return a(function(a){switch(a.status){case"fulfilled":return a.value;case"rejected":throw a.reason;default:switch("string"==typeof a.status?a.then(f,f):(a.status="pending",a.then(function(b){"pending"===a.status&&(a.status="fulfilled",a.value=b)},function(b){"pending"===a.status&&(a.status="rejected",a.reason=b)})),a.status){case"fulfilled":return a.value;case"rejected":throw a.reason}}throw a}(b),c,i,j,k);throw Error(d(31,"[object Object]"===(c=String(b))?"object with keys {"+Object.keys(b).join(", ")+"}":c))}return r}(a,i,"","",function(a){return b.call(c,a,j++)}),i}function x(a){if(-1===a._status){var b=a._result;(b=b()).then(function(b){(0===a._status||-1===a._status)&&(a._status=1,a._result=b)},function(b){(0===a._status||-1===a._status)&&(a._status=2,a._result=b)}),-1===a._status&&(a._status=0,a._result=b)}if(1===a._status)return a._result.default;throw a._result}function y(){return new WeakMap}function z(){return{s:0,v:void 0,o:null,p:null}}b.Children={map:w,forEach:function(a,b,c){w(a,function(){b.apply(this,arguments)},c)},count:function(a){var b=0;return w(a,function(){b++}),b},toArray:function(a){return w(a,function(a){return a})||[]},only:function(a){if(!t(a))throw Error(d(143));return a}},b.Fragment=i,b.Profiler=k,b.StrictMode=j,b.Suspense=m,b.__SERVER_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=c,b.cache=function(a){return function(){var b=c.A;if(!b)return a.apply(null,arguments);var d=b.getCacheForType(y);void 0===(b=d.get(a))&&(b=z(),d.set(a,b)),d=0;for(var e=arguments.length;d<e;d++){var f=arguments[d];if("function"==typeof f||"object"==typeof f&&null!==f){var g=b.o;null===g&&(b.o=g=new WeakMap),void 0===(b=g.get(f))&&(b=z(),g.set(f,b))}else null===(g=b.p)&&(b.p=g=new Map),void 0===(b=g.get(f))&&(b=z(),g.set(f,b))}if(1===b.s)return b.v;if(2===b.s)throw b.v;try{var h=a.apply(null,arguments);return(d=b).s=1,d.v=h}catch(a){throw(h=b).s=2,h.v=a,a}}},b.cacheSignal=function(){var a=c.A;return a?a.cacheSignal():null},b.captureOwnerStack=function(){return null},b.cloneElement=function(a,b,c){if(null==a)throw Error(d(267,a));var e=r({},a.props),f=a.key;if(null!=b)for(g in void 0!==b.key&&(f=""+b.key),b)q.call(b,g)&&"key"!==g&&"__self"!==g&&"__source"!==g&&("ref"!==g||void 0!==b.ref)&&(e[g]=b[g]);var g=arguments.length-2;if(1===g)e.children=c;else if(1<g){for(var h=Array(g),i=0;i<g;i++)h[i]=arguments[i+2];e.children=h}return s(a.type,f,e)},b.createElement=function(a,b,c){var d,e={},f=null;if(null!=b)for(d in void 0!==b.key&&(f=""+b.key),b)q.call(b,d)&&"key"!==d&&"__self"!==d&&"__source"!==d&&(e[d]=b[d]);var g=arguments.length-2;if(1===g)e.children=c;else if(1<g){for(var h=Array(g),i=0;i<g;i++)h[i]=arguments[i+2];e.children=h}if(a&&a.defaultProps)for(d in g=a.defaultProps)void 0===e[d]&&(e[d]=g[d]);return s(a,f,e)},b.createRef=function(){return{current:null}},b.forwardRef=function(a){return{$$typeof:l,render:a}},b.isValidElement=t,b.lazy=function(a){return{$$typeof:o,_payload:{_status:-1,_result:a},_init:x}},b.memo=function(a,b){return{$$typeof:n,type:a,compare:void 0===b?null:b}},b.use=function(a){return c.H.use(a)},b.useCallback=function(a,b){return c.H.useCallback(a,b)},b.useDebugValue=function(){},b.useId=function(){return c.H.useId()},b.useMemo=function(a,b){return c.H.useMemo(a,b)},b.version="19.2.0-canary-0bdb9206-20250818"},443:a=>{"use strict";var b=Object.defineProperty,c=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,e=Object.prototype.hasOwnProperty,f={};function g(a){var b;let c=["path"in a&&a.path&&`Path=${a.path}`,"expires"in a&&(a.expires||0===a.expires)&&`Expires=${("number"==typeof a.expires?new Date(a.expires):a.expires).toUTCString()}`,"maxAge"in a&&"number"==typeof a.maxAge&&`Max-Age=${a.maxAge}`,"domain"in a&&a.domain&&`Domain=${a.domain}`,"secure"in a&&a.secure&&"Secure","httpOnly"in a&&a.httpOnly&&"HttpOnly","sameSite"in a&&a.sameSite&&`SameSite=${a.sameSite}`,"partitioned"in a&&a.partitioned&&"Partitioned","priority"in a&&a.priority&&`Priority=${a.priority}`].filter(Boolean),d=`${a.name}=${encodeURIComponent(null!=(b=a.value)?b:"")}`;return 0===c.length?d:`${d}; ${c.join("; ")}`}function h(a){let b=new Map;for(let c of a.split(/; */)){if(!c)continue;let a=c.indexOf("=");if(-1===a){b.set(c,"true");continue}let[d,e]=[c.slice(0,a),c.slice(a+1)];try{b.set(d,decodeURIComponent(null!=e?e:"true"))}catch{}}return b}function i(a){if(!a)return;let[[b,c],...d]=h(a),{domain:e,expires:f,httponly:g,maxage:i,path:l,samesite:m,secure:n,partitioned:o,priority:p}=Object.fromEntries(d.map(([a,b])=>[a.toLowerCase().replace(/-/g,""),b]));{var q,r,s={name:b,value:decodeURIComponent(c),domain:e,...f&&{expires:new Date(f)},...g&&{httpOnly:!0},..."string"==typeof i&&{maxAge:Number(i)},path:l,...m&&{sameSite:j.includes(q=(q=m).toLowerCase())?q:void 0},...n&&{secure:!0},...p&&{priority:k.includes(r=(r=p).toLowerCase())?r:void 0},...o&&{partitioned:!0}};let a={};for(let b in s)s[b]&&(a[b]=s[b]);return a}}((a,c)=>{for(var d in c)b(a,d,{get:c[d],enumerable:!0})})(f,{RequestCookies:()=>l,ResponseCookies:()=>m,parseCookie:()=>h,parseSetCookie:()=>i,stringifyCookie:()=>g}),a.exports=((a,f,g,h)=>{if(f&&"object"==typeof f||"function"==typeof f)for(let i of d(f))e.call(a,i)||i===g||b(a,i,{get:()=>f[i],enumerable:!(h=c(f,i))||h.enumerable});return a})(b({},"__esModule",{value:!0}),f);var j=["strict","lax","none"],k=["low","medium","high"],l=class{constructor(a){this._parsed=new Map,this._headers=a;let b=a.get("cookie");if(b)for(let[a,c]of h(b))this._parsed.set(a,{name:a,value:c})}[Symbol.iterator](){return this._parsed[Symbol.iterator]()}get size(){return this._parsed.size}get(...a){let b="string"==typeof a[0]?a[0]:a[0].name;return this._parsed.get(b)}getAll(...a){var b;let c=Array.from(this._parsed);if(!a.length)return c.map(([a,b])=>b);let d="string"==typeof a[0]?a[0]:null==(b=a[0])?void 0:b.name;return c.filter(([a])=>a===d).map(([a,b])=>b)}has(a){return this._parsed.has(a)}set(...a){let[b,c]=1===a.length?[a[0].name,a[0].value]:a,d=this._parsed;return d.set(b,{name:b,value:c}),this._headers.set("cookie",Array.from(d).map(([a,b])=>g(b)).join("; ")),this}delete(a){let b=this._parsed,c=Array.isArray(a)?a.map(a=>b.delete(a)):b.delete(a);return this._headers.set("cookie",Array.from(b).map(([a,b])=>g(b)).join("; ")),c}clear(){return this.delete(Array.from(this._parsed.keys())),this}[Symbol.for("edge-runtime.inspect.custom")](){return`RequestCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(a=>`${a.name}=${encodeURIComponent(a.value)}`).join("; ")}},m=class{constructor(a){var b,c,d;this._parsed=new Map,this._headers=a;let e=null!=(d=null!=(c=null==(b=a.getSetCookie)?void 0:b.call(a))?c:a.get("set-cookie"))?d:[];for(let a of Array.isArray(e)?e:function(a){if(!a)return[];var b,c,d,e,f,g=[],h=0;function i(){for(;h<a.length&&/\s/.test(a.charAt(h));)h+=1;return h<a.length}for(;h<a.length;){for(b=h,f=!1;i();)if(","===(c=a.charAt(h))){for(d=h,h+=1,i(),e=h;h<a.length&&"="!==(c=a.charAt(h))&&";"!==c&&","!==c;)h+=1;h<a.length&&"="===a.charAt(h)?(f=!0,h=e,g.push(a.substring(b,d)),b=h):h=d+1}else h+=1;(!f||h>=a.length)&&g.push(a.substring(b,a.length))}return g}(e)){let b=i(a);b&&this._parsed.set(b.name,b)}}get(...a){let b="string"==typeof a[0]?a[0]:a[0].name;return this._parsed.get(b)}getAll(...a){var b;let c=Array.from(this._parsed.values());if(!a.length)return c;let d="string"==typeof a[0]?a[0]:null==(b=a[0])?void 0:b.name;return c.filter(a=>a.name===d)}has(a){return this._parsed.has(a)}set(...a){let[b,c,d]=1===a.length?[a[0].name,a[0].value,a[0]]:a,e=this._parsed;return e.set(b,function(a={name:"",value:""}){return"number"==typeof a.expires&&(a.expires=new Date(a.expires)),a.maxAge&&(a.expires=new Date(Date.now()+1e3*a.maxAge)),(null===a.path||void 0===a.path)&&(a.path="/"),a}({name:b,value:c,...d})),function(a,b){for(let[,c]of(b.delete("set-cookie"),a)){let a=g(c);b.append("set-cookie",a)}}(e,this._headers),this}delete(...a){let[b,c]="string"==typeof a[0]?[a[0]]:[a[0].name,a[0]];return this.set({...c,name:b,value:"",expires:new Date(0)})}[Symbol.for("edge-runtime.inspect.custom")](){return`ResponseCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(g).join("; ")}}},449:(a,b,c)=>{var d;(()=>{var e={226:function(e,f){!function(g,h){"use strict";var i="function",j="undefined",k="object",l="string",m="major",n="model",o="name",p="type",q="vendor",r="version",s="architecture",t="console",u="mobile",v="tablet",w="smarttv",x="wearable",y="embedded",z="Amazon",A="Apple",B="ASUS",C="BlackBerry",D="Browser",E="Chrome",F="Firefox",G="Google",H="Huawei",I="Microsoft",J="Motorola",K="Opera",L="Samsung",M="Sharp",N="Sony",O="Xiaomi",P="Zebra",Q="Facebook",R="Chromium OS",S="Mac OS",T=function(a,b){var c={};for(var d in a)b[d]&&b[d].length%2==0?c[d]=b[d].concat(a[d]):c[d]=a[d];return c},U=function(a){for(var b={},c=0;c<a.length;c++)b[a[c].toUpperCase()]=a[c];return b},V=function(a,b){return typeof a===l&&-1!==W(b).indexOf(W(a))},W=function(a){return a.toLowerCase()},X=function(a,b){if(typeof a===l)return a=a.replace(/^\s\s*/,""),typeof b===j?a:a.substring(0,350)},Y=function(a,b){for(var c,d,e,f,g,j,l=0;l<b.length&&!g;){var m=b[l],n=b[l+1];for(c=d=0;c<m.length&&!g&&m[c];)if(g=m[c++].exec(a))for(e=0;e<n.length;e++)j=g[++d],typeof(f=n[e])===k&&f.length>0?2===f.length?typeof f[1]==i?this[f[0]]=f[1].call(this,j):this[f[0]]=f[1]:3===f.length?typeof f[1]!==i||f[1].exec&&f[1].test?this[f[0]]=j?j.replace(f[1],f[2]):void 0:this[f[0]]=j?f[1].call(this,j,f[2]):void 0:4===f.length&&(this[f[0]]=j?f[3].call(this,j.replace(f[1],f[2])):h):this[f]=j||h;l+=2}},Z=function(a,b){for(var c in b)if(typeof b[c]===k&&b[c].length>0){for(var d=0;d<b[c].length;d++)if(V(b[c][d],a))return"?"===c?h:c}else if(V(b[c],a))return"?"===c?h:c;return a},$={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},_={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[r,[o,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[r,[o,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[o,r],[/opios[\/ ]+([\w\.]+)/i],[r,[o,K+" Mini"]],[/\bopr\/([\w\.]+)/i],[r,[o,K]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[o,r],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[r,[o,"UC"+D]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[r,[o,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[r,[o,"WeChat"]],[/konqueror\/([\w\.]+)/i],[r,[o,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[r,[o,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[r,[o,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[o,/(.+)/,"$1 Secure "+D],r],[/\bfocus\/([\w\.]+)/i],[r,[o,F+" Focus"]],[/\bopt\/([\w\.]+)/i],[r,[o,K+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[r,[o,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[r,[o,"Dolphin"]],[/coast\/([\w\.]+)/i],[r,[o,K+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[r,[o,"MIUI "+D]],[/fxios\/([-\w\.]+)/i],[r,[o,F]],[/\bqihu|(qi?ho?o?|360)browser/i],[[o,"360 "+D]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[o,/(.+)/,"$1 "+D],r],[/(comodo_dragon)\/([\w\.]+)/i],[[o,/_/g," "],r],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[o,r],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[o],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[o,Q],r],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[o,r],[/\bgsa\/([\w\.]+) .*safari\//i],[r,[o,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[r,[o,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[r,[o,E+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[o,E+" WebView"],r],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[r,[o,"Android "+D]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[o,r],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[r,[o,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[r,o],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[o,[r,Z,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[o,r],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[o,"Netscape"],r],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[r,[o,F+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[o,r],[/(cobalt)\/([\w\.]+)/i],[o,[r,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[s,"amd64"]],[/(ia32(?=;))/i],[[s,W]],[/((?:i[346]|x)86)[;\)]/i],[[s,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[s,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[s,"armhf"]],[/windows (ce|mobile); ppc;/i],[[s,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[s,/ower/,"",W]],[/(sun4\w)[;\)]/i],[[s,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[s,W]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[n,[q,L],[p,v]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[n,[q,L],[p,u]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[n,[q,A],[p,u]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[n,[q,A],[p,v]],[/(macintosh);/i],[n,[q,A]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[n,[q,M],[p,u]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[n,[q,H],[p,v]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[n,[q,H],[p,u]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[n,/_/g," "],[q,O],[p,u]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[n,/_/g," "],[q,O],[p,v]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[n,[q,"OPPO"],[p,u]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[n,[q,"Vivo"],[p,u]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[n,[q,"Realme"],[p,u]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[n,[q,J],[p,u]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[n,[q,J],[p,v]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[n,[q,"LG"],[p,v]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[n,[q,"LG"],[p,u]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[n,[q,"Lenovo"],[p,v]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[n,/_/g," "],[q,"Nokia"],[p,u]],[/(pixel c)\b/i],[n,[q,G],[p,v]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[n,[q,G],[p,u]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[n,[q,N],[p,u]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[n,"Xperia Tablet"],[q,N],[p,v]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[n,[q,"OnePlus"],[p,u]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[n,[q,z],[p,v]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[n,/(.+)/g,"Fire Phone $1"],[q,z],[p,u]],[/(playbook);[-\w\),; ]+(rim)/i],[n,q,[p,v]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[n,[q,C],[p,u]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[n,[q,B],[p,v]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[n,[q,B],[p,u]],[/(nexus 9)/i],[n,[q,"HTC"],[p,v]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[q,[n,/_/g," "],[p,u]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[n,[q,"Acer"],[p,v]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[n,[q,"Meizu"],[p,u]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[q,n,[p,u]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[q,n,[p,v]],[/(surface duo)/i],[n,[q,I],[p,v]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[n,[q,"Fairphone"],[p,u]],[/(u304aa)/i],[n,[q,"AT&T"],[p,u]],[/\bsie-(\w*)/i],[n,[q,"Siemens"],[p,u]],[/\b(rct\w+) b/i],[n,[q,"RCA"],[p,v]],[/\b(venue[\d ]{2,7}) b/i],[n,[q,"Dell"],[p,v]],[/\b(q(?:mv|ta)\w+) b/i],[n,[q,"Verizon"],[p,v]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[n,[q,"Barnes & Noble"],[p,v]],[/\b(tm\d{3}\w+) b/i],[n,[q,"NuVision"],[p,v]],[/\b(k88) b/i],[n,[q,"ZTE"],[p,v]],[/\b(nx\d{3}j) b/i],[n,[q,"ZTE"],[p,u]],[/\b(gen\d{3}) b.+49h/i],[n,[q,"Swiss"],[p,u]],[/\b(zur\d{3}) b/i],[n,[q,"Swiss"],[p,v]],[/\b((zeki)?tb.*\b) b/i],[n,[q,"Zeki"],[p,v]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[q,"Dragon Touch"],n,[p,v]],[/\b(ns-?\w{0,9}) b/i],[n,[q,"Insignia"],[p,v]],[/\b((nxa|next)-?\w{0,9}) b/i],[n,[q,"NextBook"],[p,v]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[q,"Voice"],n,[p,u]],[/\b(lvtel\-)?(v1[12]) b/i],[[q,"LvTel"],n,[p,u]],[/\b(ph-1) /i],[n,[q,"Essential"],[p,u]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[n,[q,"Envizen"],[p,v]],[/\b(trio[-\w\. ]+) b/i],[n,[q,"MachSpeed"],[p,v]],[/\btu_(1491) b/i],[n,[q,"Rotor"],[p,v]],[/(shield[\w ]+) b/i],[n,[q,"Nvidia"],[p,v]],[/(sprint) (\w+)/i],[q,n,[p,u]],[/(kin\.[onetw]{3})/i],[[n,/\./g," "],[q,I],[p,u]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[n,[q,P],[p,v]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[n,[q,P],[p,u]],[/smart-tv.+(samsung)/i],[q,[p,w]],[/hbbtv.+maple;(\d+)/i],[[n,/^/,"SmartTV"],[q,L],[p,w]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[q,"LG"],[p,w]],[/(apple) ?tv/i],[q,[n,A+" TV"],[p,w]],[/crkey/i],[[n,E+"cast"],[q,G],[p,w]],[/droid.+aft(\w)( bui|\))/i],[n,[q,z],[p,w]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[n,[q,M],[p,w]],[/(bravia[\w ]+)( bui|\))/i],[n,[q,N],[p,w]],[/(mitv-\w{5}) bui/i],[n,[q,O],[p,w]],[/Hbbtv.*(technisat) (.*);/i],[q,n,[p,w]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[q,X],[n,X],[p,w]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[p,w]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[q,n,[p,t]],[/droid.+; (shield) bui/i],[n,[q,"Nvidia"],[p,t]],[/(playstation [345portablevi]+)/i],[n,[q,N],[p,t]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[n,[q,I],[p,t]],[/((pebble))app/i],[q,n,[p,x]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[n,[q,A],[p,x]],[/droid.+; (glass) \d/i],[n,[q,G],[p,x]],[/droid.+; (wt63?0{2,3})\)/i],[n,[q,P],[p,x]],[/(quest( 2| pro)?)/i],[n,[q,Q],[p,x]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[q,[p,y]],[/(aeobc)\b/i],[n,[q,z],[p,y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[n,[p,u]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[n,[p,v]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[p,v]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[p,u]],[/(android[-\w\. ]{0,9});.+buil/i],[n,[q,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[r,[o,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[r,[o,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[o,r],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[r,o]],os:[[/microsoft (windows) (vista|xp)/i],[o,r],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[o,[r,Z,$]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[o,"Windows"],[r,Z,$]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[r,/_/g,"."],[o,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[o,S],[r,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[r,o],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[o,r],[/\(bb(10);/i],[r,[o,C]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[r,[o,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[r,[o,F+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[r,[o,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[r,[o,"watchOS"]],[/crkey\/([\d\.]+)/i],[r,[o,E+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[o,R],r],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[o,r],[/(sunos) ?([\w\.\d]*)/i],[[o,"Solaris"],r],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[o,r]]},aa=function(a,b){if(typeof a===k&&(b=a,a=h),!(this instanceof aa))return new aa(a,b).getResult();var c=typeof g!==j&&g.navigator?g.navigator:h,d=a||(c&&c.userAgent?c.userAgent:""),e=c&&c.userAgentData?c.userAgentData:h,f=b?T(_,b):_,t=c&&c.userAgent==d;return this.getBrowser=function(){var a,b={};return b[o]=h,b[r]=h,Y.call(b,d,f.browser),b[m]=typeof(a=b[r])===l?a.replace(/[^\d\.]/g,"").split(".")[0]:h,t&&c&&c.brave&&typeof c.brave.isBrave==i&&(b[o]="Brave"),b},this.getCPU=function(){var a={};return a[s]=h,Y.call(a,d,f.cpu),a},this.getDevice=function(){var a={};return a[q]=h,a[n]=h,a[p]=h,Y.call(a,d,f.device),t&&!a[p]&&e&&e.mobile&&(a[p]=u),t&&"Macintosh"==a[n]&&c&&typeof c.standalone!==j&&c.maxTouchPoints&&c.maxTouchPoints>2&&(a[n]="iPad",a[p]=v),a},this.getEngine=function(){var a={};return a[o]=h,a[r]=h,Y.call(a,d,f.engine),a},this.getOS=function(){var a={};return a[o]=h,a[r]=h,Y.call(a,d,f.os),t&&!a[o]&&e&&"Unknown"!=e.platform&&(a[o]=e.platform.replace(/chrome os/i,R).replace(/macos/i,S)),a},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return d},this.setUA=function(a){return d=typeof a===l&&a.length>350?X(a,350):a,this},this.setUA(d),this};aa.VERSION="1.0.35",aa.BROWSER=U([o,r,m]),aa.CPU=U([s]),aa.DEVICE=U([n,q,p,t,u,w,v,x,y]),aa.ENGINE=aa.OS=U([o,r]),typeof f!==j?(e.exports&&(f=e.exports=aa),f.UAParser=aa):c.amdO?void 0===(d=(function(){return aa}).call(b,c,b,a))||(a.exports=d):typeof g!==j&&(g.UAParser=aa);var ab=typeof g!==j&&(g.jQuery||g.Zepto);if(ab&&!ab.ua){var ac=new aa;ab.ua=ac.getResult(),ab.ua.get=function(){return ac.getUA()},ab.ua.set=function(a){ac.setUA(a);var b=ac.getResult();for(var c in b)ab.ua[c]=b[c]}}}("object"==typeof window?window:this)}},f={};function g(a){var b=f[a];if(void 0!==b)return b.exports;var c=f[a]={exports:{}},d=!0;try{e[a].call(c.exports,c,c.exports,g),d=!1}finally{d&&delete f[a]}return c.exports}g.ab="//",a.exports=g(226)})()},515:(a,b,c)=>{"use strict";c.d(b,{X:()=>function a(b){if((0,g.p)(b)||(0,f.C)(b)||(0,i.h)(b)||(0,h.I3)(b)||"object"==typeof b&&null!==b&&b.$$typeof===e||(0,d.Ts)(b))throw b;b instanceof Error&&"cause"in b&&a(b.cause)}});var d=c(770);let e=Symbol.for("react.postpone");var f=c(340),g=c(747),h=c(107),i=c(159)},518:(a,b,c)=>{"use strict";let d,e,f,g,h;c.r(b),c.d(b,{default:()=>lV});var i,j,k,l,m,n,o={};c.r(o),c.d(o,{q:()=>dF,l:()=>dI});var p={};async function q(){return"_ENTRIES"in globalThis&&_ENTRIES.middleware_instrumentation&&await _ENTRIES.middleware_instrumentation}c.r(p),c.d(p,{middleware:()=>lP});let r=null;async function s(){if("phase-production-build"===process.env.NEXT_PHASE)return;r||(r=q());let a=await r;if(null==a?void 0:a.register)try{await a.register()}catch(a){throw a.message=`An error occurred while loading instrumentation hook: ${a.message}`,a}}async function t(...a){let b=await q();try{var c;await (null==b||null==(c=b.onRequestError)?void 0:c.call(b,...a))}catch(a){console.error("Error in instrumentation.onRequestError:",a)}}let u=null;function v(){return u||(u=s()),u}function w(a){return`The edge runtime does not support Node.js '${a}' module.
Learn More: https://nextjs.org/docs/messages/node-module-in-edge-runtime`}process!==c.g.process&&(process.env=c.g.process.env,c.g.process=process);try{Object.defineProperty(globalThis,"__import_unsupported",{value:function(a){let b=new Proxy(function(){},{get(b,c){if("then"===c)return{};throw Object.defineProperty(Error(w(a)),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})},construct(){throw Object.defineProperty(Error(w(a)),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})},apply(c,d,e){if("function"==typeof e[0])return e[0](b);throw Object.defineProperty(Error(w(a)),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}});return new Proxy({},{get:()=>b})},enumerable:!1,configurable:!1})}catch{}v();class x extends Error{constructor({page:a}){super(`The middleware "${a}" accepts an async API directly with the form:
  
  export function middleware(request, event) {
    return NextResponse.redirect('/new-location')
  }
  
  Read more: https://nextjs.org/docs/messages/middleware-new-signature
  `)}}class y extends Error{constructor(){super(`The request.page has been deprecated in favour of \`URLPattern\`.
  Read more: https://nextjs.org/docs/messages/middleware-request-page
  `)}}class z extends Error{constructor(){super(`The request.ua has been removed in favour of \`userAgent\` function.
  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent
  `)}}let A="_N_T_",B={shared:"shared",reactServerComponents:"rsc",serverSideRendering:"ssr",actionBrowser:"action-browser",apiNode:"api-node",apiEdge:"api-edge",middleware:"middleware",instrument:"instrument",edgeAsset:"edge-asset",appPagesBrowser:"app-pages-browser",pagesDirBrowser:"pages-dir-browser",pagesDirEdge:"pages-dir-edge",pagesDirNode:"pages-dir-node"};function C(a){var b,c,d,e,f,g=[],h=0;function i(){for(;h<a.length&&/\s/.test(a.charAt(h));)h+=1;return h<a.length}for(;h<a.length;){for(b=h,f=!1;i();)if(","===(c=a.charAt(h))){for(d=h,h+=1,i(),e=h;h<a.length&&"="!==(c=a.charAt(h))&&";"!==c&&","!==c;)h+=1;h<a.length&&"="===a.charAt(h)?(f=!0,h=e,g.push(a.substring(b,d)),b=h):h=d+1}else h+=1;(!f||h>=a.length)&&g.push(a.substring(b,a.length))}return g}function D(a){let b={},c=[];if(a)for(let[d,e]of a.entries())"set-cookie"===d.toLowerCase()?(c.push(...C(e)),b[d]=1===c.length?c[0]:c):b[d]=e;return b}function E(a){try{return String(new URL(String(a)))}catch(b){throw Object.defineProperty(Error(`URL is malformed "${String(a)}". Please use only absolute URLs - https://nextjs.org/docs/messages/middleware-relative-urls`,{cause:b}),"__NEXT_ERROR_CODE",{value:"E61",enumerable:!1,configurable:!0})}}({...B,GROUP:{builtinReact:[B.reactServerComponents,B.actionBrowser],serverOnly:[B.reactServerComponents,B.actionBrowser,B.instrument,B.middleware],neutralTarget:[B.apiNode,B.apiEdge],clientOnly:[B.serverSideRendering,B.appPagesBrowser],bundled:[B.reactServerComponents,B.actionBrowser,B.serverSideRendering,B.appPagesBrowser,B.shared,B.instrument,B.middleware],appPages:[B.reactServerComponents,B.serverSideRendering,B.appPagesBrowser,B.actionBrowser]}});let F=Symbol("response"),G=Symbol("passThrough"),H=Symbol("waitUntil");class I{constructor(a,b){this[G]=!1,this[H]=b?{kind:"external",function:b}:{kind:"internal",promises:[]}}respondWith(a){this[F]||(this[F]=Promise.resolve(a))}passThroughOnException(){this[G]=!0}waitUntil(a){if("external"===this[H].kind)return(0,this[H].function)(a);this[H].promises.push(a)}}class J extends I{constructor(a){var b;super(a.request,null==(b=a.context)?void 0:b.waitUntil),this.sourcePage=a.page}get request(){throw Object.defineProperty(new x({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}respondWith(){throw Object.defineProperty(new x({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}}function K(a){return a.replace(/\/$/,"")||"/"}function L(a){let b=a.indexOf("#"),c=a.indexOf("?"),d=c>-1&&(b<0||c<b);return d||b>-1?{pathname:a.substring(0,d?c:b),query:d?a.substring(c,b>-1?b:void 0):"",hash:b>-1?a.slice(b):""}:{pathname:a,query:"",hash:""}}function M(a,b){if(!a.startsWith("/")||!b)return a;let{pathname:c,query:d,hash:e}=L(a);return""+b+c+d+e}function N(a,b){if(!a.startsWith("/")||!b)return a;let{pathname:c,query:d,hash:e}=L(a);return""+c+b+d+e}function O(a,b){if("string"!=typeof a)return!1;let{pathname:c}=L(a);return c===b||c.startsWith(b+"/")}let P=new WeakMap;function Q(a,b){let c;if(!b)return{pathname:a};let d=P.get(b);d||(d=b.map(a=>a.toLowerCase()),P.set(b,d));let e=a.split("/",2);if(!e[1])return{pathname:a};let f=e[1].toLowerCase(),g=d.indexOf(f);return g<0?{pathname:a}:(c=b[g],{pathname:a=a.slice(c.length+1)||"/",detectedLocale:c})}let R=/(?!^https?:\/\/)(127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1\]|localhost)/;function S(a,b){return new URL(String(a).replace(R,"localhost"),b&&String(b).replace(R,"localhost"))}let T=Symbol("NextURLInternal");class U{constructor(a,b,c){let d,e;"object"==typeof b&&"pathname"in b||"string"==typeof b?(d=b,e=c||{}):e=c||b||{},this[T]={url:S(a,d??e.base),options:e,basePath:""},this.analyze()}analyze(){var a,b,c,d,e;let f=function(a,b){var c,d;let{basePath:e,i18n:f,trailingSlash:g}=null!=(c=b.nextConfig)?c:{},h={pathname:a,trailingSlash:"/"!==a?a.endsWith("/"):g};e&&O(h.pathname,e)&&(h.pathname=function(a,b){if(!O(a,b))return a;let c=a.slice(b.length);return c.startsWith("/")?c:"/"+c}(h.pathname,e),h.basePath=e);let i=h.pathname;if(h.pathname.startsWith("/_next/data/")&&h.pathname.endsWith(".json")){let a=h.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/");h.buildId=a[0],i="index"!==a[1]?"/"+a.slice(1).join("/"):"/",!0===b.parseData&&(h.pathname=i)}if(f){let a=b.i18nProvider?b.i18nProvider.analyze(h.pathname):Q(h.pathname,f.locales);h.locale=a.detectedLocale,h.pathname=null!=(d=a.pathname)?d:h.pathname,!a.detectedLocale&&h.buildId&&(a=b.i18nProvider?b.i18nProvider.analyze(i):Q(i,f.locales)).detectedLocale&&(h.locale=a.detectedLocale)}return h}(this[T].url.pathname,{nextConfig:this[T].options.nextConfig,parseData:!0,i18nProvider:this[T].options.i18nProvider}),g=function(a,b){let c;if((null==b?void 0:b.host)&&!Array.isArray(b.host))c=b.host.toString().split(":",1)[0];else{if(!a.hostname)return;c=a.hostname}return c.toLowerCase()}(this[T].url,this[T].options.headers);this[T].domainLocale=this[T].options.i18nProvider?this[T].options.i18nProvider.detectDomainLocale(g):function(a,b,c){if(a)for(let f of(c&&(c=c.toLowerCase()),a)){var d,e;if(b===(null==(d=f.domain)?void 0:d.split(":",1)[0].toLowerCase())||c===f.defaultLocale.toLowerCase()||(null==(e=f.locales)?void 0:e.some(a=>a.toLowerCase()===c)))return f}}(null==(b=this[T].options.nextConfig)||null==(a=b.i18n)?void 0:a.domains,g);let h=(null==(c=this[T].domainLocale)?void 0:c.defaultLocale)||(null==(e=this[T].options.nextConfig)||null==(d=e.i18n)?void 0:d.defaultLocale);this[T].url.pathname=f.pathname,this[T].defaultLocale=h,this[T].basePath=f.basePath??"",this[T].buildId=f.buildId,this[T].locale=f.locale??h,this[T].trailingSlash=f.trailingSlash}formatPathname(){var a;let b;return b=function(a,b,c,d){if(!b||b===c)return a;let e=a.toLowerCase();return!d&&(O(e,"/api")||O(e,"/"+b.toLowerCase()))?a:M(a,"/"+b)}((a={basePath:this[T].basePath,buildId:this[T].buildId,defaultLocale:this[T].options.forceLocale?void 0:this[T].defaultLocale,locale:this[T].locale,pathname:this[T].url.pathname,trailingSlash:this[T].trailingSlash}).pathname,a.locale,a.buildId?void 0:a.defaultLocale,a.ignorePrefix),(a.buildId||!a.trailingSlash)&&(b=K(b)),a.buildId&&(b=N(M(b,"/_next/data/"+a.buildId),"/"===a.pathname?"index.json":".json")),b=M(b,a.basePath),!a.buildId&&a.trailingSlash?b.endsWith("/")?b:N(b,"/"):K(b)}formatSearch(){return this[T].url.search}get buildId(){return this[T].buildId}set buildId(a){this[T].buildId=a}get locale(){return this[T].locale??""}set locale(a){var b,c;if(!this[T].locale||!(null==(c=this[T].options.nextConfig)||null==(b=c.i18n)?void 0:b.locales.includes(a)))throw Object.defineProperty(TypeError(`The NextURL configuration includes no locale "${a}"`),"__NEXT_ERROR_CODE",{value:"E597",enumerable:!1,configurable:!0});this[T].locale=a}get defaultLocale(){return this[T].defaultLocale}get domainLocale(){return this[T].domainLocale}get searchParams(){return this[T].url.searchParams}get host(){return this[T].url.host}set host(a){this[T].url.host=a}get hostname(){return this[T].url.hostname}set hostname(a){this[T].url.hostname=a}get port(){return this[T].url.port}set port(a){this[T].url.port=a}get protocol(){return this[T].url.protocol}set protocol(a){this[T].url.protocol=a}get href(){let a=this.formatPathname(),b=this.formatSearch();return`${this.protocol}//${this.host}${a}${b}${this.hash}`}set href(a){this[T].url=S(a),this.analyze()}get origin(){return this[T].url.origin}get pathname(){return this[T].url.pathname}set pathname(a){this[T].url.pathname=a}get hash(){return this[T].url.hash}set hash(a){this[T].url.hash=a}get search(){return this[T].url.search}set search(a){this[T].url.search=a}get password(){return this[T].url.password}set password(a){this[T].url.password=a}get username(){return this[T].url.username}set username(a){this[T].url.username=a}get basePath(){return this[T].basePath}set basePath(a){this[T].basePath=a.startsWith("/")?a:`/${a}`}toString(){return this.href}toJSON(){return this.href}[Symbol.for("edge-runtime.inspect.custom")](){return{href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,searchParams:this.searchParams,hash:this.hash}}clone(){return new U(String(this),this[T].options)}}var V=c(443);let W=Symbol("internal request");class X extends Request{constructor(a,b={}){let c="string"!=typeof a&&"url"in a?a.url:String(a);E(c),a instanceof Request?super(a,b):super(c,b);let d=new U(c,{headers:D(this.headers),nextConfig:b.nextConfig});this[W]={cookies:new V.RequestCookies(this.headers),nextUrl:d,url:d.toString()}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,nextUrl:this.nextUrl,url:this.url,bodyUsed:this.bodyUsed,cache:this.cache,credentials:this.credentials,destination:this.destination,headers:Object.fromEntries(this.headers),integrity:this.integrity,keepalive:this.keepalive,method:this.method,mode:this.mode,redirect:this.redirect,referrer:this.referrer,referrerPolicy:this.referrerPolicy,signal:this.signal}}get cookies(){return this[W].cookies}get nextUrl(){return this[W].nextUrl}get page(){throw new y}get ua(){throw new z}get url(){return this[W].url}}class Y{static get(a,b,c){let d=Reflect.get(a,b,c);return"function"==typeof d?d.bind(a):d}static set(a,b,c,d){return Reflect.set(a,b,c,d)}static has(a,b){return Reflect.has(a,b)}static deleteProperty(a,b){return Reflect.deleteProperty(a,b)}}let Z=Symbol("internal response"),$=new Set([301,302,303,307,308]);function _(a,b){var c;if(null==a||null==(c=a.request)?void 0:c.headers){if(!(a.request.headers instanceof Headers))throw Object.defineProperty(Error("request.headers must be an instance of Headers"),"__NEXT_ERROR_CODE",{value:"E119",enumerable:!1,configurable:!0});let c=[];for(let[d,e]of a.request.headers)b.set("x-middleware-request-"+d,e),c.push(d);b.set("x-middleware-override-headers",c.join(","))}}class aa extends Response{constructor(a,b={}){super(a,b);let c=this.headers,d=new Proxy(new V.ResponseCookies(c),{get(a,d,e){switch(d){case"delete":case"set":return(...e)=>{let f=Reflect.apply(a[d],a,e),g=new Headers(c);return f instanceof V.ResponseCookies&&c.set("x-middleware-set-cookie",f.getAll().map(a=>(0,V.stringifyCookie)(a)).join(",")),_(b,g),f};default:return Y.get(a,d,e)}}});this[Z]={cookies:d,url:b.url?new U(b.url,{headers:D(c),nextConfig:b.nextConfig}):void 0}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,url:this.url,body:this.body,bodyUsed:this.bodyUsed,headers:Object.fromEntries(this.headers),ok:this.ok,redirected:this.redirected,status:this.status,statusText:this.statusText,type:this.type}}get cookies(){return this[Z].cookies}static json(a,b){let c=Response.json(a,b);return new aa(c.body,c)}static redirect(a,b){let c="number"==typeof b?b:(null==b?void 0:b.status)??307;if(!$.has(c))throw Object.defineProperty(RangeError('Failed to execute "redirect" on "response": Invalid status code'),"__NEXT_ERROR_CODE",{value:"E529",enumerable:!1,configurable:!0});let d="object"==typeof b?b:{},e=new Headers(null==d?void 0:d.headers);return e.set("Location",E(a)),new aa(null,{...d,headers:e,status:c})}static rewrite(a,b){let c=new Headers(null==b?void 0:b.headers);return c.set("x-middleware-rewrite",E(a)),_(b,c),new aa(null,{...b,headers:c})}static next(a){let b=new Headers(null==a?void 0:a.headers);return b.set("x-middleware-next","1"),_(a,b),new aa(null,{...a,headers:b})}}function ab(a,b){let c="string"==typeof b?new URL(b):b,d=new URL(a,b),e=d.origin===c.origin;return{url:e?d.toString().slice(c.origin.length):d.toString(),isRelative:e}}let ac="next-router-prefetch",ad=["rsc","next-router-state-tree",ac,"next-hmr-refresh","next-router-segment-prefetch"],ae="_rsc";class af extends Error{constructor(){super("Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers")}static callable(){throw new af}}class ag extends Headers{constructor(a){super(),this.headers=new Proxy(a,{get(b,c,d){if("symbol"==typeof c)return Y.get(b,c,d);let e=c.toLowerCase(),f=Object.keys(a).find(a=>a.toLowerCase()===e);if(void 0!==f)return Y.get(b,f,d)},set(b,c,d,e){if("symbol"==typeof c)return Y.set(b,c,d,e);let f=c.toLowerCase(),g=Object.keys(a).find(a=>a.toLowerCase()===f);return Y.set(b,g??c,d,e)},has(b,c){if("symbol"==typeof c)return Y.has(b,c);let d=c.toLowerCase(),e=Object.keys(a).find(a=>a.toLowerCase()===d);return void 0!==e&&Y.has(b,e)},deleteProperty(b,c){if("symbol"==typeof c)return Y.deleteProperty(b,c);let d=c.toLowerCase(),e=Object.keys(a).find(a=>a.toLowerCase()===d);return void 0===e||Y.deleteProperty(b,e)}})}static seal(a){return new Proxy(a,{get(a,b,c){switch(b){case"append":case"delete":case"set":return af.callable;default:return Y.get(a,b,c)}}})}merge(a){return Array.isArray(a)?a.join(", "):a}static from(a){return a instanceof Headers?a:new ag(a)}append(a,b){let c=this.headers[a];"string"==typeof c?this.headers[a]=[c,b]:Array.isArray(c)?c.push(b):this.headers[a]=b}delete(a){delete this.headers[a]}get(a){let b=this.headers[a];return void 0!==b?this.merge(b):null}has(a){return void 0!==this.headers[a]}set(a,b){this.headers[a]=b}forEach(a,b){for(let[c,d]of this.entries())a.call(b,d,c,this)}*entries(){for(let a of Object.keys(this.headers)){let b=a.toLowerCase(),c=this.get(b);yield[b,c]}}*keys(){for(let a of Object.keys(this.headers)){let b=a.toLowerCase();yield b}}*values(){for(let a of Object.keys(this.headers)){let b=this.get(a);yield b}}[Symbol.iterator](){return this.entries()}}var ah=c(379);class ai extends Error{constructor(){super("Cookies can only be modified in a Server Action or Route Handler. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#options")}static callable(){throw new ai}}class aj{static seal(a){return new Proxy(a,{get(a,b,c){switch(b){case"clear":case"delete":case"set":return ai.callable;default:return Y.get(a,b,c)}}})}}let ak=Symbol.for("next.mutated.cookies");class al{static wrap(a,b){let c=new V.ResponseCookies(new Headers);for(let b of a.getAll())c.set(b);let d=[],e=new Set,f=()=>{let a=ah.J.getStore();if(a&&(a.pathWasRevalidated=!0),d=c.getAll().filter(a=>e.has(a.name)),b){let a=[];for(let b of d){let c=new V.ResponseCookies(new Headers);c.set(b),a.push(c.toString())}b(a)}},g=new Proxy(c,{get(a,b,c){switch(b){case ak:return d;case"delete":return function(...b){e.add("string"==typeof b[0]?b[0]:b[0].name);try{return a.delete(...b),g}finally{f()}};case"set":return function(...b){e.add("string"==typeof b[0]?b[0]:b[0].name);try{return a.set(...b),g}finally{f()}};default:return Y.get(a,b,c)}}});return g}}function am(a){return"action"===a.phase}function an(a,b){if(!am(a))throw new ai}var ao=function(a){return a.handleRequest="BaseServer.handleRequest",a.run="BaseServer.run",a.pipe="BaseServer.pipe",a.getStaticHTML="BaseServer.getStaticHTML",a.render="BaseServer.render",a.renderToResponseWithComponents="BaseServer.renderToResponseWithComponents",a.renderToResponse="BaseServer.renderToResponse",a.renderToHTML="BaseServer.renderToHTML",a.renderError="BaseServer.renderError",a.renderErrorToResponse="BaseServer.renderErrorToResponse",a.renderErrorToHTML="BaseServer.renderErrorToHTML",a.render404="BaseServer.render404",a}(ao||{}),ap=function(a){return a.loadDefaultErrorComponents="LoadComponents.loadDefaultErrorComponents",a.loadComponents="LoadComponents.loadComponents",a}(ap||{}),aq=function(a){return a.getRequestHandler="NextServer.getRequestHandler",a.getServer="NextServer.getServer",a.getServerRequestHandler="NextServer.getServerRequestHandler",a.createServer="createServer.createServer",a}(aq||{}),ar=function(a){return a.compression="NextNodeServer.compression",a.getBuildId="NextNodeServer.getBuildId",a.createComponentTree="NextNodeServer.createComponentTree",a.clientComponentLoading="NextNodeServer.clientComponentLoading",a.getLayoutOrPageModule="NextNodeServer.getLayoutOrPageModule",a.generateStaticRoutes="NextNodeServer.generateStaticRoutes",a.generateFsStaticRoutes="NextNodeServer.generateFsStaticRoutes",a.generatePublicRoutes="NextNodeServer.generatePublicRoutes",a.generateImageRoutes="NextNodeServer.generateImageRoutes.route",a.sendRenderResult="NextNodeServer.sendRenderResult",a.proxyRequest="NextNodeServer.proxyRequest",a.runApi="NextNodeServer.runApi",a.render="NextNodeServer.render",a.renderHTML="NextNodeServer.renderHTML",a.imageOptimizer="NextNodeServer.imageOptimizer",a.getPagePath="NextNodeServer.getPagePath",a.getRoutesManifest="NextNodeServer.getRoutesManifest",a.findPageComponents="NextNodeServer.findPageComponents",a.getFontManifest="NextNodeServer.getFontManifest",a.getServerComponentManifest="NextNodeServer.getServerComponentManifest",a.getRequestHandler="NextNodeServer.getRequestHandler",a.renderToHTML="NextNodeServer.renderToHTML",a.renderError="NextNodeServer.renderError",a.renderErrorToHTML="NextNodeServer.renderErrorToHTML",a.render404="NextNodeServer.render404",a.startResponse="NextNodeServer.startResponse",a.route="route",a.onProxyReq="onProxyReq",a.apiResolver="apiResolver",a.internalFetch="internalFetch",a}(ar||{}),as=function(a){return a.startServer="startServer.startServer",a}(as||{}),at=function(a){return a.getServerSideProps="Render.getServerSideProps",a.getStaticProps="Render.getStaticProps",a.renderToString="Render.renderToString",a.renderDocument="Render.renderDocument",a.createBodyResult="Render.createBodyResult",a}(at||{}),au=function(a){return a.renderToString="AppRender.renderToString",a.renderToReadableStream="AppRender.renderToReadableStream",a.getBodyResult="AppRender.getBodyResult",a.fetch="AppRender.fetch",a}(au||{}),av=function(a){return a.executeRoute="Router.executeRoute",a}(av||{}),aw=function(a){return a.runHandler="Node.runHandler",a}(aw||{}),ax=function(a){return a.runHandler="AppRouteRouteHandlers.runHandler",a}(ax||{}),ay=function(a){return a.generateMetadata="ResolveMetadata.generateMetadata",a.generateViewport="ResolveMetadata.generateViewport",a}(ay||{}),az=function(a){return a.execute="Middleware.execute",a}(az||{});let aA=["Middleware.execute","BaseServer.handleRequest","Render.getServerSideProps","Render.getStaticProps","AppRender.fetch","AppRender.getBodyResult","Render.renderDocument","Node.runHandler","AppRouteRouteHandlers.runHandler","ResolveMetadata.generateMetadata","ResolveMetadata.generateViewport","NextNodeServer.createComponentTree","NextNodeServer.findPageComponents","NextNodeServer.getLayoutOrPageModule","NextNodeServer.startResponse","NextNodeServer.clientComponentLoading"],aB=["NextNodeServer.findPageComponents","NextNodeServer.createComponentTree","NextNodeServer.clientComponentLoading"];function aC(a){return null!==a&&"object"==typeof a&&"then"in a&&"function"==typeof a.then}let{context:aD,propagation:aE,trace:aF,SpanStatusCode:aG,SpanKind:aH,ROOT_CONTEXT:aI}=d=c(817);class aJ extends Error{constructor(a,b){super(),this.bubble=a,this.result=b}}let aK=(a,b)=>{(function(a){return"object"==typeof a&&null!==a&&a instanceof aJ})(b)&&b.bubble?a.setAttribute("next.bubble",!0):(b&&(a.recordException(b),a.setAttribute("error.type",b.name)),a.setStatus({code:aG.ERROR,message:null==b?void 0:b.message})),a.end()},aL=new Map,aM=d.createContextKey("next.rootSpanId"),aN=0,aO={set(a,b,c){a.push({key:b,value:c})}};class aP{getTracerInstance(){return aF.getTracer("next.js","0.0.1")}getContext(){return aD}getTracePropagationData(){let a=aD.active(),b=[];return aE.inject(a,b,aO),b}getActiveScopeSpan(){return aF.getSpan(null==aD?void 0:aD.active())}withPropagatedContext(a,b,c){let d=aD.active();if(aF.getSpanContext(d))return b();let e=aE.extract(d,a,c);return aD.with(e,b)}trace(...a){var b;let[c,d,e]=a,{fn:f,options:g}="function"==typeof d?{fn:d,options:{}}:{fn:e,options:{...d}},h=g.spanName??c;if(!aA.includes(c)&&"1"!==process.env.NEXT_OTEL_VERBOSE||g.hideSpan)return f();let i=this.getSpanContext((null==g?void 0:g.parentSpan)??this.getActiveScopeSpan()),j=!1;i?(null==(b=aF.getSpanContext(i))?void 0:b.isRemote)&&(j=!0):(i=(null==aD?void 0:aD.active())??aI,j=!0);let k=aN++;return g.attributes={"next.span_name":h,"next.span_type":c,...g.attributes},aD.with(i.setValue(aM,k),()=>this.getTracerInstance().startActiveSpan(h,g,a=>{let b="performance"in globalThis&&"measure"in performance?globalThis.performance.now():void 0,d=()=>{aL.delete(k),b&&process.env.NEXT_OTEL_PERFORMANCE_PREFIX&&aB.includes(c||"")&&performance.measure(`${process.env.NEXT_OTEL_PERFORMANCE_PREFIX}:next-${(c.split(".").pop()||"").replace(/[A-Z]/g,a=>"-"+a.toLowerCase())}`,{start:b,end:performance.now()})};j&&aL.set(k,new Map(Object.entries(g.attributes??{})));try{if(f.length>1)return f(a,b=>aK(a,b));let b=f(a);if(aC(b))return b.then(b=>(a.end(),b)).catch(b=>{throw aK(a,b),b}).finally(d);return a.end(),d(),b}catch(b){throw aK(a,b),d(),b}}))}wrap(...a){let b=this,[c,d,e]=3===a.length?a:[a[0],{},a[1]];return aA.includes(c)||"1"===process.env.NEXT_OTEL_VERBOSE?function(){let a=d;"function"==typeof a&&"function"==typeof e&&(a=a.apply(this,arguments));let f=arguments.length-1,g=arguments[f];if("function"!=typeof g)return b.trace(c,a,()=>e.apply(this,arguments));{let d=b.getContext().bind(aD.active(),g);return b.trace(c,a,(a,b)=>(arguments[f]=function(a){return null==b||b(a),d.apply(this,arguments)},e.apply(this,arguments)))}}:e}startSpan(...a){let[b,c]=a,d=this.getSpanContext((null==c?void 0:c.parentSpan)??this.getActiveScopeSpan());return this.getTracerInstance().startSpan(b,c,d)}getSpanContext(a){return a?aF.setSpan(aD.active(),a):void 0}getRootSpanAttributes(){let a=aD.active().getValue(aM);return aL.get(a)}setRootSpanAttribute(a,b){let c=aD.active().getValue(aM),d=aL.get(c);d&&d.set(a,b)}}let aQ=(()=>{let a=new aP;return()=>a})(),aR="__prerender_bypass";Symbol("__next_preview_data"),Symbol(aR);class aS{constructor(a,b,c,d){var e;let f=a&&function(a,b){let c=ag.from(a.headers);return{isOnDemandRevalidate:c.get("x-prerender-revalidate")===b.previewModeId,revalidateOnlyGenerated:c.has("x-prerender-revalidate-if-generated")}}(b,a).isOnDemandRevalidate,g=null==(e=c.get(aR))?void 0:e.value;this._isEnabled=!!(!f&&g&&a&&g===a.previewModeId),this._previewModeId=null==a?void 0:a.previewModeId,this._mutableCookies=d}get isEnabled(){return this._isEnabled}enable(){if(!this._previewModeId)throw Object.defineProperty(Error("Invariant: previewProps missing previewModeId this should never happen"),"__NEXT_ERROR_CODE",{value:"E93",enumerable:!1,configurable:!0});this._mutableCookies.set({name:aR,value:this._previewModeId,httpOnly:!0,sameSite:"none",secure:!0,path:"/"}),this._isEnabled=!0}disable(){this._mutableCookies.set({name:aR,value:"",httpOnly:!0,sameSite:"none",secure:!0,path:"/",expires:new Date(0)}),this._isEnabled=!1}}function aT(a,b){if("x-middleware-set-cookie"in a.headers&&"string"==typeof a.headers["x-middleware-set-cookie"]){let c=a.headers["x-middleware-set-cookie"],d=new Headers;for(let a of C(c))d.append("set-cookie",a);for(let a of new V.ResponseCookies(d).getAll())b.set(a)}}var aU=c(128),aV=c(213),aW=c.n(aV),aX=c(809);class aY{constructor(a,b,c){this.prev=null,this.next=null,this.key=a,this.data=b,this.size=c}}class aZ{constructor(){this.prev=null,this.next=null}}class a${constructor(a,b){this.cache=new Map,this.totalSize=0,this.maxSize=a,this.calculateSize=b,this.head=new aZ,this.tail=new aZ,this.head.next=this.tail,this.tail.prev=this.head}addToHead(a){a.prev=this.head,a.next=this.head.next,this.head.next.prev=a,this.head.next=a}removeNode(a){a.prev.next=a.next,a.next.prev=a.prev}moveToHead(a){this.removeNode(a),this.addToHead(a)}removeTail(){let a=this.tail.prev;return this.removeNode(a),a}set(a,b){let c=(null==this.calculateSize?void 0:this.calculateSize.call(this,b))??1;if(c>this.maxSize)return void console.warn("Single item size exceeds maxSize");let d=this.cache.get(a);if(d)d.data=b,this.totalSize=this.totalSize-d.size+c,d.size=c,this.moveToHead(d);else{let d=new aY(a,b,c);this.cache.set(a,d),this.addToHead(d),this.totalSize+=c}for(;this.totalSize>this.maxSize&&this.cache.size>0;){let a=this.removeTail();this.cache.delete(a.key),this.totalSize-=a.size}}has(a){return this.cache.has(a)}get(a){let b=this.cache.get(a);if(b)return this.moveToHead(b),b.data}*[Symbol.iterator](){let a=this.head.next;for(;a&&a!==this.tail;){let b=a;yield[b.key,b.data],a=a.next}}remove(a){let b=this.cache.get(a);b&&(this.removeNode(b),this.cache.delete(a),this.totalSize-=b.size)}get size(){return this.cache.size}get currentSize(){return this.totalSize}}c(356).Buffer,new a$(0x3200000,a=>a.size),process.env.NEXT_PRIVATE_DEBUG_CACHE&&console.debug.bind(console,"DefaultCacheHandler:"),process.env.NEXT_PRIVATE_DEBUG_CACHE&&((a,...b)=>{console.log(`use-cache: ${a}`,...b)}),Symbol.for("@next/cache-handlers");let a_=Symbol.for("@next/cache-handlers-map"),a0=Symbol.for("@next/cache-handlers-set"),a1=globalThis;function a2(){if(a1[a_])return a1[a_].entries()}async function a3(a,b){if(!a)return b();let c=a4(a);try{return await b()}finally{let b=function(a,b){let c=new Set(a.pendingRevalidatedTags),d=new Set(a.pendingRevalidateWrites);return{pendingRevalidatedTags:b.pendingRevalidatedTags.filter(a=>!c.has(a)),pendingRevalidates:Object.fromEntries(Object.entries(b.pendingRevalidates).filter(([b])=>!(b in a.pendingRevalidates))),pendingRevalidateWrites:b.pendingRevalidateWrites.filter(a=>!d.has(a))}}(c,a4(a));await a6(a,b)}}function a4(a){return{pendingRevalidatedTags:a.pendingRevalidatedTags?[...a.pendingRevalidatedTags]:[],pendingRevalidates:{...a.pendingRevalidates},pendingRevalidateWrites:a.pendingRevalidateWrites?[...a.pendingRevalidateWrites]:[]}}async function a5(a,b){if(0===a.length)return;let c=[];b&&c.push(b.revalidateTag(a));let d=function(){if(a1[a0])return a1[a0].values()}();if(d)for(let b of d)c.push(b.expireTags(...a));await Promise.all(c)}async function a6(a,b){let c=(null==b?void 0:b.pendingRevalidatedTags)??a.pendingRevalidatedTags??[],d=(null==b?void 0:b.pendingRevalidates)??a.pendingRevalidates??{},e=(null==b?void 0:b.pendingRevalidateWrites)??a.pendingRevalidateWrites??[];return Promise.all([a5(c,a.incrementalCache),...Object.values(d),...e])}let a7=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class a8{disable(){throw a7}getStore(){}run(){throw a7}exit(){throw a7}enterWith(){throw a7}static bind(a){return a}}let a9="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage,ba=a9?new a9:new a8;class bb{constructor({waitUntil:a,onClose:b,onTaskError:c}){this.workUnitStores=new Set,this.waitUntil=a,this.onClose=b,this.onTaskError=c,this.callbackQueue=new(aW()),this.callbackQueue.pause()}after(a){if(aC(a))this.waitUntil||bc(),this.waitUntil(a.catch(a=>this.reportTaskError("promise",a)));else if("function"==typeof a)this.addCallback(a);else throw Object.defineProperty(Error("`after()`: Argument must be a promise or a function"),"__NEXT_ERROR_CODE",{value:"E50",enumerable:!1,configurable:!0})}addCallback(a){var b;this.waitUntil||bc();let c=aU.FP.getStore();c&&this.workUnitStores.add(c);let d=ba.getStore(),e=d?d.rootTaskSpawnPhase:null==c?void 0:c.phase;this.runCallbacksOnClosePromise||(this.runCallbacksOnClosePromise=this.runCallbacksOnClose(),this.waitUntil(this.runCallbacksOnClosePromise));let f=(b=async()=>{try{await ba.run({rootTaskSpawnPhase:e},()=>a())}catch(a){this.reportTaskError("function",a)}},a9?a9.bind(b):a8.bind(b));this.callbackQueue.add(f)}async runCallbacksOnClose(){return await new Promise(a=>this.onClose(a)),this.runCallbacks()}async runCallbacks(){if(0===this.callbackQueue.size)return;for(let a of this.workUnitStores)a.phase="after";let a=ah.J.getStore();if(!a)throw Object.defineProperty(new aX.z("Missing workStore in AfterContext.runCallbacks"),"__NEXT_ERROR_CODE",{value:"E547",enumerable:!1,configurable:!0});return a3(a,()=>(this.callbackQueue.start(),this.callbackQueue.onIdle()))}reportTaskError(a,b){if(console.error("promise"===a?"A promise passed to `after()` rejected:":"An error occurred in a function passed to `after()`:",b),this.onTaskError)try{null==this.onTaskError||this.onTaskError.call(this,b)}catch(a){console.error(Object.defineProperty(new aX.z("`onTaskError` threw while handling an error thrown from an `after` task",{cause:a}),"__NEXT_ERROR_CODE",{value:"E569",enumerable:!1,configurable:!0}))}}}function bc(){throw Object.defineProperty(Error("`after()` will not work correctly, because `waitUntil` is not available in the current environment."),"__NEXT_ERROR_CODE",{value:"E91",enumerable:!1,configurable:!0})}function bd(a){let b,c={then:(d,e)=>(b||(b=a()),b.then(a=>{c.value=a}).catch(()=>{}),b.then(d,e))};return c}class be{onClose(a){if(this.isClosed)throw Object.defineProperty(Error("Cannot subscribe to a closed CloseController"),"__NEXT_ERROR_CODE",{value:"E365",enumerable:!1,configurable:!0});this.target.addEventListener("close",a),this.listeners++}dispatchClose(){if(this.isClosed)throw Object.defineProperty(Error("Cannot close a CloseController multiple times"),"__NEXT_ERROR_CODE",{value:"E229",enumerable:!1,configurable:!0});this.listeners>0&&this.target.dispatchEvent(new Event("close")),this.isClosed=!0}constructor(){this.target=new EventTarget,this.listeners=0,this.isClosed=!1}}function bf(){return{previewModeId:process.env.__NEXT_PREVIEW_MODE_ID||"",previewModeSigningKey:process.env.__NEXT_PREVIEW_MODE_SIGNING_KEY||"",previewModeEncryptionKey:process.env.__NEXT_PREVIEW_MODE_ENCRYPTION_KEY||""}}let bg=Symbol.for("@next/request-context");async function bh(a,b,c){let d=[],e=c&&c.size>0;for(let b of(a=>{let b=["/layout"];if(a.startsWith("/")){let c=a.split("/");for(let a=1;a<c.length+1;a++){let d=c.slice(0,a).join("/");d&&(d.endsWith("/page")||d.endsWith("/route")||(d=`${d}${!d.endsWith("/")?"/":""}layout`),b.push(d))}}return b})(a))b=`${A}${b}`,d.push(b);if(b.pathname&&!e){let a=`${A}${b.pathname}`;d.push(a)}return{tags:d,expirationsByCacheKind:function(a){let b=new Map,c=a2();if(c)for(let[d,e]of c)"getExpiration"in e&&b.set(d,bd(async()=>e.getExpiration(...a)));return b}(d)}}class bi extends X{constructor(a){super(a.input,a.init),this.sourcePage=a.page}get request(){throw Object.defineProperty(new x({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}respondWith(){throw Object.defineProperty(new x({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}waitUntil(){throw Object.defineProperty(new x({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}}let bj={keys:a=>Array.from(a.keys()),get:(a,b)=>a.get(b)??void 0},bk=(a,b)=>aQ().withPropagatedContext(a.headers,b,bj),bl=!1;async function bm(a){var b;let d,e;if(!bl&&(bl=!0,"true"===process.env.NEXT_PRIVATE_TEST_PROXY)){let{interceptTestApis:a,wrapRequestHandler:b}=c(720);a(),bk=b(bk)}await v();let f=void 0!==globalThis.__BUILD_MANIFEST;a.request.url=a.request.url.replace(/\.rsc($|\?)/,"$1");let g=a.bypassNextUrl?new URL(a.request.url):new U(a.request.url,{headers:a.request.headers,nextConfig:a.request.nextConfig});for(let a of[...g.searchParams.keys()]){let b=g.searchParams.getAll(a),c=function(a){for(let b of["nxtP","nxtI"])if(a!==b&&a.startsWith(b))return a.substring(b.length);return null}(a);if(c){for(let a of(g.searchParams.delete(c),b))g.searchParams.append(c,a);g.searchParams.delete(a)}}let h=process.env.__NEXT_BUILD_ID||"";"buildId"in g&&(h=g.buildId||"",g.buildId="");let i=function(a){let b=new Headers;for(let[c,d]of Object.entries(a))for(let a of Array.isArray(d)?d:[d])void 0!==a&&("number"==typeof a&&(a=a.toString()),b.append(c,a));return b}(a.request.headers),j=i.has("x-nextjs-data"),k="1"===i.get("rsc");j&&"/index"===g.pathname&&(g.pathname="/");let l=new Map;if(!f)for(let a of ad){let b=i.get(a);null!==b&&(l.set(a,b),i.delete(a))}let m=g.searchParams.get(ae),n=new bi({page:a.page,input:(function(a){let b="string"==typeof a,c=b?new URL(a):a;return c.searchParams.delete(ae),b?c.toString():c})(g).toString(),init:{body:a.request.body,headers:i,method:a.request.method,nextConfig:a.request.nextConfig,signal:a.request.signal}});j&&Object.defineProperty(n,"__isData",{enumerable:!1,value:!0}),!globalThis.__incrementalCacheShared&&a.IncrementalCache&&(globalThis.__incrementalCache=new a.IncrementalCache({CurCacheHandler:a.incrementalCacheHandler,minimalMode:!0,fetchCacheKeyPrefix:"",dev:!1,requestHeaders:a.request.headers,getPrerenderManifest:()=>({version:-1,routes:{},dynamicRoutes:{},notFoundRoutes:[],preview:bf()})}));let o=a.request.waitUntil??(null==(b=function(){let a=globalThis[bg];return null==a?void 0:a.get()}())?void 0:b.waitUntil),p=new J({request:n,page:a.page,context:o?{waitUntil:o}:void 0});if((d=await bk(n,()=>{if("/middleware"===a.page||"/src/middleware"===a.page){let b=p.waitUntil.bind(p),c=new be;return aQ().trace(az.execute,{spanName:`middleware ${n.method} ${n.nextUrl.pathname}`,attributes:{"http.target":n.nextUrl.pathname,"http.method":n.method}},async()=>{try{var d,f,g,i,j,k;let l=bf(),m=await bh("/",n.nextUrl,null),o=(j=n.nextUrl,k=a=>{e=a},function(a,b,c,d,e,f,g,h,i,j,k,l){function m(a){c&&c.setHeader("Set-Cookie",a)}let n={};return{type:"request",phase:a,implicitTags:f,url:{pathname:d.pathname,search:d.search??""},rootParams:e,get headers(){return n.headers||(n.headers=function(a){let b=ag.from(a);for(let a of ad)b.delete(a);return ag.seal(b)}(b.headers)),n.headers},get cookies(){if(!n.cookies){let a=new V.RequestCookies(ag.from(b.headers));aT(b,a),n.cookies=aj.seal(a)}return n.cookies},set cookies(value){n.cookies=value},get mutableCookies(){if(!n.mutableCookies){let a=function(a,b){let c=new V.RequestCookies(ag.from(a));return al.wrap(c,b)}(b.headers,g||(c?m:void 0));aT(b,a),n.mutableCookies=a}return n.mutableCookies},get userspaceMutableCookies(){return n.userspaceMutableCookies||(n.userspaceMutableCookies=function(a){let b=new Proxy(a.mutableCookies,{get(c,d,e){switch(d){case"delete":return function(...d){return an(a,"cookies().delete"),c.delete(...d),b};case"set":return function(...d){return an(a,"cookies().set"),c.set(...d),b};default:return Y.get(c,d,e)}}});return b}(this)),n.userspaceMutableCookies},get draftMode(){return n.draftMode||(n.draftMode=new aS(i,b,this.cookies,this.mutableCookies)),n.draftMode},renderResumeDataCache:h??null,isHmrRefresh:j,serverComponentsHmrCache:k||globalThis.__serverComponentsHmrCache,devFallbackParams:null}}("action",n,void 0,j,{},m,k,void 0,l,!1,void 0,null)),q=function({page:a,renderOpts:b,isPrefetchRequest:c,buildId:d,previouslyRevalidatedTags:e}){var f;let g=!b.shouldWaitOnAllReady&&!b.supportsDynamicResponse&&!b.isDraftMode&&!b.isPossibleServerAction,h=b.dev??!1,i=h||g&&(!!process.env.NEXT_DEBUG_BUILD||"1"===process.env.NEXT_SSG_FETCH_METRICS),j={isStaticGeneration:g,page:a,route:(f=a.split("/").reduce((a,b,c,d)=>b?"("===b[0]&&b.endsWith(")")||"@"===b[0]||("page"===b||"route"===b)&&c===d.length-1?a:a+"/"+b:a,"")).startsWith("/")?f:"/"+f,incrementalCache:b.incrementalCache||globalThis.__incrementalCache,cacheLifeProfiles:b.cacheLifeProfiles,isRevalidate:b.isRevalidate,isBuildTimePrerendering:b.nextExport,hasReadableErrorStacks:b.hasReadableErrorStacks,fetchCache:b.fetchCache,isOnDemandRevalidate:b.isOnDemandRevalidate,isDraftMode:b.isDraftMode,isPrefetchRequest:c,buildId:d,reactLoadableManifest:(null==b?void 0:b.reactLoadableManifest)||{},assetPrefix:(null==b?void 0:b.assetPrefix)||"",afterContext:function(a){let{waitUntil:b,onClose:c,onAfterTaskError:d}=a;return new bb({waitUntil:b,onClose:c,onTaskError:d})}(b),cacheComponentsEnabled:b.experimental.cacheComponents,dev:h,previouslyRevalidatedTags:e,refreshTagsByCacheKind:function(){let a=new Map,b=a2();if(b)for(let[c,d]of b)"refreshTags"in d&&a.set(c,bd(async()=>d.refreshTags()));return a}(),runInCleanSnapshot:a9?a9.snapshot():function(a,...b){return a(...b)},shouldTrackFetchMetrics:i};return b.store=j,j}({page:"/",renderOpts:{cacheLifeProfiles:null==(f=a.request.nextConfig)||null==(d=f.experimental)?void 0:d.cacheLife,experimental:{isRoutePPREnabled:!1,cacheComponents:!1,authInterrupts:!!(null==(i=a.request.nextConfig)||null==(g=i.experimental)?void 0:g.authInterrupts)},supportsDynamicResponse:!0,waitUntil:b,onClose:c.onClose.bind(c),onAfterTaskError:void 0},isPrefetchRequest:"1"===n.headers.get(ac),buildId:h??"",previouslyRevalidatedTags:[]});return await ah.J.run(q,()=>aU.FP.run(o,a.handler,n,p))}finally{setTimeout(()=>{c.dispatchClose()},0)}})}return a.handler(n,p)}))&&!(d instanceof Response))throw Object.defineProperty(TypeError("Expected an instance of Response to be returned"),"__NEXT_ERROR_CODE",{value:"E567",enumerable:!1,configurable:!0});d&&e&&d.headers.set("set-cookie",e);let q=null==d?void 0:d.headers.get("x-middleware-rewrite");if(d&&q&&(k||!f)){let b=new U(q,{forceLocale:!0,headers:a.request.headers,nextConfig:a.request.nextConfig});f||b.host!==n.nextUrl.host||(b.buildId=h||b.buildId,d.headers.set("x-middleware-rewrite",String(b)));let{url:c,isRelative:e}=ab(b.toString(),g.toString());!f&&j&&d.headers.set("x-nextjs-rewrite",c),k&&e&&(g.pathname!==b.pathname&&d.headers.set("x-nextjs-rewritten-path",b.pathname),g.search!==b.search&&d.headers.set("x-nextjs-rewritten-query",b.search.slice(1)))}if(d&&q&&k&&m){let a=new URL(q);a.searchParams.has(ae)||(a.searchParams.set(ae,m),d.headers.set("x-middleware-rewrite",a.toString()))}let r=null==d?void 0:d.headers.get("Location");if(d&&r&&!f){let b=new U(r,{forceLocale:!1,headers:a.request.headers,nextConfig:a.request.nextConfig});d=new Response(d.body,d),b.host===g.host&&(b.buildId=h||b.buildId,d.headers.set("Location",b.toString())),j&&(d.headers.delete("Location"),d.headers.set("x-nextjs-redirect",ab(b.toString(),g.toString()).url))}let s=d||aa.next(),t=s.headers.get("x-middleware-override-headers"),u=[];if(t){for(let[a,b]of l)s.headers.set(`x-middleware-request-${a}`,b),u.push(a);u.length>0&&s.headers.set("x-middleware-override-headers",t+","+u.join(","))}return{response:s,waitUntil:("internal"===p[H].kind?Promise.all(p[H].promises).then(()=>{}):void 0)??Promise.resolve(),fetchMetrics:n.fetchMetrics}}var bn=function(a,b,c,d,e){if("m"===d)throw TypeError("Private method is not writable");if("a"===d&&!e)throw TypeError("Private accessor was defined without a setter");if("function"==typeof b?a!==b||!e:!b.has(a))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===d?e.call(a,c):e?e.value=c:b.set(a,c),c},bo=function(a,b,c,d){if("a"===c&&!d)throw TypeError("Private accessor was defined without a getter");if("function"==typeof b?a!==b||!d:!b.has(a))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===c?d:"a"===c?d.call(a):d?d.value:b.get(a)};function bp(a){let b=a?"__Secure-":"";return{sessionToken:{name:`${b}authjs.session-token`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:a}},callbackUrl:{name:`${b}authjs.callback-url`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:a}},csrfToken:{name:`${a?"__Host-":""}authjs.csrf-token`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:a}},pkceCodeVerifier:{name:`${b}authjs.pkce.code_verifier`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:a,maxAge:900}},state:{name:`${b}authjs.state`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:a,maxAge:900}},nonce:{name:`${b}authjs.nonce`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:a}},webauthnChallenge:{name:`${b}authjs.challenge`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:a,maxAge:900}}}}class bq{constructor(a,b,c){if(ee.add(this),ef.set(this,{}),eg.set(this,void 0),eh.set(this,void 0),bn(this,eh,c,"f"),bn(this,eg,a,"f"),!b)return;let{name:d}=a;for(let[a,c]of Object.entries(b))a.startsWith(d)&&c&&(bo(this,ef,"f")[a]=c)}get value(){return Object.keys(bo(this,ef,"f")).sort((a,b)=>parseInt(a.split(".").pop()||"0")-parseInt(b.split(".").pop()||"0")).map(a=>bo(this,ef,"f")[a]).join("")}chunk(a,b){let c=bo(this,ee,"m",ej).call(this);for(let d of bo(this,ee,"m",ei).call(this,{name:bo(this,eg,"f").name,value:a,options:{...bo(this,eg,"f").options,...b}}))c[d.name]=d;return Object.values(c)}clean(){return Object.values(bo(this,ee,"m",ej).call(this))}}ef=new WeakMap,eg=new WeakMap,eh=new WeakMap,ee=new WeakSet,ei=function(a){let b=Math.ceil(a.value.length/3936);if(1===b)return bo(this,ef,"f")[a.name]=a.value,[a];let c=[];for(let d=0;d<b;d++){let b=`${a.name}.${d}`,e=a.value.substr(3936*d,3936);c.push({...a,name:b,value:e}),bo(this,ef,"f")[b]=e}return bo(this,eh,"f").debug("CHUNKING_SESSION_COOKIE",{message:"Session cookie exceeds allowed 4096 bytes.",emptyCookieSize:160,valueSize:a.value.length,chunks:c.map(a=>a.value.length+160)}),c},ej=function(){let a={};for(let b in bo(this,ef,"f"))delete bo(this,ef,"f")?.[b],a[b]={name:b,value:"",options:{...bo(this,eg,"f").options,maxAge:0}};return a};class br extends Error{constructor(a,b){a instanceof Error?super(void 0,{cause:{err:a,...a.cause,...b}}):"string"==typeof a?(b instanceof Error&&(b={err:b,...b.cause}),super(a,b)):super(void 0,a),this.name=this.constructor.name,this.type=this.constructor.type??"AuthError",this.kind=this.constructor.kind??"error",Error.captureStackTrace?.(this,this.constructor);let c=`https://errors.authjs.dev#${this.type.toLowerCase()}`;this.message+=`${this.message?". ":""}Read more at ${c}`}}class bs extends br{}bs.kind="signIn";class bt extends br{}bt.type="AdapterError";class bu extends br{}bu.type="AccessDenied";class bv extends br{}bv.type="CallbackRouteError";class bw extends br{}bw.type="ErrorPageLoop";class bx extends br{}bx.type="EventError";class by extends br{}by.type="InvalidCallbackUrl";class bz extends bs{constructor(){super(...arguments),this.code="credentials"}}bz.type="CredentialsSignin";class bA extends br{}bA.type="InvalidEndpoints";class bB extends br{}bB.type="InvalidCheck";class bC extends br{}bC.type="JWTSessionError";class bD extends br{}bD.type="MissingAdapter";class bE extends br{}bE.type="MissingAdapterMethods";class bF extends br{}bF.type="MissingAuthorize";class bG extends br{}bG.type="MissingSecret";class bH extends bs{}bH.type="OAuthAccountNotLinked";class bI extends bs{}bI.type="OAuthCallbackError";class bJ extends br{}bJ.type="OAuthProfileParseError";class bK extends br{}bK.type="SessionTokenError";class bL extends bs{}bL.type="OAuthSignInError";class bM extends bs{}bM.type="EmailSignInError";class bN extends br{}bN.type="SignOutError";class bO extends br{}bO.type="UnknownAction";class bP extends br{}bP.type="UnsupportedStrategy";class bQ extends br{}bQ.type="InvalidProvider";class bR extends br{}bR.type="UntrustedHost";class bS extends br{}bS.type="Verification";class bT extends bs{}bT.type="MissingCSRF";let bU=new Set(["CredentialsSignin","OAuthAccountNotLinked","OAuthCallbackError","AccessDenied","Verification","MissingCSRF","AccountNotLinked","WebAuthnVerificationError"]);class bV extends br{}bV.type="DuplicateConditionalUI";class bW extends br{}bW.type="MissingWebAuthnAutocomplete";class bX extends br{}bX.type="WebAuthnVerificationError";class bY extends bs{}bY.type="AccountNotLinked";class bZ extends br{}bZ.type="ExperimentalFeatureNotEnabled";let b$=!1;function b_(a,b){try{return/^https?:/.test(new URL(a,a.startsWith("/")?b:void 0).protocol)}catch{return!1}}let b0=!1,b1=!1,b2=!1,b3=["createVerificationToken","useVerificationToken","getUserByEmail"],b4=["createUser","getUser","getUserByEmail","getUserByAccount","updateUser","linkAccount","createSession","getSessionAndUser","updateSession","deleteSession"],b5=["createUser","getUser","linkAccount","getAccount","getAuthenticator","createAuthenticator","listAuthenticatorsByUserId","updateAuthenticatorCounter"],b6=async(a,b,c,d,e)=>{let{crypto:{subtle:f}}=(()=>{if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;throw Error("unable to locate global object")})();return new Uint8Array(await f.deriveBits({name:"HKDF",hash:`SHA-${a.substr(3)}`,salt:c,info:d},await f.importKey("raw",b,"HKDF",!1,["deriveBits"]),e<<3))};function b7(a,b){if("string"==typeof a)return new TextEncoder().encode(a);if(!(a instanceof Uint8Array))throw TypeError(`"${b}"" must be an instance of Uint8Array or a string`);return a}async function b8(a,b,c,d,e){return b6(function(a){switch(a){case"sha256":case"sha384":case"sha512":case"sha1":return a;default:throw TypeError('unsupported "digest" value')}}(a),function(a){let b=b7(a,"ikm");if(!b.byteLength)throw TypeError('"ikm" must be at least one byte in length');return b}(b),b7(c,"salt"),function(a){let b=b7(a,"info");if(b.byteLength>1024)throw TypeError('"info" must not contain more than 1024 bytes');return b}(d),function(a,b){if("number"!=typeof a||!Number.isInteger(a)||a<1)throw TypeError('"keylen" must be a positive integer');if(a>255*(parseInt(b.substr(3),10)>>3||20))throw TypeError('"keylen" too large');return a}(e,a))}let b9=async(a,b)=>{let c=`SHA-${a.slice(-3)}`;return new Uint8Array(await crypto.subtle.digest(c,b))},ca=new TextEncoder,cb=new TextDecoder;function cc(...a){let b=new Uint8Array(a.reduce((a,{length:b})=>a+b,0)),c=0;for(let d of a)b.set(d,c),c+=d.length;return b}function cd(a,b,c){if(b<0||b>=0x100000000)throw RangeError(`value must be >= 0 and <= ${0x100000000-1}. Received ${b}`);a.set([b>>>24,b>>>16,b>>>8,255&b],c)}function ce(a){let b=Math.floor(a/0x100000000),c=new Uint8Array(8);return cd(c,b,0),cd(c,a%0x100000000,4),c}function cf(a){let b=new Uint8Array(4);return cd(b,a),b}function cg(a){if(Uint8Array.fromBase64)return Uint8Array.fromBase64("string"==typeof a?a:cb.decode(a),{alphabet:"base64url"});let b=a;b instanceof Uint8Array&&(b=cb.decode(b)),b=b.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{var c=b;if(Uint8Array.fromBase64)return Uint8Array.fromBase64(c);let a=atob(c),d=new Uint8Array(a.length);for(let b=0;b<a.length;b++)d[b]=a.charCodeAt(b);return d}catch{throw TypeError("The input to be decoded is not correctly encoded.")}}function ch(a){let b=a;return("string"==typeof b&&(b=ca.encode(b)),Uint8Array.prototype.toBase64)?b.toBase64({alphabet:"base64url",omitPadding:!0}):(function(a){if(Uint8Array.prototype.toBase64)return a.toBase64();let b=[];for(let c=0;c<a.length;c+=32768)b.push(String.fromCharCode.apply(null,a.subarray(c,c+32768)));return btoa(b.join(""))})(b).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}class ci extends Error{static code="ERR_JOSE_GENERIC";code="ERR_JOSE_GENERIC";constructor(a,b){super(a,b),this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}class cj extends ci{static code="ERR_JWT_CLAIM_VALIDATION_FAILED";code="ERR_JWT_CLAIM_VALIDATION_FAILED";claim;reason;payload;constructor(a,b,c="unspecified",d="unspecified"){super(a,{cause:{claim:c,reason:d,payload:b}}),this.claim=c,this.reason=d,this.payload=b}}class ck extends ci{static code="ERR_JWT_EXPIRED";code="ERR_JWT_EXPIRED";claim;reason;payload;constructor(a,b,c="unspecified",d="unspecified"){super(a,{cause:{claim:c,reason:d,payload:b}}),this.claim=c,this.reason=d,this.payload=b}}class cl extends ci{static code="ERR_JOSE_ALG_NOT_ALLOWED";code="ERR_JOSE_ALG_NOT_ALLOWED"}class cm extends ci{static code="ERR_JOSE_NOT_SUPPORTED";code="ERR_JOSE_NOT_SUPPORTED"}class cn extends ci{static code="ERR_JWE_DECRYPTION_FAILED";code="ERR_JWE_DECRYPTION_FAILED";constructor(a="decryption operation failed",b){super(a,b)}}class co extends ci{static code="ERR_JWE_INVALID";code="ERR_JWE_INVALID"}class cp extends ci{static code="ERR_JWT_INVALID";code="ERR_JWT_INVALID"}class cq extends ci{static code="ERR_JWK_INVALID";code="ERR_JWK_INVALID"}class cr extends ci{[Symbol.asyncIterator];static code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";constructor(a="multiple matching keys found in the JSON Web Key Set",b){super(a,b)}}function cs(a){if(!ct(a))throw Error("CryptoKey instance expected")}function ct(a){return a?.[Symbol.toStringTag]==="CryptoKey"}function cu(a){return a?.[Symbol.toStringTag]==="KeyObject"}let cv=a=>ct(a)||cu(a),cw=a=>{if(!function(a){return"object"==typeof a&&null!==a}(a)||"[object Object]"!==Object.prototype.toString.call(a))return!1;if(null===Object.getPrototypeOf(a))return!0;let b=a;for(;null!==Object.getPrototypeOf(b);)b=Object.getPrototypeOf(b);return Object.getPrototypeOf(a)===b};function cx(a){return cw(a)&&"string"==typeof a.kty}function cy(a,b,...c){if((c=c.filter(Boolean)).length>2){let b=c.pop();a+=`one of type ${c.join(", ")}, or ${b}.`}else 2===c.length?a+=`one of type ${c[0]} or ${c[1]}.`:a+=`of type ${c[0]}.`;return null==b?a+=` Received ${b}`:"function"==typeof b&&b.name?a+=` Received function ${b.name}`:"object"==typeof b&&null!=b&&b.constructor?.name&&(a+=` Received an instance of ${b.constructor.name}`),a}let cz=(a,...b)=>cy("Key must be ",a,...b);function cA(a,b,...c){return cy(`Key for the ${a} algorithm must be `,b,...c)}async function cB(a){if(cu(a))if("secret"!==a.type)return a.export({format:"jwk"});else a=a.export();if(a instanceof Uint8Array)return{kty:"oct",k:ch(a)};if(!ct(a))throw TypeError(cz(a,"CryptoKey","KeyObject","Uint8Array"));if(!a.extractable)throw TypeError("non-extractable CryptoKey cannot be exported as a JWK");let{ext:b,key_ops:c,alg:d,use:e,...f}=await crypto.subtle.exportKey("jwk",a);return"AKP"===f.kty&&(f.alg=d),f}async function cC(a){return cB(a)}let cD=(a,b)=>{if("string"!=typeof a||!a)throw new cq(`${b} missing or invalid`)};async function cE(a,b){let c,d;if(cx(a))c=a;else if(cv(a))c=await cC(a);else throw TypeError(cz(a,"CryptoKey","KeyObject","JSON Web Key"));if("sha256"!==(b??="sha256")&&"sha384"!==b&&"sha512"!==b)throw TypeError('digestAlgorithm must one of "sha256", "sha384", or "sha512"');switch(c.kty){case"AKP":cD(c.alg,'"alg" (Algorithm) Parameter'),cD(c.pub,'"pub" (Public key) Parameter'),d={alg:c.alg,kty:c.kty,pub:c.pub};break;case"EC":cD(c.crv,'"crv" (Curve) Parameter'),cD(c.x,'"x" (X Coordinate) Parameter'),cD(c.y,'"y" (Y Coordinate) Parameter'),d={crv:c.crv,kty:c.kty,x:c.x,y:c.y};break;case"OKP":cD(c.crv,'"crv" (Subtype of Key Pair) Parameter'),cD(c.x,'"x" (Public Key) Parameter'),d={crv:c.crv,kty:c.kty,x:c.x};break;case"RSA":cD(c.e,'"e" (Exponent) Parameter'),cD(c.n,'"n" (Modulus) Parameter'),d={e:c.e,kty:c.kty,n:c.n};break;case"oct":cD(c.k,'"k" (Key Value) Parameter'),d={k:c.k,kty:c.kty};break;default:throw new cm('"kty" (Key Type) Parameter missing or unsupported')}let e=ca.encode(JSON.stringify(d));return ch(await b9(b,e))}let cF=Symbol();function cG(a){switch(a){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new cm(`Unsupported JWE Algorithm: ${a}`)}}let cH=(a,b)=>{if(b.length<<3!==cG(a))throw new co("Invalid Initialization Vector length")},cI=(a,b)=>{let c=a.byteLength<<3;if(c!==b)throw new co(`Invalid Content Encryption Key length. Expected ${b} bits, got ${c} bits`)};function cJ(a,b="algorithm.name"){return TypeError(`CryptoKey does not support this operation, its ${b} must be ${a}`)}function cK(a,b){return a.name===b}function cL(a,b,c){switch(b){case"A128GCM":case"A192GCM":case"A256GCM":{if(!cK(a.algorithm,"AES-GCM"))throw cJ("AES-GCM");let c=parseInt(b.slice(1,4),10);if(a.algorithm.length!==c)throw cJ(c,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if(!cK(a.algorithm,"AES-KW"))throw cJ("AES-KW");let c=parseInt(b.slice(1,4),10);if(a.algorithm.length!==c)throw cJ(c,"algorithm.length");break}case"ECDH":switch(a.algorithm.name){case"ECDH":case"X25519":break;default:throw cJ("ECDH or X25519")}break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if(!cK(a.algorithm,"PBKDF2"))throw cJ("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(!cK(a.algorithm,"RSA-OAEP"))throw cJ("RSA-OAEP");let c=parseInt(b.slice(9),10)||1;if(parseInt(a.algorithm.hash.name.slice(4),10)!==c)throw cJ(`SHA-${c}`,"algorithm.hash");break}default:throw TypeError("CryptoKey does not support this operation")}if(c&&!a.usages.includes(c))throw TypeError(`CryptoKey does not support this operation, its usages must include ${c}.`)}async function cM(a,b,c,d,e){if(!(c instanceof Uint8Array))throw TypeError(cz(c,"Uint8Array"));let f=parseInt(a.slice(1,4),10),g=await crypto.subtle.importKey("raw",c.subarray(f>>3),"AES-CBC",!1,["encrypt"]),h=await crypto.subtle.importKey("raw",c.subarray(0,f>>3),{hash:`SHA-${f<<1}`,name:"HMAC"},!1,["sign"]),i=new Uint8Array(await crypto.subtle.encrypt({iv:d,name:"AES-CBC"},g,b)),j=cc(e,d,i,ce(e.length<<3));return{ciphertext:i,tag:new Uint8Array((await crypto.subtle.sign("HMAC",h,j)).slice(0,f>>3)),iv:d}}async function cN(a,b,c,d,e){let f;c instanceof Uint8Array?f=await crypto.subtle.importKey("raw",c,"AES-GCM",!1,["encrypt"]):(cL(c,a,"encrypt"),f=c);let g=new Uint8Array(await crypto.subtle.encrypt({additionalData:e,iv:d,name:"AES-GCM",tagLength:128},f,b)),h=g.slice(-16);return{ciphertext:g.slice(0,-16),tag:h,iv:d}}let cO=async(a,b,c,d,e)=>{if(!ct(c)&&!(c instanceof Uint8Array))throw TypeError(cz(c,"CryptoKey","KeyObject","Uint8Array","JSON Web Key"));if(d)cH(a,d);else d=crypto.getRandomValues(new Uint8Array(cG(a)>>3));switch(a){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return c instanceof Uint8Array&&cI(c,parseInt(a.slice(-3),10)),cM(a,b,c,d,e);case"A128GCM":case"A192GCM":case"A256GCM":return c instanceof Uint8Array&&cI(c,parseInt(a.slice(1,4),10)),cN(a,b,c,d,e);default:throw new cm("Unsupported JWE Content Encryption Algorithm")}};function cP(a,b){if(a.algorithm.length!==parseInt(b.slice(1,4),10))throw TypeError(`Invalid key size for alg: ${b}`)}function cQ(a,b,c){return a instanceof Uint8Array?crypto.subtle.importKey("raw",a,"AES-KW",!0,[c]):(cL(a,b,c),a)}async function cR(a,b,c){let d=await cQ(b,a,"wrapKey");cP(d,a);let e=await crypto.subtle.importKey("raw",c,{hash:"SHA-256",name:"HMAC"},!0,["sign"]);return new Uint8Array(await crypto.subtle.wrapKey("raw",e,d,"AES-KW"))}async function cS(a,b,c){let d=await cQ(b,a,"unwrapKey");cP(d,a);let e=await crypto.subtle.unwrapKey("raw",c,d,"AES-KW",{hash:"SHA-256",name:"HMAC"},!0,["sign"]);return new Uint8Array(await crypto.subtle.exportKey("raw",e))}function cT(a){return cc(cf(a.length),a)}async function cU(a,b,c){let d=b>>3,e=Math.ceil(d/32),f=new Uint8Array(32*e);for(let b=1;b<=e;b++){let d=new Uint8Array(4+a.length+c.length);d.set(cf(b),0),d.set(a,4),d.set(c,4+a.length);let e=await b9("sha256",d);f.set(e,(b-1)*32)}return f.slice(0,d)}async function cV(a,b,c,d,e=new Uint8Array(0),f=new Uint8Array(0)){var g;cL(a,"ECDH"),cL(b,"ECDH","deriveBits");let h=cT(ca.encode(c)),i=cT(e),j=cT(f),k=cc(h,i,j,cf(d),new Uint8Array(0));return cU(new Uint8Array(await crypto.subtle.deriveBits({name:a.algorithm.name,public:a},b,"X25519"===(g=a).algorithm.name?256:Math.ceil(parseInt(g.algorithm.namedCurve.slice(-3),10)/8)<<3)),d,k)}function cW(a){switch(a.algorithm.namedCurve){case"P-256":case"P-384":case"P-521":return!0;default:return"X25519"===a.algorithm.name}}async function cX(a,b,c,d){if(!(a instanceof Uint8Array)||a.length<8)throw new co("PBES2 Salt Input must be 8 or more octets");let e=cc(ca.encode(b),new Uint8Array([0]),a),f=parseInt(b.slice(13,16),10),g={hash:`SHA-${b.slice(8,11)}`,iterations:c,name:"PBKDF2",salt:e},h=await (d instanceof Uint8Array?crypto.subtle.importKey("raw",d,"PBKDF2",!1,["deriveBits"]):(cL(d,b,"deriveBits"),d));return new Uint8Array(await crypto.subtle.deriveBits(g,h,f))}async function cY(a,b,c,d=2048,e=crypto.getRandomValues(new Uint8Array(16))){let f=await cX(e,a,d,b);return{encryptedKey:await cR(a.slice(-6),f,c),p2c:d,p2s:ch(e)}}async function cZ(a,b,c,d,e){let f=await cX(e,a,d,b);return cS(a.slice(-6),f,c)}let c$=(a,b)=>{if(a.startsWith("RS")||a.startsWith("PS")){let{modulusLength:c}=b.algorithm;if("number"!=typeof c||c<2048)throw TypeError(`${a} requires key modulusLength to be 2048 bits or larger`)}},c_=a=>{switch(a){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return"RSA-OAEP";default:throw new cm(`alg ${a} is not supported either by JOSE or your javascript runtime`)}};async function c0(a,b,c){return cL(b,a,"encrypt"),c$(a,b),new Uint8Array(await crypto.subtle.encrypt(c_(a),b,c))}async function c1(a,b,c){return cL(b,a,"decrypt"),c$(a,b),new Uint8Array(await crypto.subtle.decrypt(c_(a),b,c))}let c2=async a=>{if(!a.alg)throw TypeError('"alg" argument is required when "jwk.alg" is not present');let{algorithm:b,keyUsages:c}=function(a){let b,c;switch(a.kty){case"AKP":switch(a.alg){case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":b={name:a.alg},c=a.priv?["sign"]:["verify"];break;default:throw new cm('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"RSA":switch(a.alg){case"PS256":case"PS384":case"PS512":b={name:"RSA-PSS",hash:`SHA-${a.alg.slice(-3)}`},c=a.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":b={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${a.alg.slice(-3)}`},c=a.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":b={name:"RSA-OAEP",hash:`SHA-${parseInt(a.alg.slice(-3),10)||1}`},c=a.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new cm('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"EC":switch(a.alg){case"ES256":b={name:"ECDSA",namedCurve:"P-256"},c=a.d?["sign"]:["verify"];break;case"ES384":b={name:"ECDSA",namedCurve:"P-384"},c=a.d?["sign"]:["verify"];break;case"ES512":b={name:"ECDSA",namedCurve:"P-521"},c=a.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":b={name:"ECDH",namedCurve:a.crv},c=a.d?["deriveBits"]:[];break;default:throw new cm('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"OKP":switch(a.alg){case"Ed25519":case"EdDSA":b={name:"Ed25519"},c=a.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":b={name:a.crv},c=a.d?["deriveBits"]:[];break;default:throw new cm('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;default:throw new cm('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:b,keyUsages:c}}(a),d={...a};return"AKP"!==d.kty&&delete d.alg,delete d.use,crypto.subtle.importKey("jwk",d,b,a.ext??(!a.d&&!a.priv),a.key_ops??c)},c3=async(a,b,c,d=!1)=>{let f=(e||=new WeakMap).get(a);if(f?.[c])return f[c];let g=await c2({...b,alg:c});return d&&Object.freeze(a),f?f[c]=g:e.set(a,{[c]:g}),g},c4=async(a,b)=>{if(a instanceof Uint8Array||ct(a))return a;if(cu(a)){if("secret"===a.type)return a.export();if("toCryptoKey"in a&&"function"==typeof a.toCryptoKey)try{return((a,b)=>{let c,d=(e||=new WeakMap).get(a);if(d?.[b])return d[b];let f="public"===a.type,g=!!f;if("x25519"===a.asymmetricKeyType){switch(b){case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":break;default:throw TypeError("given KeyObject instance cannot be used for this algorithm")}c=a.toCryptoKey(a.asymmetricKeyType,g,f?[]:["deriveBits"])}if("ed25519"===a.asymmetricKeyType){if("EdDSA"!==b&&"Ed25519"!==b)throw TypeError("given KeyObject instance cannot be used for this algorithm");c=a.toCryptoKey(a.asymmetricKeyType,g,[f?"verify":"sign"])}switch(a.asymmetricKeyType){case"ml-dsa-44":case"ml-dsa-65":case"ml-dsa-87":if(b!==a.asymmetricKeyType.toUpperCase())throw TypeError("given KeyObject instance cannot be used for this algorithm");c=a.toCryptoKey(a.asymmetricKeyType,g,[f?"verify":"sign"])}if("rsa"===a.asymmetricKeyType){let d;switch(b){case"RSA-OAEP":d="SHA-1";break;case"RS256":case"PS256":case"RSA-OAEP-256":d="SHA-256";break;case"RS384":case"PS384":case"RSA-OAEP-384":d="SHA-384";break;case"RS512":case"PS512":case"RSA-OAEP-512":d="SHA-512";break;default:throw TypeError("given KeyObject instance cannot be used for this algorithm")}if(b.startsWith("RSA-OAEP"))return a.toCryptoKey({name:"RSA-OAEP",hash:d},g,f?["encrypt"]:["decrypt"]);c=a.toCryptoKey({name:b.startsWith("PS")?"RSA-PSS":"RSASSA-PKCS1-v1_5",hash:d},g,[f?"verify":"sign"])}if("ec"===a.asymmetricKeyType){let d=new Map([["prime256v1","P-256"],["secp384r1","P-384"],["secp521r1","P-521"]]).get(a.asymmetricKeyDetails?.namedCurve);if(!d)throw TypeError("given KeyObject instance cannot be used for this algorithm");"ES256"===b&&"P-256"===d&&(c=a.toCryptoKey({name:"ECDSA",namedCurve:d},g,[f?"verify":"sign"])),"ES384"===b&&"P-384"===d&&(c=a.toCryptoKey({name:"ECDSA",namedCurve:d},g,[f?"verify":"sign"])),"ES512"===b&&"P-521"===d&&(c=a.toCryptoKey({name:"ECDSA",namedCurve:d},g,[f?"verify":"sign"])),b.startsWith("ECDH-ES")&&(c=a.toCryptoKey({name:"ECDH",namedCurve:d},g,f?[]:["deriveBits"]))}if(!c)throw TypeError("given KeyObject instance cannot be used for this algorithm");return d?d[b]=c:e.set(a,{[b]:c}),c})(a,b)}catch(a){if(a instanceof TypeError)throw a}let c=a.export({format:"jwk"});return c3(a,c,b)}if(cx(a))return a.k?cg(a.k):c3(a,a,b,!0);throw Error("unreachable")};function c5(a){switch(a){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new cm(`Unsupported JWE Algorithm: ${a}`)}}let c6=a=>crypto.getRandomValues(new Uint8Array(c5(a)>>3));async function c7(a,b){if(!(a instanceof Uint8Array))throw TypeError("First argument must be a buffer");if(!(b instanceof Uint8Array))throw TypeError("Second argument must be a buffer");let c={name:"HMAC",hash:"SHA-256"},d=await crypto.subtle.generateKey(c,!1,["sign"]),e=new Uint8Array(await crypto.subtle.sign(c,d,a)),f=new Uint8Array(await crypto.subtle.sign(c,d,b)),g=0,h=-1;for(;++h<32;)g|=e[h]^f[h];return 0===g}async function c8(a,b,c,d,e,f){let g,h;if(!(b instanceof Uint8Array))throw TypeError(cz(b,"Uint8Array"));let i=parseInt(a.slice(1,4),10),j=await crypto.subtle.importKey("raw",b.subarray(i>>3),"AES-CBC",!1,["decrypt"]),k=await crypto.subtle.importKey("raw",b.subarray(0,i>>3),{hash:`SHA-${i<<1}`,name:"HMAC"},!1,["sign"]),l=cc(f,d,c,ce(f.length<<3)),m=new Uint8Array((await crypto.subtle.sign("HMAC",k,l)).slice(0,i>>3));try{g=await c7(e,m)}catch{}if(!g)throw new cn;try{h=new Uint8Array(await crypto.subtle.decrypt({iv:d,name:"AES-CBC"},j,c))}catch{}if(!h)throw new cn;return h}async function c9(a,b,c,d,e,f){let g;b instanceof Uint8Array?g=await crypto.subtle.importKey("raw",b,"AES-GCM",!1,["decrypt"]):(cL(b,a,"decrypt"),g=b);try{return new Uint8Array(await crypto.subtle.decrypt({additionalData:f,iv:d,name:"AES-GCM",tagLength:128},g,cc(c,e)))}catch{throw new cn}}let da=async(a,b,c,d,e,f)=>{if(!ct(b)&&!(b instanceof Uint8Array))throw TypeError(cz(b,"CryptoKey","KeyObject","Uint8Array","JSON Web Key"));if(!d)throw new co("JWE Initialization Vector missing");if(!e)throw new co("JWE Authentication Tag missing");switch(cH(a,d),a){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return b instanceof Uint8Array&&cI(b,parseInt(a.slice(-3),10)),c8(a,b,c,d,e,f);case"A128GCM":case"A192GCM":case"A256GCM":return b instanceof Uint8Array&&cI(b,parseInt(a.slice(1,4),10)),c9(a,b,c,d,e,f);default:throw new cm("Unsupported JWE Content Encryption Algorithm")}};async function db(a,b,c,d){let e=a.slice(0,7),f=await cO(e,c,b,d,new Uint8Array(0));return{encryptedKey:f.ciphertext,iv:ch(f.iv),tag:ch(f.tag)}}async function dc(a,b,c,d,e){return da(a.slice(0,7),b,c,d,e,new Uint8Array(0))}let dd=async(a,b,c,d,e={})=>{let f,g,h;switch(a){case"dir":h=c;break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{let i;if(cs(c),!cW(c))throw new cm("ECDH with the provided key is not allowed or not supported by your javascript runtime");let{apu:j,apv:k}=e;i=e.epk?await c4(e.epk,a):(await crypto.subtle.generateKey(c.algorithm,!0,["deriveBits"])).privateKey;let{x:l,y:m,crv:n,kty:o}=await cC(i),p=await cV(c,i,"ECDH-ES"===a?b:a,"ECDH-ES"===a?c5(b):parseInt(a.slice(-5,-2),10),j,k);if(g={epk:{x:l,crv:n,kty:o}},"EC"===o&&(g.epk.y=m),j&&(g.apu=ch(j)),k&&(g.apv=ch(k)),"ECDH-ES"===a){h=p;break}h=d||c6(b);let q=a.slice(-6);f=await cR(q,p,h);break}case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":h=d||c6(b),cs(c),f=await c0(a,c,h);break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{h=d||c6(b);let{p2c:i,p2s:j}=e;({encryptedKey:f,...g}=await cY(a,c,h,i,j));break}case"A128KW":case"A192KW":case"A256KW":h=d||c6(b),f=await cR(a,c,h);break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{h=d||c6(b);let{iv:i}=e;({encryptedKey:f,...g}=await db(a,c,h,i));break}default:throw new cm('Invalid or unsupported "alg" (JWE Algorithm) header value')}return{cek:h,encryptedKey:f,parameters:g}},de=(...a)=>{let b,c=a.filter(Boolean);if(0===c.length||1===c.length)return!0;for(let a of c){let c=Object.keys(a);if(!b||0===b.size){b=new Set(c);continue}for(let a of c){if(b.has(a))return!1;b.add(a)}}return!0},df=(a,b,c,d,e)=>{let f;if(void 0!==e.crit&&d?.crit===void 0)throw new a('"crit" (Critical) Header Parameter MUST be integrity protected');if(!d||void 0===d.crit)return new Set;if(!Array.isArray(d.crit)||0===d.crit.length||d.crit.some(a=>"string"!=typeof a||0===a.length))throw new a('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');for(let g of(f=void 0!==c?new Map([...Object.entries(c),...b.entries()]):b,d.crit)){if(!f.has(g))throw new cm(`Extension Header Parameter "${g}" is not recognized`);if(void 0===e[g])throw new a(`Extension Header Parameter "${g}" is missing`);if(f.get(g)&&void 0===d[g])throw new a(`Extension Header Parameter "${g}" MUST be integrity protected`)}return new Set(d.crit)},dg=a=>a?.[Symbol.toStringTag],dh=(a,b,c)=>{if(void 0!==b.use){let a;switch(c){case"sign":case"verify":a="sig";break;case"encrypt":case"decrypt":a="enc"}if(b.use!==a)throw TypeError(`Invalid key for this operation, its "use" must be "${a}" when present`)}if(void 0!==b.alg&&b.alg!==a)throw TypeError(`Invalid key for this operation, its "alg" must be "${a}" when present`);if(Array.isArray(b.key_ops)){let d;switch(!0){case"sign"===c||"verify"===c:case"dir"===a:case a.includes("CBC-HS"):d=c;break;case a.startsWith("PBES2"):d="deriveBits";break;case/^A\d{3}(?:GCM)?(?:KW)?$/.test(a):d=!a.includes("GCM")&&a.endsWith("KW")?"encrypt"===c?"wrapKey":"unwrapKey":c;break;case"encrypt"===c&&a.startsWith("RSA"):d="wrapKey";break;case"decrypt"===c:d=a.startsWith("RSA")?"unwrapKey":"deriveBits"}if(d&&b.key_ops?.includes?.(d)===!1)throw TypeError(`Invalid key for this operation, its "key_ops" must include "${d}" when present`)}return!0},di=(a,b,c)=>{a.startsWith("HS")||"dir"===a||a.startsWith("PBES2")||/^A(?:128|192|256)(?:GCM)?(?:KW)?$/.test(a)||/^A(?:128|192|256)CBC-HS(?:256|384|512)$/.test(a)?((a,b,c)=>{if(!(b instanceof Uint8Array)){if(cx(b)){if(function(a){return"oct"===a.kty&&"string"==typeof a.k}(b)&&dh(a,b,c))return;throw TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!cv(b))throw TypeError(cA(a,b,"CryptoKey","KeyObject","JSON Web Key","Uint8Array"));if("secret"!==b.type)throw TypeError(`${dg(b)} instances for symmetric algorithms must be of type "secret"`)}})(a,b,c):((a,b,c)=>{if(cx(b))switch(c){case"decrypt":case"sign":if(function(a){return"oct"!==a.kty&&("AKP"===a.kty&&"string"==typeof a.priv||"string"==typeof a.d)}(b)&&dh(a,b,c))return;throw TypeError("JSON Web Key for this operation be a private JWK");case"encrypt":case"verify":if(function(a){return"oct"!==a.kty&&void 0===a.d&&void 0===a.priv}(b)&&dh(a,b,c))return;throw TypeError("JSON Web Key for this operation be a public JWK")}if(!cv(b))throw TypeError(cA(a,b,"CryptoKey","KeyObject","JSON Web Key"));if("secret"===b.type)throw TypeError(`${dg(b)} instances for asymmetric algorithms must not be of type "secret"`);if("public"===b.type)switch(c){case"sign":throw TypeError(`${dg(b)} instances for asymmetric algorithm signing must be of type "private"`);case"decrypt":throw TypeError(`${dg(b)} instances for asymmetric algorithm decryption must be of type "private"`)}if("private"===b.type)switch(c){case"verify":throw TypeError(`${dg(b)} instances for asymmetric algorithm verifying must be of type "public"`);case"encrypt":throw TypeError(`${dg(b)} instances for asymmetric algorithm encryption must be of type "public"`)}})(a,b,c)};class dj{#a;#b;#c;#d;#e;#f;#g;#h;constructor(a){if(!(a instanceof Uint8Array))throw TypeError("plaintext must be an instance of Uint8Array");this.#a=a}setKeyManagementParameters(a){if(this.#h)throw TypeError("setKeyManagementParameters can only be called once");return this.#h=a,this}setProtectedHeader(a){if(this.#b)throw TypeError("setProtectedHeader can only be called once");return this.#b=a,this}setSharedUnprotectedHeader(a){if(this.#c)throw TypeError("setSharedUnprotectedHeader can only be called once");return this.#c=a,this}setUnprotectedHeader(a){if(this.#d)throw TypeError("setUnprotectedHeader can only be called once");return this.#d=a,this}setAdditionalAuthenticatedData(a){return this.#e=a,this}setContentEncryptionKey(a){if(this.#f)throw TypeError("setContentEncryptionKey can only be called once");return this.#f=a,this}setInitializationVector(a){if(this.#g)throw TypeError("setInitializationVector can only be called once");return this.#g=a,this}async encrypt(a,b){let c,d,e,f,g;if(!this.#b&&!this.#d&&!this.#c)throw new co("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!de(this.#b,this.#d,this.#c))throw new co("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");let h={...this.#b,...this.#d,...this.#c};if(df(co,new Map,b?.crit,this.#b,h),void 0!==h.zip)throw new cm('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');let{alg:i,enc:j}=h;if("string"!=typeof i||!i)throw new co('JWE "alg" (Algorithm) Header Parameter missing or invalid');if("string"!=typeof j||!j)throw new co('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if(this.#f&&("dir"===i||"ECDH-ES"===i))throw TypeError(`setContentEncryptionKey cannot be called with JWE "alg" (Algorithm) Header ${i}`);di("dir"===i?j:i,a,"encrypt");{let e,f=await c4(a,i);({cek:d,encryptedKey:c,parameters:e}=await dd(i,j,f,this.#f,this.#h)),e&&(b&&cF in b?this.#d?this.#d={...this.#d,...e}:this.setUnprotectedHeader(e):this.#b?this.#b={...this.#b,...e}:this.setProtectedHeader(e))}f=this.#b?ca.encode(ch(JSON.stringify(this.#b))):ca.encode(""),this.#e?(g=ch(this.#e),e=cc(f,ca.encode("."),ca.encode(g))):e=f;let{ciphertext:k,tag:l,iv:m}=await cO(j,this.#a,d,this.#g,e),n={ciphertext:ch(k)};return m&&(n.iv=ch(m)),l&&(n.tag=ch(l)),c&&(n.encrypted_key=ch(c)),g&&(n.aad=g),this.#b&&(n.protected=cb.decode(f)),this.#c&&(n.unprotected=this.#c),this.#d&&(n.header=this.#d),n}}class dk{#i;constructor(a){this.#i=new dj(a)}setContentEncryptionKey(a){return this.#i.setContentEncryptionKey(a),this}setInitializationVector(a){return this.#i.setInitializationVector(a),this}setProtectedHeader(a){return this.#i.setProtectedHeader(a),this}setKeyManagementParameters(a){return this.#i.setKeyManagementParameters(a),this}async encrypt(a,b){let c=await this.#i.encrypt(a,b);return[c.protected,c.encrypted_key,c.iv,c.ciphertext,c.tag].join(".")}}let dl=a=>Math.floor(a.getTime()/1e3),dm=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,dn=a=>{let b,c=dm.exec(a);if(!c||c[4]&&c[1])throw TypeError("Invalid time period format");let d=parseFloat(c[2]);switch(c[3].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":b=Math.round(d);break;case"minute":case"minutes":case"min":case"mins":case"m":b=Math.round(60*d);break;case"hour":case"hours":case"hr":case"hrs":case"h":b=Math.round(3600*d);break;case"day":case"days":case"d":b=Math.round(86400*d);break;case"week":case"weeks":case"w":b=Math.round(604800*d);break;default:b=Math.round(0x1e187e0*d)}return"-"===c[1]||"ago"===c[4]?-b:b};function dp(a,b){if(!Number.isFinite(b))throw TypeError(`Invalid ${a} input`);return b}let dq=a=>a.includes("/")?a.toLowerCase():`application/${a.toLowerCase()}`;class dr{#j;constructor(a){if(!cw(a))throw TypeError("JWT Claims Set MUST be an object");this.#j=structuredClone(a)}data(){return ca.encode(JSON.stringify(this.#j))}get iss(){return this.#j.iss}set iss(a){this.#j.iss=a}get sub(){return this.#j.sub}set sub(a){this.#j.sub=a}get aud(){return this.#j.aud}set aud(a){this.#j.aud=a}set jti(a){this.#j.jti=a}set nbf(a){"number"==typeof a?this.#j.nbf=dp("setNotBefore",a):a instanceof Date?this.#j.nbf=dp("setNotBefore",dl(a)):this.#j.nbf=dl(new Date)+dn(a)}set exp(a){"number"==typeof a?this.#j.exp=dp("setExpirationTime",a):a instanceof Date?this.#j.exp=dp("setExpirationTime",dl(a)):this.#j.exp=dl(new Date)+dn(a)}set iat(a){void 0===a?this.#j.iat=dl(new Date):a instanceof Date?this.#j.iat=dp("setIssuedAt",dl(a)):"string"==typeof a?this.#j.iat=dp("setIssuedAt",dl(new Date)+dn(a)):this.#j.iat=dp("setIssuedAt",a)}}class ds{#f;#g;#h;#b;#k;#l;#m;#n;constructor(a={}){this.#n=new dr(a)}setIssuer(a){return this.#n.iss=a,this}setSubject(a){return this.#n.sub=a,this}setAudience(a){return this.#n.aud=a,this}setJti(a){return this.#n.jti=a,this}setNotBefore(a){return this.#n.nbf=a,this}setExpirationTime(a){return this.#n.exp=a,this}setIssuedAt(a){return this.#n.iat=a,this}setProtectedHeader(a){if(this.#b)throw TypeError("setProtectedHeader can only be called once");return this.#b=a,this}setKeyManagementParameters(a){if(this.#h)throw TypeError("setKeyManagementParameters can only be called once");return this.#h=a,this}setContentEncryptionKey(a){if(this.#f)throw TypeError("setContentEncryptionKey can only be called once");return this.#f=a,this}setInitializationVector(a){if(this.#g)throw TypeError("setInitializationVector can only be called once");return this.#g=a,this}replicateIssuerAsHeader(){return this.#k=!0,this}replicateSubjectAsHeader(){return this.#l=!0,this}replicateAudienceAsHeader(){return this.#m=!0,this}async encrypt(a,b){let c=new dk(this.#n.data());return this.#b&&(this.#k||this.#l||this.#m)&&(this.#b={...this.#b,iss:this.#k?this.#n.iss:void 0,sub:this.#l?this.#n.sub:void 0,aud:this.#m?this.#n.aud:void 0}),c.setProtectedHeader(this.#b),this.#g&&c.setInitializationVector(this.#g),this.#f&&c.setContentEncryptionKey(this.#f),this.#h&&c.setKeyManagementParameters(this.#h),c.encrypt(a,b)}}async function dt(a,b,c){let d;if(!cw(a))throw TypeError("JWK must be an object");switch(b??=a.alg,d??=c?.extractable??a.ext,a.kty){case"oct":if("string"!=typeof a.k||!a.k)throw TypeError('missing "k" (Key Value) Parameter value');return cg(a.k);case"RSA":if("oth"in a&&void 0!==a.oth)throw new cm('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');return c2({...a,alg:b,ext:d});case"AKP":if("string"!=typeof a.alg||!a.alg)throw TypeError('missing "alg" (Algorithm) Parameter value');if(void 0!==b&&b!==a.alg)throw TypeError("JWK alg and alg option value mismatch");return c2({...a,ext:d});case"EC":case"OKP":return c2({...a,alg:b,ext:d});default:throw new cm('Unsupported "kty" (Key Type) Parameter value')}}let du=async(a,b,c,d,e)=>{switch(a){case"dir":if(void 0!==c)throw new co("Encountered unexpected JWE Encrypted Key");return b;case"ECDH-ES":if(void 0!==c)throw new co("Encountered unexpected JWE Encrypted Key");case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{let e,f;if(!cw(d.epk))throw new co('JOSE Header "epk" (Ephemeral Public Key) missing or invalid');if(cs(b),!cW(b))throw new cm("ECDH with the provided key is not allowed or not supported by your javascript runtime");let g=await dt(d.epk,a);if(cs(g),void 0!==d.apu){if("string"!=typeof d.apu)throw new co('JOSE Header "apu" (Agreement PartyUInfo) invalid');try{e=cg(d.apu)}catch{throw new co("Failed to base64url decode the apu")}}if(void 0!==d.apv){if("string"!=typeof d.apv)throw new co('JOSE Header "apv" (Agreement PartyVInfo) invalid');try{f=cg(d.apv)}catch{throw new co("Failed to base64url decode the apv")}}let h=await cV(g,b,"ECDH-ES"===a?d.enc:a,"ECDH-ES"===a?c5(d.enc):parseInt(a.slice(-5,-2),10),e,f);if("ECDH-ES"===a)return h;if(void 0===c)throw new co("JWE Encrypted Key missing");return cS(a.slice(-6),h,c)}case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":if(void 0===c)throw new co("JWE Encrypted Key missing");return cs(b),c1(a,b,c);case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{let f;if(void 0===c)throw new co("JWE Encrypted Key missing");if("number"!=typeof d.p2c)throw new co('JOSE Header "p2c" (PBES2 Count) missing or invalid');let g=e?.maxPBES2Count||1e4;if(d.p2c>g)throw new co('JOSE Header "p2c" (PBES2 Count) out is of acceptable bounds');if("string"!=typeof d.p2s)throw new co('JOSE Header "p2s" (PBES2 Salt) missing or invalid');try{f=cg(d.p2s)}catch{throw new co("Failed to base64url decode the p2s")}return cZ(a,b,c,d.p2c,f)}case"A128KW":case"A192KW":case"A256KW":if(void 0===c)throw new co("JWE Encrypted Key missing");return cS(a,b,c);case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{let e,f;if(void 0===c)throw new co("JWE Encrypted Key missing");if("string"!=typeof d.iv)throw new co('JOSE Header "iv" (Initialization Vector) missing or invalid');if("string"!=typeof d.tag)throw new co('JOSE Header "tag" (Authentication Tag) missing or invalid');try{e=cg(d.iv)}catch{throw new co("Failed to base64url decode the iv")}try{f=cg(d.tag)}catch{throw new co("Failed to base64url decode the tag")}return dc(a,b,c,e,f)}default:throw new cm('Invalid or unsupported "alg" (JWE Algorithm) header value')}},dv=(a,b)=>{if(void 0!==b&&(!Array.isArray(b)||b.some(a=>"string"!=typeof a)))throw TypeError(`"${a}" option must be an array of strings`);if(b)return new Set(b)};async function dw(a,b,c){let d,e,f,g,h,i,j;if(!cw(a))throw new co("Flattened JWE must be an object");if(void 0===a.protected&&void 0===a.header&&void 0===a.unprotected)throw new co("JOSE Header missing");if(void 0!==a.iv&&"string"!=typeof a.iv)throw new co("JWE Initialization Vector incorrect type");if("string"!=typeof a.ciphertext)throw new co("JWE Ciphertext missing or incorrect type");if(void 0!==a.tag&&"string"!=typeof a.tag)throw new co("JWE Authentication Tag incorrect type");if(void 0!==a.protected&&"string"!=typeof a.protected)throw new co("JWE Protected Header incorrect type");if(void 0!==a.encrypted_key&&"string"!=typeof a.encrypted_key)throw new co("JWE Encrypted Key incorrect type");if(void 0!==a.aad&&"string"!=typeof a.aad)throw new co("JWE AAD incorrect type");if(void 0!==a.header&&!cw(a.header))throw new co("JWE Shared Unprotected Header incorrect type");if(void 0!==a.unprotected&&!cw(a.unprotected))throw new co("JWE Per-Recipient Unprotected Header incorrect type");if(a.protected)try{let b=cg(a.protected);d=JSON.parse(cb.decode(b))}catch{throw new co("JWE Protected Header is invalid")}if(!de(d,a.header,a.unprotected))throw new co("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");let k={...d,...a.header,...a.unprotected};if(df(co,new Map,c?.crit,d,k),void 0!==k.zip)throw new cm('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');let{alg:l,enc:m}=k;if("string"!=typeof l||!l)throw new co("missing JWE Algorithm (alg) in JWE Header");if("string"!=typeof m||!m)throw new co("missing JWE Encryption Algorithm (enc) in JWE Header");let n=c&&dv("keyManagementAlgorithms",c.keyManagementAlgorithms),o=c&&dv("contentEncryptionAlgorithms",c.contentEncryptionAlgorithms);if(n&&!n.has(l)||!n&&l.startsWith("PBES2"))throw new cl('"alg" (Algorithm) Header Parameter value not allowed');if(o&&!o.has(m))throw new cl('"enc" (Encryption Algorithm) Header Parameter value not allowed');if(void 0!==a.encrypted_key)try{e=cg(a.encrypted_key)}catch{throw new co("Failed to base64url decode the encrypted_key")}let p=!1;"function"==typeof b&&(b=await b(d,a),p=!0),di("dir"===l?m:l,b,"decrypt");let q=await c4(b,l);try{f=await du(l,q,e,k,c)}catch(a){if(a instanceof TypeError||a instanceof co||a instanceof cm)throw a;f=c6(m)}if(void 0!==a.iv)try{g=cg(a.iv)}catch{throw new co("Failed to base64url decode the iv")}if(void 0!==a.tag)try{h=cg(a.tag)}catch{throw new co("Failed to base64url decode the tag")}let r=ca.encode(a.protected??"");i=void 0!==a.aad?cc(r,ca.encode("."),ca.encode(a.aad)):r;try{j=cg(a.ciphertext)}catch{throw new co("Failed to base64url decode the ciphertext")}let s={plaintext:await da(m,f,j,g,h,i)};if(void 0!==a.protected&&(s.protectedHeader=d),void 0!==a.aad)try{s.additionalAuthenticatedData=cg(a.aad)}catch{throw new co("Failed to base64url decode the aad")}return(void 0!==a.unprotected&&(s.sharedUnprotectedHeader=a.unprotected),void 0!==a.header&&(s.unprotectedHeader=a.header),p)?{...s,key:q}:s}async function dx(a,b,c){if(a instanceof Uint8Array&&(a=cb.decode(a)),"string"!=typeof a)throw new co("Compact JWE must be a string or Uint8Array");let{0:d,1:e,2:f,3:g,4:h,length:i}=a.split(".");if(5!==i)throw new co("Invalid Compact JWE");let j=await dw({ciphertext:g,iv:f||void 0,protected:d,tag:h||void 0,encrypted_key:e||void 0},b,c),k={plaintext:j.plaintext,protectedHeader:j.protectedHeader};return"function"==typeof b?{...k,key:j.key}:k}async function dy(a,b,c){let d=await dx(a,b,c),e=function(a,b,c={}){var d,e;let f,g;try{f=JSON.parse(cb.decode(b))}catch{}if(!cw(f))throw new cp("JWT Claims Set must be a top-level JSON object");let{typ:h}=c;if(h&&("string"!=typeof a.typ||dq(a.typ)!==dq(h)))throw new cj('unexpected "typ" JWT header value',f,"typ","check_failed");let{requiredClaims:i=[],issuer:j,subject:k,audience:l,maxTokenAge:m}=c,n=[...i];for(let a of(void 0!==m&&n.push("iat"),void 0!==l&&n.push("aud"),void 0!==k&&n.push("sub"),void 0!==j&&n.push("iss"),new Set(n.reverse())))if(!(a in f))throw new cj(`missing required "${a}" claim`,f,a,"missing");if(j&&!(Array.isArray(j)?j:[j]).includes(f.iss))throw new cj('unexpected "iss" claim value',f,"iss","check_failed");if(k&&f.sub!==k)throw new cj('unexpected "sub" claim value',f,"sub","check_failed");if(l&&(d=f.aud,e="string"==typeof l?[l]:l,"string"==typeof d?!e.includes(d):!(Array.isArray(d)&&e.some(Set.prototype.has.bind(new Set(d))))))throw new cj('unexpected "aud" claim value',f,"aud","check_failed");switch(typeof c.clockTolerance){case"string":g=dn(c.clockTolerance);break;case"number":g=c.clockTolerance;break;case"undefined":g=0;break;default:throw TypeError("Invalid clockTolerance option type")}let{currentDate:o}=c,p=dl(o||new Date);if((void 0!==f.iat||m)&&"number"!=typeof f.iat)throw new cj('"iat" claim must be a number',f,"iat","invalid");if(void 0!==f.nbf){if("number"!=typeof f.nbf)throw new cj('"nbf" claim must be a number',f,"nbf","invalid");if(f.nbf>p+g)throw new cj('"nbf" claim timestamp check failed',f,"nbf","check_failed")}if(void 0!==f.exp){if("number"!=typeof f.exp)throw new cj('"exp" claim must be a number',f,"exp","invalid");if(f.exp<=p-g)throw new ck('"exp" claim timestamp check failed',f,"exp","check_failed")}if(m){let a=p-f.iat;if(a-g>("number"==typeof m?m:dn(m)))throw new ck('"iat" claim timestamp check failed (too far in the past)',f,"iat","check_failed");if(a<0-g)throw new cj('"iat" claim timestamp check failed (it should be in the past)',f,"iat","check_failed")}return f}(d.protectedHeader,d.plaintext,c),{protectedHeader:f}=d;if(void 0!==f.iss&&f.iss!==e.iss)throw new cj('replicated "iss" claim header parameter mismatch',e,"iss","mismatch");if(void 0!==f.sub&&f.sub!==e.sub)throw new cj('replicated "sub" claim header parameter mismatch',e,"sub","mismatch");if(void 0!==f.aud&&JSON.stringify(f.aud)!==JSON.stringify(e.aud))throw new cj('replicated "aud" claim header parameter mismatch',e,"aud","mismatch");let g={payload:e,protectedHeader:f};return"function"==typeof b?{...g,key:d.key}:g}let dz=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/,dA=/^("?)[\u0021\u0023-\u002B\u002D-\u003A\u003C-\u005B\u005D-\u007E]*\1$/,dB=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,dC=/^[\u0020-\u003A\u003D-\u007E]*$/,dD=Object.prototype.toString,dE=(()=>{let a=function(){};return a.prototype=Object.create(null),a})();function dF(a,b){let c=new dE,d=a.length;if(d<2)return c;let e=b?.decode||dJ,f=0;do{let b=a.indexOf("=",f);if(-1===b)break;let g=a.indexOf(";",f),h=-1===g?d:g;if(b>h){f=a.lastIndexOf(";",b-1)+1;continue}let i=dG(a,f,b),j=dH(a,b,i),k=a.slice(i,j);if(void 0===c[k]){let d=dG(a,b+1,h),f=dH(a,h,d),g=e(a.slice(d,f));c[k]=g}f=h+1}while(f<d);return c}function dG(a,b,c){do{let c=a.charCodeAt(b);if(32!==c&&9!==c)return b}while(++b<c);return c}function dH(a,b,c){for(;b>c;){let c=a.charCodeAt(--b);if(32!==c&&9!==c)return b+1}return c}function dI(a,b,c){let d=c?.encode||encodeURIComponent;if(!dz.test(a))throw TypeError(`argument name is invalid: ${a}`);let e=d(b);if(!dA.test(e))throw TypeError(`argument val is invalid: ${b}`);let f=a+"="+e;if(!c)return f;if(void 0!==c.maxAge){if(!Number.isInteger(c.maxAge))throw TypeError(`option maxAge is invalid: ${c.maxAge}`);f+="; Max-Age="+c.maxAge}if(c.domain){if(!dB.test(c.domain))throw TypeError(`option domain is invalid: ${c.domain}`);f+="; Domain="+c.domain}if(c.path){if(!dC.test(c.path))throw TypeError(`option path is invalid: ${c.path}`);f+="; Path="+c.path}if(c.expires){var g;if(g=c.expires,"[object Date]"!==dD.call(g)||!Number.isFinite(c.expires.valueOf()))throw TypeError(`option expires is invalid: ${c.expires}`);f+="; Expires="+c.expires.toUTCString()}if(c.httpOnly&&(f+="; HttpOnly"),c.secure&&(f+="; Secure"),c.partitioned&&(f+="; Partitioned"),c.priority)switch("string"==typeof c.priority?c.priority.toLowerCase():void 0){case"low":f+="; Priority=Low";break;case"medium":f+="; Priority=Medium";break;case"high":f+="; Priority=High";break;default:throw TypeError(`option priority is invalid: ${c.priority}`)}if(c.sameSite)switch("string"==typeof c.sameSite?c.sameSite.toLowerCase():c.sameSite){case!0:case"strict":f+="; SameSite=Strict";break;case"lax":f+="; SameSite=Lax";break;case"none":f+="; SameSite=None";break;default:throw TypeError(`option sameSite is invalid: ${c.sameSite}`)}return f}function dJ(a){if(-1===a.indexOf("%"))return a;try{return decodeURIComponent(a)}catch(b){return a}}let{q:dK}=o,dL="A256CBC-HS512";async function dM(a){let{token:b={},secret:c,maxAge:d=2592e3,salt:e}=a,f=Array.isArray(c)?c:[c],g=await dO(dL,f[0],e),h=await cE({kty:"oct",k:ch(g)},`sha${g.byteLength<<3}`);return await new ds(b).setProtectedHeader({alg:"dir",enc:dL,kid:h}).setIssuedAt().setExpirationTime((Date.now()/1e3|0)+d).setJti(crypto.randomUUID()).encrypt(g)}async function dN(a){let{token:b,secret:c,salt:d}=a,e=Array.isArray(c)?c:[c];if(!b)return null;let{payload:f}=await dy(b,async({kid:a,enc:b})=>{for(let c of e){let e=await dO(b,c,d);if(void 0===a||a===await cE({kty:"oct",k:ch(e)},`sha${e.byteLength<<3}`))return e}throw Error("no matching decryption secret")},{clockTolerance:15,keyManagementAlgorithms:["dir"],contentEncryptionAlgorithms:[dL,"A256GCM"]});return f}async function dO(a,b,c){let d;switch(a){case"A256CBC-HS512":d=64;break;case"A256GCM":d=32;break;default:throw Error("Unsupported JWT Content Encryption Algorithm")}return await b8("sha256",b,c,`Auth.js Generated Encryption Key (${c})`,d)}async function dP({options:a,paramValue:b,cookieValue:c}){let{url:d,callbacks:e}=a,f=d.origin;return b?f=await e.redirect({url:b,baseUrl:d.origin}):c&&(f=await e.redirect({url:c,baseUrl:d.origin})),{callbackUrl:f,callbackUrlCookie:f!==c?f:void 0}}let dQ="\x1b[31m",dR="\x1b[0m",dS={error(a){let b=a instanceof br?a.type:a.name;if(console.error(`${dQ}[auth][error]${dR} ${b}: ${a.message}`),a.cause&&"object"==typeof a.cause&&"err"in a.cause&&a.cause.err instanceof Error){let{err:b,...c}=a.cause;console.error(`${dQ}[auth][cause]${dR}:`,b.stack),c&&console.error(`${dQ}[auth][details]${dR}:`,JSON.stringify(c,null,2))}else a.stack&&console.error(a.stack.replace(/.*/,"").substring(1))},warn(a){console.warn(`\x1b[33m[auth][warn][${a}]${dR}`,"Read more: https://warnings.authjs.dev")},debug(a,b){console.log(`\x1b[90m[auth][debug]:${dR} ${a}`,JSON.stringify(b,null,2))}};function dT(a){let b={...dS};return a.debug||(b.debug=()=>{}),a.logger?.error&&(b.error=a.logger.error),a.logger?.warn&&(b.warn=a.logger.warn),a.logger?.debug&&(b.debug=a.logger.debug),a.logger??(a.logger=b),b}let dU=["providers","session","csrf","signin","signout","callback","verify-request","error","webauthn-options"],{q:dV,l:dW}=o;async function dX(a){if(!("body"in a)||!a.body||"POST"!==a.method)return;let b=a.headers.get("content-type");return b?.includes("application/json")?await a.json():b?.includes("application/x-www-form-urlencoded")?Object.fromEntries(new URLSearchParams(await a.text())):void 0}async function dY(a,b){try{if("GET"!==a.method&&"POST"!==a.method)throw new bO("Only GET and POST requests are supported");b.basePath??(b.basePath="/auth");let c=new URL(a.url),{action:d,providerId:e}=function(a,b){let c=a.match(RegExp(`^${b}(.+)`));if(null===c)throw new bO(`Cannot parse action at ${a}`);let d=c.at(-1).replace(/^\//,"").split("/").filter(Boolean);if(1!==d.length&&2!==d.length)throw new bO(`Cannot parse action at ${a}`);let[e,f]=d;if(!dU.includes(e)||f&&!["signin","callback","webauthn-options"].includes(e))throw new bO(`Cannot parse action at ${a}`);return{action:e,providerId:"undefined"==f?void 0:f}}(c.pathname,b.basePath);return{url:c,action:d,providerId:e,method:a.method,headers:Object.fromEntries(a.headers),body:a.body?await dX(a):void 0,cookies:dV(a.headers.get("cookie")??"")??{},error:c.searchParams.get("error")??void 0,query:Object.fromEntries(c.searchParams)}}catch(d){let c=dT(b);c.error(d),c.debug("request",a)}}function dZ(a){let b=new Headers(a.headers);a.cookies?.forEach(a=>{let{name:c,value:d,options:e}=a,f=dW(c,d,e);b.has("Set-Cookie")?b.append("Set-Cookie",f):b.set("Set-Cookie",f)});let c=a.body;"application/json"===b.get("content-type")?c=JSON.stringify(a.body):"application/x-www-form-urlencoded"===b.get("content-type")&&(c=new URLSearchParams(a.body).toString());let d=new Response(c,{headers:b,status:a.redirect?302:a.status??200});return a.redirect&&d.headers.set("Location",a.redirect),d}async function d$(a){let b=new TextEncoder().encode(a);return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",b))).map(a=>a.toString(16).padStart(2,"0")).join("").toString()}function d_(a){return Array.from(crypto.getRandomValues(new Uint8Array(a))).reduce((a,b)=>a+("0"+b.toString(16)).slice(-2),"")}async function d0({options:a,cookieValue:b,isPost:c,bodyValue:d}){if(b){let[e,f]=b.split("|");if(f===await d$(`${e}${a.secret}`))return{csrfTokenVerified:c&&e===d,csrfToken:e}}let e=d_(32),f=await d$(`${e}${a.secret}`);return{cookie:`${e}|${f}`,csrfToken:e}}function d1(a,b){if(!b)throw new bT(`CSRF token was missing during an action ${a}`)}function d2(a){return null!==a&&"object"==typeof a}function d3(a,...b){if(!b.length)return a;let c=b.shift();if(d2(a)&&d2(c))for(let b in c)d2(c[b])?(d2(a[b])||(a[b]=Array.isArray(c[b])?[]:{}),d3(a[b],c[b])):void 0!==c[b]&&(a[b]=c[b]);return d3(a,...b)}let d4=Symbol("skip-csrf-check"),d5=Symbol("return-type-raw"),d6=Symbol("custom-fetch"),d7=Symbol("conform-internal"),d8=a=>ea({id:a.sub??a.id??crypto.randomUUID(),name:a.name??a.nickname??a.preferred_username,email:a.email,image:a.picture}),d9=a=>ea({access_token:a.access_token,id_token:a.id_token,refresh_token:a.refresh_token,expires_at:a.expires_at,scope:a.scope,token_type:a.token_type,session_state:a.session_state});function ea(a){let b={};for(let[c,d]of Object.entries(a))void 0!==d&&(b[c]=d);return b}function eb(a,b){if(!a&&b)return;if("string"==typeof a)return{url:new URL(a)};let c=new URL(a?.url??"https://authjs.dev");if(a?.params!=null)for(let[b,d]of Object.entries(a.params))"claims"===b&&(d=JSON.stringify(d)),c.searchParams.set(b,String(d));return{url:c,request:a?.request,conform:a?.conform,...a?.clientPrivateKey?{clientPrivateKey:a?.clientPrivateKey}:null}}let ec={signIn:()=>!0,redirect:({url:a,baseUrl:b})=>a.startsWith("/")?`${b}${a}`:new URL(a).origin===b?a:b,session:({session:a})=>({user:{name:a.user?.name,email:a.user?.email,image:a.user?.image},expires:a.expires?.toISOString?.()??a.expires}),jwt:({token:a})=>a};async function ed({authOptions:a,providerId:b,action:c,url:d,cookies:e,callbackUrl:f,csrfToken:g,csrfDisabled:h,isPost:i}){var j,k;let l=dT(a),{providers:m,provider:n}=function(a){let{providerId:b,config:c}=a,d=new URL(c.basePath??"/auth",a.url.origin),e=c.providers.map(a=>{let b="function"==typeof a?a():a,{options:e,...f}=b,g=e?.id??f.id,h=d3(f,e,{signinUrl:`${d}/signin/${g}`,callbackUrl:`${d}/callback/${g}`});if("oauth"===b.type||"oidc"===b.type){h.redirectProxyUrl??(h.redirectProxyUrl=e?.redirectProxyUrl??c.redirectProxyUrl);let a=function(a){a.issuer&&(a.wellKnown??(a.wellKnown=`${a.issuer}/.well-known/openid-configuration`));let b=eb(a.authorization,a.issuer);b&&!b.url?.searchParams.has("scope")&&b.url.searchParams.set("scope","openid profile email");let c=eb(a.token,a.issuer),d=eb(a.userinfo,a.issuer),e=a.checks??["pkce"];return a.redirectProxyUrl&&(e.includes("state")||e.push("state"),a.redirectProxyUrl=`${a.redirectProxyUrl}/callback/${a.id}`),{...a,authorization:b,token:c,checks:e,userinfo:d,profile:a.profile??d8,account:a.account??d9}}(h);return a.authorization?.url.searchParams.get("response_mode")==="form_post"&&delete a.redirectProxyUrl,a[d6]??(a[d6]=e?.[d6]),a}return h}),f=e.find(({id:a})=>a===b);if(b&&!f){let a=e.map(a=>a.id).join(", ");throw Error(`Provider with id "${b}" not found. Available providers: [${a}].`)}return{providers:e,provider:f}}({url:d,providerId:b,config:a}),o=!1;if((n?.type==="oauth"||n?.type==="oidc")&&n.redirectProxyUrl)try{o=new URL(n.redirectProxyUrl).origin===d.origin}catch{throw TypeError(`redirectProxyUrl must be a valid URL. Received: ${n.redirectProxyUrl}`)}let p={debug:!1,pages:{},theme:{colorScheme:"auto",logo:"",brandColor:"",buttonText:""},...a,url:d,action:c,provider:n,cookies:d3(bp(a.useSecureCookies??"https:"===d.protocol),a.cookies),providers:m,session:{strategy:a.adapter?"database":"jwt",maxAge:2592e3,updateAge:86400,generateSessionToken:()=>crypto.randomUUID(),...a.session},jwt:{secret:a.secret,maxAge:a.session?.maxAge??2592e3,encode:dM,decode:dN,...a.jwt},events:(j=a.events??{},k=l,Object.keys(j).reduce((a,b)=>(a[b]=async(...a)=>{try{let c=j[b];return await c(...a)}catch(a){k.error(new bx(a))}},a),{})),adapter:function(a,b){if(a)return Object.keys(a).reduce((c,d)=>(c[d]=async(...c)=>{try{b.debug(`adapter_${d}`,{args:c});let e=a[d];return await e(...c)}catch(c){let a=new bt(c);throw b.error(a),a}},c),{})}(a.adapter,l),callbacks:{...ec,...a.callbacks},logger:l,callbackUrl:d.origin,isOnRedirectProxy:o,experimental:{...a.experimental}},q=[];if(h)p.csrfTokenVerified=!0;else{let{csrfToken:a,cookie:b,csrfTokenVerified:c}=await d0({options:p,cookieValue:e?.[p.cookies.csrfToken.name],isPost:i,bodyValue:g});p.csrfToken=a,p.csrfTokenVerified=c,b&&q.push({name:p.cookies.csrfToken.name,value:b,options:p.cookies.csrfToken.options})}let{callbackUrl:r,callbackUrlCookie:s}=await dP({options:p,cookieValue:e?.[p.cookies.callbackUrl.name],paramValue:f});return p.callbackUrl=r,s&&q.push({name:p.cookies.callbackUrl.name,value:s,options:p.cookies.callbackUrl.options}),{options:p,cookies:q}}var ee,ef,eg,eh,ei,ej,ek,el,em,en,eo,ep,eq,er,es,et,eu={},ev=[],ew=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,ex=Array.isArray;function ey(a,b){for(var c in b)a[c]=b[c];return a}function ez(a){a&&a.parentNode&&a.parentNode.removeChild(a)}function eA(a,b,c,d,e){var f={type:a,props:b,key:c,ref:d,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==e?++em:e,__i:-1,__u:0};return null==e&&null!=el.vnode&&el.vnode(f),f}function eB(a){return a.children}function eC(a,b){this.props=a,this.context=b}function eD(a,b){if(null==b)return a.__?eD(a.__,a.__i+1):null;for(var c;b<a.__k.length;b++)if(null!=(c=a.__k[b])&&null!=c.__e)return c.__e;return"function"==typeof a.type?eD(a):null}function eE(a){(!a.__d&&(a.__d=!0)&&en.push(a)&&!eF.__r++||eo!==el.debounceRendering)&&((eo=el.debounceRendering)||ep)(eF)}function eF(){var a,b,c,d,e,f,g,h;for(en.sort(eq);a=en.shift();)a.__d&&(b=en.length,d=void 0,f=(e=(c=a).__v).__e,g=[],h=[],c.__P&&((d=ey({},e)).__v=e.__v+1,el.vnode&&el.vnode(d),eK(c.__P,d,e,c.__n,c.__P.namespaceURI,32&e.__u?[f]:null,g,null==f?eD(e):f,!!(32&e.__u),h),d.__v=e.__v,d.__.__k[d.__i]=d,function(a,b,c){b.__d=void 0;for(var d=0;d<c.length;d++)eL(c[d],c[++d],c[++d]);el.__c&&el.__c(b,a),a.some(function(b){try{a=b.__h,b.__h=[],a.some(function(a){a.call(b)})}catch(a){el.__e(a,b.__v)}})}(g,d,h),d.__e!=f&&function a(b){var c,d;if(null!=(b=b.__)&&null!=b.__c){for(b.__e=b.__c.base=null,c=0;c<b.__k.length;c++)if(null!=(d=b.__k[c])&&null!=d.__e){b.__e=b.__c.base=d.__e;break}return a(b)}}(d)),en.length>b&&en.sort(eq));eF.__r=0}function eG(a,b,c,d,e,f,g,h,i,j,k){var l,m,n,o,p,q=d&&d.__k||ev,r=b.length;for(c.__d=i,function(a,b,c){var d,e,f,g,h,i=b.length,j=c.length,k=j,l=0;for(a.__k=[],d=0;d<i;d++)null!=(e=b[d])&&"boolean"!=typeof e&&"function"!=typeof e?(g=d+l,(e=a.__k[d]="string"==typeof e||"number"==typeof e||"bigint"==typeof e||e.constructor==String?eA(null,e,null,null,null):ex(e)?eA(eB,{children:e},null,null,null):void 0===e.constructor&&e.__b>0?eA(e.type,e.props,e.key,e.ref?e.ref:null,e.__v):e).__=a,e.__b=a.__b+1,f=null,-1!==(h=e.__i=function(a,b,c,d){var e=a.key,f=a.type,g=c-1,h=c+1,i=b[c];if(null===i||i&&e==i.key&&f===i.type&&0==(131072&i.__u))return c;if(d>+(null!=i&&0==(131072&i.__u)))for(;g>=0||h<b.length;){if(g>=0){if((i=b[g])&&0==(131072&i.__u)&&e==i.key&&f===i.type)return g;g--}if(h<b.length){if((i=b[h])&&0==(131072&i.__u)&&e==i.key&&f===i.type)return h;h++}}return -1}(e,c,g,k))&&(k--,(f=c[h])&&(f.__u|=131072)),null==f||null===f.__v?(-1==h&&l--,"function"!=typeof e.type&&(e.__u|=65536)):h!==g&&(h==g-1?l--:h==g+1?l++:(h>g?l--:l++,e.__u|=65536))):e=a.__k[d]=null;if(k)for(d=0;d<j;d++)null!=(f=c[d])&&0==(131072&f.__u)&&(f.__e==a.__d&&(a.__d=eD(f)),function a(b,c,d){var e,f;if(el.unmount&&el.unmount(b),(e=b.ref)&&(e.current&&e.current!==b.__e||eL(e,null,c)),null!=(e=b.__c)){if(e.componentWillUnmount)try{e.componentWillUnmount()}catch(a){el.__e(a,c)}e.base=e.__P=null}if(e=b.__k)for(f=0;f<e.length;f++)e[f]&&a(e[f],c,d||"function"!=typeof b.type);d||ez(b.__e),b.__c=b.__=b.__e=b.__d=void 0}(f,f))}(c,b,q),i=c.__d,l=0;l<r;l++)null!=(n=c.__k[l])&&(m=-1===n.__i?eu:q[n.__i]||eu,n.__i=l,eK(a,n,m,e,f,g,h,i,j,k),o=n.__e,n.ref&&m.ref!=n.ref&&(m.ref&&eL(m.ref,null,n),k.push(n.ref,n.__c||o,n)),null==p&&null!=o&&(p=o),65536&n.__u||m.__k===n.__k?i=function a(b,c,d){var e,f;if("function"==typeof b.type){for(e=b.__k,f=0;e&&f<e.length;f++)e[f]&&(e[f].__=b,c=a(e[f],c,d));return c}b.__e!=c&&(c&&b.type&&!d.contains(c)&&(c=eD(b)),d.insertBefore(b.__e,c||null),c=b.__e);do c=c&&c.nextSibling;while(null!=c&&8===c.nodeType);return c}(n,i,a):"function"==typeof n.type&&void 0!==n.__d?i=n.__d:o&&(i=o.nextSibling),n.__d=void 0,n.__u&=-196609);c.__d=i,c.__e=p}function eH(a,b,c){"-"===b[0]?a.setProperty(b,null==c?"":c):a[b]=null==c?"":"number"!=typeof c||ew.test(b)?c:c+"px"}function eI(a,b,c,d,e){var f;a:if("style"===b)if("string"==typeof c)a.style.cssText=c;else{if("string"==typeof d&&(a.style.cssText=d=""),d)for(b in d)c&&b in c||eH(a.style,b,"");if(c)for(b in c)d&&c[b]===d[b]||eH(a.style,b,c[b])}else if("o"===b[0]&&"n"===b[1])f=b!==(b=b.replace(/(PointerCapture)$|Capture$/i,"$1")),b=b.toLowerCase()in a||"onFocusOut"===b||"onFocusIn"===b?b.toLowerCase().slice(2):b.slice(2),a.l||(a.l={}),a.l[b+f]=c,c?d?c.u=d.u:(c.u=er,a.addEventListener(b,f?et:es,f)):a.removeEventListener(b,f?et:es,f);else{if("http://www.w3.org/2000/svg"==e)b=b.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=b&&"height"!=b&&"href"!=b&&"list"!=b&&"form"!=b&&"tabIndex"!=b&&"download"!=b&&"rowSpan"!=b&&"colSpan"!=b&&"role"!=b&&"popover"!=b&&b in a)try{a[b]=null==c?"":c;break a}catch(a){}"function"==typeof c||(null==c||!1===c&&"-"!==b[4]?a.removeAttribute(b):a.setAttribute(b,"popover"==b&&1==c?"":c))}}function eJ(a){return function(b){if(this.l){var c=this.l[b.type+a];if(null==b.t)b.t=er++;else if(b.t<c.u)return;return c(el.event?el.event(b):b)}}}function eK(a,b,c,d,e,f,g,h,i,j){var k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A=b.type;if(void 0!==b.constructor)return null;128&c.__u&&(i=!!(32&c.__u),f=[h=b.__e=c.__e]),(k=el.__b)&&k(b);a:if("function"==typeof A)try{if(r=b.props,s="prototype"in A&&A.prototype.render,t=(k=A.contextType)&&d[k.__c],u=k?t?t.props.value:k.__:d,c.__c?q=(l=b.__c=c.__c).__=l.__E:(s?b.__c=l=new A(r,u):(b.__c=l=new eC(r,u),l.constructor=A,l.render=eM),t&&t.sub(l),l.props=r,l.state||(l.state={}),l.context=u,l.__n=d,m=l.__d=!0,l.__h=[],l._sb=[]),s&&null==l.__s&&(l.__s=l.state),s&&null!=A.getDerivedStateFromProps&&(l.__s==l.state&&(l.__s=ey({},l.__s)),ey(l.__s,A.getDerivedStateFromProps(r,l.__s))),n=l.props,o=l.state,l.__v=b,m)s&&null==A.getDerivedStateFromProps&&null!=l.componentWillMount&&l.componentWillMount(),s&&null!=l.componentDidMount&&l.__h.push(l.componentDidMount);else{if(s&&null==A.getDerivedStateFromProps&&r!==n&&null!=l.componentWillReceiveProps&&l.componentWillReceiveProps(r,u),!l.__e&&(null!=l.shouldComponentUpdate&&!1===l.shouldComponentUpdate(r,l.__s,u)||b.__v===c.__v)){for(b.__v!==c.__v&&(l.props=r,l.state=l.__s,l.__d=!1),b.__e=c.__e,b.__k=c.__k,b.__k.some(function(a){a&&(a.__=b)}),v=0;v<l._sb.length;v++)l.__h.push(l._sb[v]);l._sb=[],l.__h.length&&g.push(l);break a}null!=l.componentWillUpdate&&l.componentWillUpdate(r,l.__s,u),s&&null!=l.componentDidUpdate&&l.__h.push(function(){l.componentDidUpdate(n,o,p)})}if(l.context=u,l.props=r,l.__P=a,l.__e=!1,w=el.__r,x=0,s){for(l.state=l.__s,l.__d=!1,w&&w(b),k=l.render(l.props,l.state,l.context),y=0;y<l._sb.length;y++)l.__h.push(l._sb[y]);l._sb=[]}else do l.__d=!1,w&&w(b),k=l.render(l.props,l.state,l.context),l.state=l.__s;while(l.__d&&++x<25);l.state=l.__s,null!=l.getChildContext&&(d=ey(ey({},d),l.getChildContext())),s&&!m&&null!=l.getSnapshotBeforeUpdate&&(p=l.getSnapshotBeforeUpdate(n,o)),eG(a,ex(z=null!=k&&k.type===eB&&null==k.key?k.props.children:k)?z:[z],b,c,d,e,f,g,h,i,j),l.base=b.__e,b.__u&=-161,l.__h.length&&g.push(l),q&&(l.__E=l.__=null)}catch(a){if(b.__v=null,i||null!=f){for(b.__u|=i?160:128;h&&8===h.nodeType&&h.nextSibling;)h=h.nextSibling;f[f.indexOf(h)]=null,b.__e=h}else b.__e=c.__e,b.__k=c.__k;el.__e(a,b,c)}else null==f&&b.__v===c.__v?(b.__k=c.__k,b.__e=c.__e):b.__e=function(a,b,c,d,e,f,g,h,i){var j,k,l,m,n,o,p,q=c.props,r=b.props,s=b.type;if("svg"===s?e="http://www.w3.org/2000/svg":"math"===s?e="http://www.w3.org/1998/Math/MathML":e||(e="http://www.w3.org/1999/xhtml"),null!=f){for(j=0;j<f.length;j++)if((n=f[j])&&"setAttribute"in n==!!s&&(s?n.localName===s:3===n.nodeType)){a=n,f[j]=null;break}}if(null==a){if(null===s)return document.createTextNode(r);a=document.createElementNS(e,s,r.is&&r),h&&(el.__m&&el.__m(b,f),h=!1),f=null}if(null===s)q===r||h&&a.data===r||(a.data=r);else{if(f=f&&ek.call(a.childNodes),q=c.props||eu,!h&&null!=f)for(q={},j=0;j<a.attributes.length;j++)q[(n=a.attributes[j]).name]=n.value;for(j in q)if(n=q[j],"children"==j);else if("dangerouslySetInnerHTML"==j)l=n;else if(!(j in r)){if("value"==j&&"defaultValue"in r||"checked"==j&&"defaultChecked"in r)continue;eI(a,j,null,n,e)}for(j in r)n=r[j],"children"==j?m=n:"dangerouslySetInnerHTML"==j?k=n:"value"==j?o=n:"checked"==j?p=n:h&&"function"!=typeof n||q[j]===n||eI(a,j,n,q[j],e);if(k)h||l&&(k.__html===l.__html||k.__html===a.innerHTML)||(a.innerHTML=k.__html),b.__k=[];else if(l&&(a.innerHTML=""),eG(a,ex(m)?m:[m],b,c,d,"foreignObject"===s?"http://www.w3.org/1999/xhtml":e,f,g,f?f[0]:c.__k&&eD(c,0),h,i),null!=f)for(j=f.length;j--;)ez(f[j]);h||(j="value","progress"===s&&null==o?a.removeAttribute("value"):void 0===o||o===a[j]&&("progress"!==s||o)&&("option"!==s||o===q[j])||eI(a,j,o,q[j],e),j="checked",void 0!==p&&p!==a[j]&&eI(a,j,p,q[j],e))}return a}(c.__e,b,c,d,e,f,g,i,j);(k=el.diffed)&&k(b)}function eL(a,b,c){try{if("function"==typeof a){var d="function"==typeof a.__u;d&&a.__u(),d&&null==b||(a.__u=a(b))}else a.current=b}catch(a){el.__e(a,c)}}function eM(a,b,c){return this.constructor(a,c)}ek=ev.slice,el={__e:function(a,b,c,d){for(var e,f,g;b=b.__;)if((e=b.__c)&&!e.__)try{if((f=e.constructor)&&null!=f.getDerivedStateFromError&&(e.setState(f.getDerivedStateFromError(a)),g=e.__d),null!=e.componentDidCatch&&(e.componentDidCatch(a,d||{}),g=e.__d),g)return e.__E=e}catch(b){a=b}throw a}},em=0,eC.prototype.setState=function(a,b){var c;c=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=ey({},this.state),"function"==typeof a&&(a=a(ey({},c),this.props)),a&&ey(c,a),null!=a&&this.__v&&(b&&this._sb.push(b),eE(this))},eC.prototype.forceUpdate=function(a){this.__v&&(this.__e=!0,a&&this.__h.push(a),eE(this))},eC.prototype.render=eB,en=[],ep="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,eq=function(a,b){return a.__v.__b-b.__v.__b},eF.__r=0,er=0,es=eJ(!1),et=eJ(!0);var eN=/[\s\n\\/='"\0<>]/,eO=/^(xlink|xmlns|xml)([A-Z])/,eP=/^accessK|^auto[A-Z]|^cell|^ch|^col|cont|cross|dateT|encT|form[A-Z]|frame|hrefL|inputM|maxL|minL|noV|playsI|popoverT|readO|rowS|src[A-Z]|tabI|useM|item[A-Z]/,eQ=/^ac|^ali|arabic|basel|cap|clipPath$|clipRule$|color|dominant|enable|fill|flood|font|glyph[^R]|horiz|image|letter|lighting|marker[^WUH]|overline|panose|pointe|paint|rendering|shape|stop|strikethrough|stroke|text[^L]|transform|underline|unicode|units|^v[^i]|^w|^xH/,eR=new Set(["draggable","spellcheck"]),eS=/["&<]/;function eT(a){if(0===a.length||!1===eS.test(a))return a;for(var b=0,c=0,d="",e="";c<a.length;c++){switch(a.charCodeAt(c)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 60:e="&lt;";break;default:continue}c!==b&&(d+=a.slice(b,c)),d+=e,b=c+1}return c!==b&&(d+=a.slice(b,c)),d}var eU={},eV=new Set(["animation-iteration-count","border-image-outset","border-image-slice","border-image-width","box-flex","box-flex-group","box-ordinal-group","column-count","fill-opacity","flex","flex-grow","flex-negative","flex-order","flex-positive","flex-shrink","flood-opacity","font-weight","grid-column","grid-row","line-clamp","line-height","opacity","order","orphans","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","widows","z-index","zoom"]),eW=/[A-Z]/g;function eX(){this.__d=!0}var eY,eZ,e$,e_,e0={},e1=[],e2=Array.isArray,e3=Object.assign;function e4(a,b){var c,d=a.type,e=!0;return a.__c?(e=!1,(c=a.__c).state=c.__s):c=new d(a.props,b),a.__c=c,c.__v=a,c.props=a.props,c.context=b,c.__d=!0,null==c.state&&(c.state=e0),null==c.__s&&(c.__s=c.state),d.getDerivedStateFromProps?c.state=e3({},c.state,d.getDerivedStateFromProps(c.props,c.state)):e&&c.componentWillMount?(c.componentWillMount(),c.state=c.__s!==c.state?c.__s:c.state):!e&&c.componentWillUpdate&&c.componentWillUpdate(),e$&&e$(a),c.render(c.props,c.state,b)}var e5=new Set(["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"]),e6=0;function e7(a,b,c,d,e,f){b||(b={});var g,h,i=b;"ref"in b&&(g=b.ref,delete b.ref);var j={type:a,props:i,key:c,ref:g,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--e6,__i:-1,__u:0,__source:e,__self:f};if("function"==typeof a&&(g=a.defaultProps))for(h in g)void 0===i[h]&&(i[h]=g[h]);return el.vnode&&el.vnode(j),j}async function e8(a,b){let c=window.SimpleWebAuthnBrowser;async function d(c){let d=new URL(`${a}/webauthn-options/${b}`);c&&d.searchParams.append("action",c),f().forEach(a=>{d.searchParams.append(a.name,a.value)});let e=await fetch(d);return e.ok?e.json():void console.error("Failed to fetch options",e)}function e(){let a=`#${b}-form`,c=document.querySelector(a);if(!c)throw Error(`Form '${a}' not found`);return c}function f(){return Array.from(e().querySelectorAll("input[data-form-field]"))}async function g(a,b){let c=e();if(a){let b=document.createElement("input");b.type="hidden",b.name="action",b.value=a,c.appendChild(b)}if(b){let a=document.createElement("input");a.type="hidden",a.name="data",a.value=JSON.stringify(b),c.appendChild(a)}return c.submit()}async function h(a,b){let d=await c.startAuthentication(a,b);return await g("authenticate",d)}async function i(a){f().forEach(a=>{if(a.required&&!a.value)throw Error(`Missing required field: ${a.name}`)});let b=await c.startRegistration(a);return await g("register",b)}async function j(){if(!c.browserSupportsWebAuthnAutofill())return;let a=await d("authenticate");if(!a)return void console.error("Failed to fetch option for autofill authentication");try{await h(a.options,!0)}catch(a){console.error(a)}}(async function(){let a=e();if(!c.browserSupportsWebAuthn()){a.style.display="none";return}a&&a.addEventListener("submit",async a=>{a.preventDefault();let b=await d(void 0);if(!b)return void console.error("Failed to fetch options for form submission");if("authenticate"===b.action)try{await h(b.options,!1)}catch(a){console.error(a)}else if("register"===b.action)try{await i(b.options)}catch(a){console.error(a)}})})(),j()}let e9={default:"Unable to sign in.",Signin:"Try signing in with a different account.",OAuthSignin:"Try signing in with a different account.",OAuthCallbackError:"Try signing in with a different account.",OAuthCreateAccount:"Try signing in with a different account.",EmailCreateAccount:"Try signing in with a different account.",Callback:"Try signing in with a different account.",OAuthAccountNotLinked:"To confirm your identity, sign in with the same account you used originally.",EmailSignin:"The e-mail could not be sent.",CredentialsSignin:"Sign in failed. Check the details you provided are correct.",SessionRequired:"Please sign in to access this page."},fa=`:root {
  --border-width: 1px;
  --border-radius: 0.5rem;
  --color-error: #c94b4b;
  --color-info: #157efb;
  --color-info-hover: #0f6ddb;
  --color-info-text: #fff;
}

.__next-auth-theme-auto,
.__next-auth-theme-light {
  --color-background: #ececec;
  --color-background-hover: rgba(236, 236, 236, 0.8);
  --color-background-card: #fff;
  --color-text: #000;
  --color-primary: #444;
  --color-control-border: #bbb;
  --color-button-active-background: #f9f9f9;
  --color-button-active-border: #aaa;
  --color-separator: #ccc;
  --provider-bg: #fff;
  --provider-bg-hover: color-mix(
    in srgb,
    var(--provider-brand-color) 30%,
    #fff
  );
}

.__next-auth-theme-dark {
  --color-background: #161b22;
  --color-background-hover: rgba(22, 27, 34, 0.8);
  --color-background-card: #0d1117;
  --color-text: #fff;
  --color-primary: #ccc;
  --color-control-border: #555;
  --color-button-active-background: #060606;
  --color-button-active-border: #666;
  --color-separator: #444;
  --provider-bg: #161b22;
  --provider-bg-hover: color-mix(
    in srgb,
    var(--provider-brand-color) 30%,
    #000
  );
}

.__next-auth-theme-dark img[src$="42-school.svg"],
  .__next-auth-theme-dark img[src$="apple.svg"],
  .__next-auth-theme-dark img[src$="boxyhq-saml.svg"],
  .__next-auth-theme-dark img[src$="eveonline.svg"],
  .__next-auth-theme-dark img[src$="github.svg"],
  .__next-auth-theme-dark img[src$="mailchimp.svg"],
  .__next-auth-theme-dark img[src$="medium.svg"],
  .__next-auth-theme-dark img[src$="okta.svg"],
  .__next-auth-theme-dark img[src$="patreon.svg"],
  .__next-auth-theme-dark img[src$="ping-id.svg"],
  .__next-auth-theme-dark img[src$="roblox.svg"],
  .__next-auth-theme-dark img[src$="threads.svg"],
  .__next-auth-theme-dark img[src$="wikimedia.svg"] {
    filter: invert(1);
  }

.__next-auth-theme-dark #submitButton {
    background-color: var(--provider-bg, var(--color-info));
  }

@media (prefers-color-scheme: dark) {
  .__next-auth-theme-auto {
    --color-background: #161b22;
    --color-background-hover: rgba(22, 27, 34, 0.8);
    --color-background-card: #0d1117;
    --color-text: #fff;
    --color-primary: #ccc;
    --color-control-border: #555;
    --color-button-active-background: #060606;
    --color-button-active-border: #666;
    --color-separator: #444;
    --provider-bg: #161b22;
    --provider-bg-hover: color-mix(
      in srgb,
      var(--provider-brand-color) 30%,
      #000
    );
  }
    .__next-auth-theme-auto img[src$="42-school.svg"],
    .__next-auth-theme-auto img[src$="apple.svg"],
    .__next-auth-theme-auto img[src$="boxyhq-saml.svg"],
    .__next-auth-theme-auto img[src$="eveonline.svg"],
    .__next-auth-theme-auto img[src$="github.svg"],
    .__next-auth-theme-auto img[src$="mailchimp.svg"],
    .__next-auth-theme-auto img[src$="medium.svg"],
    .__next-auth-theme-auto img[src$="okta.svg"],
    .__next-auth-theme-auto img[src$="patreon.svg"],
    .__next-auth-theme-auto img[src$="ping-id.svg"],
    .__next-auth-theme-auto img[src$="roblox.svg"],
    .__next-auth-theme-auto img[src$="threads.svg"],
    .__next-auth-theme-auto img[src$="wikimedia.svg"] {
      filter: invert(1);
    }
    .__next-auth-theme-auto #submitButton {
      background-color: var(--provider-bg, var(--color-info));
    }
}

html {
  box-sizing: border-box;
}

*,
*:before,
*:after {
  box-sizing: inherit;
  margin: 0;
  padding: 0;
}

body {
  background-color: var(--color-background);
  margin: 0;
  padding: 0;
  font-family:
    ui-sans-serif,
    system-ui,
    -apple-system,
    BlinkMacSystemFont,
    "Segoe UI",
    Roboto,
    "Helvetica Neue",
    Arial,
    "Noto Sans",
    sans-serif,
    "Apple Color Emoji",
    "Segoe UI Emoji",
    "Segoe UI Symbol",
    "Noto Color Emoji";
}

h1 {
  margin-bottom: 1.5rem;
  padding: 0 1rem;
  font-weight: 400;
  color: var(--color-text);
}

p {
  margin-bottom: 1.5rem;
  padding: 0 1rem;
  color: var(--color-text);
}

form {
  margin: 0;
  padding: 0;
}

label {
  font-weight: 500;
  text-align: left;
  margin-bottom: 0.25rem;
  display: block;
  color: var(--color-text);
}

input[type] {
  box-sizing: border-box;
  display: block;
  width: 100%;
  padding: 0.5rem 1rem;
  border: var(--border-width) solid var(--color-control-border);
  background: var(--color-background-card);
  font-size: 1rem;
  border-radius: var(--border-radius);
  color: var(--color-text);
}

p {
  font-size: 1.1rem;
  line-height: 2rem;
}

a.button {
  text-decoration: none;
  line-height: 1rem;
}

a.button:link,
  a.button:visited {
    background-color: var(--color-background);
    color: var(--color-primary);
  }

button,
a.button {
  padding: 0.75rem 1rem;
  color: var(--provider-color, var(--color-primary));
  background-color: var(--provider-bg, var(--color-background));
  border: 1px solid #00000031;
  font-size: 0.9rem;
  height: 50px;
  border-radius: var(--border-radius);
  transition: background-color 250ms ease-in-out;
  font-weight: 300;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: space-between;
}

:is(button,a.button):hover {
    background-color: var(--provider-bg-hover, var(--color-background-hover));
    cursor: pointer;
  }

:is(button,a.button):active {
    cursor: pointer;
  }

:is(button,a.button) span {
    color: var(--provider-bg);
  }

#submitButton {
  color: var(--button-text-color, var(--color-info-text));
  background-color: var(--brand-color, var(--color-info));
  width: 100%;
}

#submitButton:hover {
    background-color: var(
      --button-hover-bg,
      var(--color-info-hover)
    ) !important;
  }

a.site {
  color: var(--color-primary);
  text-decoration: none;
  font-size: 1rem;
  line-height: 2rem;
}

a.site:hover {
    text-decoration: underline;
  }

.page {
  position: absolute;
  width: 100%;
  height: 100%;
  display: grid;
  place-items: center;
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

.page > div {
    text-align: center;
  }

.error a.button {
    padding-left: 2rem;
    padding-right: 2rem;
    margin-top: 0.5rem;
  }

.error .message {
    margin-bottom: 1.5rem;
  }

.signin input[type="text"] {
    margin-left: auto;
    margin-right: auto;
    display: block;
  }

.signin hr {
    display: block;
    border: 0;
    border-top: 1px solid var(--color-separator);
    margin: 2rem auto 1rem auto;
    overflow: visible;
  }

.signin hr::before {
      content: "or";
      background: var(--color-background-card);
      color: #888;
      padding: 0 0.4rem;
      position: relative;
      top: -0.7rem;
    }

.signin .error {
    background: #f5f5f5;
    font-weight: 500;
    border-radius: 0.3rem;
    background: var(--color-error);
  }

.signin .error p {
      text-align: left;
      padding: 0.5rem 1rem;
      font-size: 0.9rem;
      line-height: 1.2rem;
      color: var(--color-info-text);
    }

.signin > div,
  .signin form {
    display: block;
  }

.signin > div input[type], .signin form input[type] {
      margin-bottom: 0.5rem;
    }

.signin > div button, .signin form button {
      width: 100%;
    }

.signin .provider + .provider {
    margin-top: 1rem;
  }

.logo {
  display: inline-block;
  max-width: 150px;
  margin: 1.25rem 0;
  max-height: 70px;
}

.card {
  background-color: var(--color-background-card);
  border-radius: 1rem;
  padding: 1.25rem 2rem;
}

.card .header {
    color: var(--color-primary);
  }

.card input[type]::-moz-placeholder {
    color: color-mix(
      in srgb,
      var(--color-text) 20%,
      var(--color-button-active-background)
    );
  }

.card input[type]::placeholder {
    color: color-mix(
      in srgb,
      var(--color-text) 20%,
      var(--color-button-active-background)
    );
  }

.card input[type] {
    background: color-mix(in srgb, var(--color-background-card) 95%, black);
  }

.section-header {
  color: var(--color-text);
}

@media screen and (min-width: 450px) {
  .card {
    margin: 2rem 0;
    width: 368px;
  }
}

@media screen and (max-width: 450px) {
  .card {
    margin: 1rem 0;
    width: 343px;
  }
}
`;function fb({html:a,title:b,status:c,cookies:d,theme:e,headTags:f}){return{cookies:d,status:c,headers:{"Content-Type":"text/html"},body:`<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><style>${fa}</style><title>${b}</title>${f??""}</head><body class="__next-auth-theme-${e?.colorScheme??"auto"}"><div class="page">${function(a,b,c){var d=el.__s;el.__s=!0,eY=el.__b,eZ=el.diffed,e$=el.__r,e_=el.unmount;var e=function(a,b,c){var d,e,f,g={};for(f in b)"key"==f?d=b[f]:"ref"==f?e=b[f]:g[f]=b[f];if(arguments.length>2&&(g.children=arguments.length>3?ek.call(arguments,2):c),"function"==typeof a&&null!=a.defaultProps)for(f in a.defaultProps)void 0===g[f]&&(g[f]=a.defaultProps[f]);return eA(a,g,d,e,null)}(eB,null);e.__k=[a];try{var f=function a(b,c,d,e,f,g,h){if(null==b||!0===b||!1===b||""===b)return"";var i=typeof b;if("object"!=i)return"function"==i?"":"string"==i?eT(b):b+"";if(e2(b)){var j,k="";f.__k=b;for(var l=0;l<b.length;l++){var m=b[l];if(null!=m&&"boolean"!=typeof m){var n,o=a(m,c,d,e,f,g,h);"string"==typeof o?k+=o:(j||(j=[]),k&&j.push(k),k="",e2(o)?(n=j).push.apply(n,o):j.push(o))}}return j?(k&&j.push(k),j):k}if(void 0!==b.constructor)return"";b.__=f,eY&&eY(b);var p=b.type,q=b.props;if("function"==typeof p){var r,s,t,u=c;if(p===eB){if("tpl"in q){for(var v="",w=0;w<q.tpl.length;w++)if(v+=q.tpl[w],q.exprs&&w<q.exprs.length){var x=q.exprs[w];if(null==x)continue;"object"==typeof x&&(void 0===x.constructor||e2(x))?v+=a(x,c,d,e,b,g,h):v+=x}return v}if("UNSTABLE_comment"in q)return"\x3c!--"+eT(q.UNSTABLE_comment)+"--\x3e";s=q.children}else{if(null!=(r=p.contextType)){var y=c[r.__c];u=y?y.props.value:r.__}var z=p.prototype&&"function"==typeof p.prototype.render;if(z)s=e4(b,u),t=b.__c;else{b.__c=t={__v:b,context:u,props:b.props,setState:eX,forceUpdate:eX,__d:!0,__h:[]};for(var A=0;t.__d&&A++<25;)t.__d=!1,e$&&e$(b),s=p.call(t,q,u);t.__d=!0}if(null!=t.getChildContext&&(c=e3({},c,t.getChildContext())),z&&el.errorBoundaries&&(p.getDerivedStateFromError||t.componentDidCatch)){s=null!=s&&s.type===eB&&null==s.key&&null==s.props.tpl?s.props.children:s;try{return a(s,c,d,e,b,g,h)}catch(f){return p.getDerivedStateFromError&&(t.__s=p.getDerivedStateFromError(f)),t.componentDidCatch&&t.componentDidCatch(f,e0),t.__d?(s=e4(b,c),null!=(t=b.__c).getChildContext&&(c=e3({},c,t.getChildContext())),a(s=null!=s&&s.type===eB&&null==s.key&&null==s.props.tpl?s.props.children:s,c,d,e,b,g,h)):""}finally{eZ&&eZ(b),b.__=null,e_&&e_(b)}}}s=null!=s&&s.type===eB&&null==s.key&&null==s.props.tpl?s.props.children:s;try{var B=a(s,c,d,e,b,g,h);return eZ&&eZ(b),b.__=null,el.unmount&&el.unmount(b),B}catch(f){if(!g&&h&&h.onError){var C=h.onError(f,b,function(f){return a(f,c,d,e,b,g,h)});if(void 0!==C)return C;var D=el.__e;return D&&D(f,b),""}if(!g||!f||"function"!=typeof f.then)throw f;return f.then(function f(){try{return a(s,c,d,e,b,g,h)}catch(i){if(!i||"function"!=typeof i.then)throw i;return i.then(function(){return a(s,c,d,e,b,g,h)},f)}})}}var E,F="<"+p,G="";for(var H in q){var I=q[H];if("function"!=typeof I||"class"===H||"className"===H){switch(H){case"children":E=I;continue;case"key":case"ref":case"__self":case"__source":continue;case"htmlFor":if("for"in q)continue;H="for";break;case"className":if("class"in q)continue;H="class";break;case"defaultChecked":H="checked";break;case"defaultSelected":H="selected";break;case"defaultValue":case"value":switch(H="value",p){case"textarea":E=I;continue;case"select":e=I;continue;case"option":e!=I||"selected"in q||(F+=" selected")}break;case"dangerouslySetInnerHTML":G=I&&I.__html;continue;case"style":"object"==typeof I&&(I=function(a){var b="";for(var c in a){var d=a[c];if(null!=d&&""!==d){var e="-"==c[0]?c:eU[c]||(eU[c]=c.replace(eW,"-$&").toLowerCase()),f=";";"number"!=typeof d||e.startsWith("--")||eV.has(e)||(f="px;"),b=b+e+":"+d+f}}return b||void 0}(I));break;case"acceptCharset":H="accept-charset";break;case"httpEquiv":H="http-equiv";break;default:if(eO.test(H))H=H.replace(eO,"$1:$2").toLowerCase();else{if(eN.test(H))continue;("-"===H[4]||eR.has(H))&&null!=I?I+="":d?eQ.test(H)&&(H="panose1"===H?"panose-1":H.replace(/([A-Z])/g,"-$1").toLowerCase()):eP.test(H)&&(H=H.toLowerCase())}}null!=I&&!1!==I&&(F=!0===I||""===I?F+" "+H:F+" "+H+'="'+("string"==typeof I?eT(I):I+"")+'"')}}if(eN.test(p))throw Error(p+" is not a valid HTML tag name in "+F+">");if(G||("string"==typeof E?G=eT(E):null!=E&&!1!==E&&!0!==E&&(G=a(E,c,"svg"===p||"foreignObject"!==p&&d,e,b,g,h))),eZ&&eZ(b),b.__=null,e_&&e_(b),!G&&e5.has(p))return F+"/>";var J="</"+p+">",K=F+">";return e2(G)?[K].concat(G,[J]):"string"!=typeof G?[K,G,J]:K+G+J}(a,e0,!1,void 0,e,!1,void 0);return e2(f)?f.join(""):f}catch(a){if(a.then)throw Error('Use "renderToStringAsync" for suspenseful rendering.');throw a}finally{el.__c&&el.__c(a,e1),el.__s=d,e1.length=0}}(a)}</div></body></html>`}}function fc(a){let{url:b,theme:c,query:d,cookies:e,pages:f,providers:g}=a;return{csrf:(a,b,c)=>a?(b.logger.warn("csrf-disabled"),c.push({name:b.cookies.csrfToken.name,value:"",options:{...b.cookies.csrfToken.options,maxAge:0}}),{status:404,cookies:c}):{headers:{"Content-Type":"application/json","Cache-Control":"private, no-cache, no-store",Expires:"0",Pragma:"no-cache"},body:{csrfToken:b.csrfToken},cookies:c},providers:a=>({headers:{"Content-Type":"application/json"},body:a.reduce((a,{id:b,name:c,type:d,signinUrl:e,callbackUrl:f})=>(a[b]={id:b,name:c,type:d,signinUrl:e,callbackUrl:f},a),{})}),signin(b,h){if(b)throw new bO("Unsupported action");if(f?.signIn){let b=`${f.signIn}${f.signIn.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:a.callbackUrl??"/"})}`;return h&&(b=`${b}&${new URLSearchParams({error:h})}`),{redirect:b,cookies:e}}let i=g?.find(a=>"webauthn"===a.type&&a.enableConditionalUI&&!!a.simpleWebAuthnBrowserVersion),j="";if(i){let{simpleWebAuthnBrowserVersion:a}=i;j=`<script src="https://unpkg.com/@simplewebauthn/browser@${a}/dist/bundle/index.umd.min.js" crossorigin="anonymous"></script>`}return fb({cookies:e,theme:c,html:function(a){let{csrfToken:b,providers:c=[],callbackUrl:d,theme:e,email:f,error:g}=a;"undefined"!=typeof document&&e?.brandColor&&document.documentElement.style.setProperty("--brand-color",e.brandColor),"undefined"!=typeof document&&e?.buttonText&&document.documentElement.style.setProperty("--button-text-color",e.buttonText);let h=g&&(e9[g]??e9.default),i=c.find(a=>"webauthn"===a.type&&a.enableConditionalUI)?.id;return e7("div",{className:"signin",children:[e?.brandColor&&e7("style",{dangerouslySetInnerHTML:{__html:`:root {--brand-color: ${e.brandColor}}`}}),e?.buttonText&&e7("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --button-text-color: ${e.buttonText}
        }
      `}}),e7("div",{className:"card",children:[h&&e7("div",{className:"error",children:e7("p",{children:h})}),e?.logo&&e7("img",{src:e.logo,alt:"Logo",className:"logo"}),c.map((a,e)=>{let g,h,i;("oauth"===a.type||"oidc"===a.type)&&({bg:g="#fff",brandColor:h,logo:i=`https://authjs.dev/img/providers/${a.id}.svg`}=a.style??{});let j=h??g??"#fff";return e7("div",{className:"provider",children:["oauth"===a.type||"oidc"===a.type?e7("form",{action:a.signinUrl,method:"POST",children:[e7("input",{type:"hidden",name:"csrfToken",value:b}),d&&e7("input",{type:"hidden",name:"callbackUrl",value:d}),e7("button",{type:"submit",className:"button",style:{"--provider-brand-color":j},tabIndex:0,children:[e7("span",{style:{filter:"invert(1) grayscale(1) brightness(1.3) contrast(9000)","mix-blend-mode":"luminosity",opacity:.95},children:["Sign in with ",a.name]}),i&&e7("img",{loading:"lazy",height:24,src:i})]})]}):null,("email"===a.type||"credentials"===a.type||"webauthn"===a.type)&&e>0&&"email"!==c[e-1].type&&"credentials"!==c[e-1].type&&"webauthn"!==c[e-1].type&&e7("hr",{}),"email"===a.type&&e7("form",{action:a.signinUrl,method:"POST",children:[e7("input",{type:"hidden",name:"csrfToken",value:b}),e7("label",{className:"section-header",htmlFor:`input-email-for-${a.id}-provider`,children:"Email"}),e7("input",{id:`input-email-for-${a.id}-provider`,autoFocus:!0,type:"email",name:"email",value:f,placeholder:"email@example.com",required:!0}),e7("button",{id:"submitButton",type:"submit",tabIndex:0,children:["Sign in with ",a.name]})]}),"credentials"===a.type&&e7("form",{action:a.callbackUrl,method:"POST",children:[e7("input",{type:"hidden",name:"csrfToken",value:b}),Object.keys(a.credentials).map(b=>e7("div",{children:[e7("label",{className:"section-header",htmlFor:`input-${b}-for-${a.id}-provider`,children:a.credentials[b].label??b}),e7("input",{name:b,id:`input-${b}-for-${a.id}-provider`,type:a.credentials[b].type??"text",placeholder:a.credentials[b].placeholder??"",...a.credentials[b]})]},`input-group-${a.id}`)),e7("button",{id:"submitButton",type:"submit",tabIndex:0,children:["Sign in with ",a.name]})]}),"webauthn"===a.type&&e7("form",{action:a.callbackUrl,method:"POST",id:`${a.id}-form`,children:[e7("input",{type:"hidden",name:"csrfToken",value:b}),Object.keys(a.formFields).map(b=>e7("div",{children:[e7("label",{className:"section-header",htmlFor:`input-${b}-for-${a.id}-provider`,children:a.formFields[b].label??b}),e7("input",{name:b,"data-form-field":!0,id:`input-${b}-for-${a.id}-provider`,type:a.formFields[b].type??"text",placeholder:a.formFields[b].placeholder??"",...a.formFields[b]})]},`input-group-${a.id}`)),e7("button",{id:`submitButton-${a.id}`,type:"submit",tabIndex:0,children:["Sign in with ",a.name]})]}),("email"===a.type||"credentials"===a.type||"webauthn"===a.type)&&e+1<c.length&&e7("hr",{})]},a.id)})]}),i&&e7(eB,{children:e7("script",{dangerouslySetInnerHTML:{__html:`
const currentURL = window.location.href;
const authURL = currentURL.substring(0, currentURL.lastIndexOf('/'));
(${e8})(authURL, "${i}");
`}})})]})}({csrfToken:a.csrfToken,providers:a.providers?.filter(a=>["email","oauth","oidc"].includes(a.type)||"credentials"===a.type&&a.credentials||"webauthn"===a.type&&a.formFields||!1),callbackUrl:a.callbackUrl,theme:a.theme,error:h,...d}),title:"Sign In",headTags:j})},signout:()=>f?.signOut?{redirect:f.signOut,cookies:e}:fb({cookies:e,theme:c,html:function(a){let{url:b,csrfToken:c,theme:d}=a;return e7("div",{className:"signout",children:[d?.brandColor&&e7("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${d.brandColor}
        }
      `}}),d?.buttonText&&e7("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --button-text-color: ${d.buttonText}
        }
      `}}),e7("div",{className:"card",children:[d?.logo&&e7("img",{src:d.logo,alt:"Logo",className:"logo"}),e7("h1",{children:"Signout"}),e7("p",{children:"Are you sure you want to sign out?"}),e7("form",{action:b?.toString(),method:"POST",children:[e7("input",{type:"hidden",name:"csrfToken",value:c}),e7("button",{id:"submitButton",type:"submit",children:"Sign out"})]})]})]})}({csrfToken:a.csrfToken,url:b,theme:c}),title:"Sign Out"}),verifyRequest:a=>f?.verifyRequest?{redirect:`${f.verifyRequest}${b?.search??""}`,cookies:e}:fb({cookies:e,theme:c,html:function(a){let{url:b,theme:c}=a;return e7("div",{className:"verify-request",children:[c.brandColor&&e7("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${c.brandColor}
        }
      `}}),e7("div",{className:"card",children:[c.logo&&e7("img",{src:c.logo,alt:"Logo",className:"logo"}),e7("h1",{children:"Check your email"}),e7("p",{children:"A sign in link has been sent to your email address."}),e7("p",{children:e7("a",{className:"site",href:b.origin,children:b.host})})]})]})}({url:b,theme:c,...a}),title:"Verify Request"}),error:a=>f?.error?{redirect:`${f.error}${f.error.includes("?")?"&":"?"}error=${a}`,cookies:e}:fb({cookies:e,theme:c,...function(a){let{url:b,error:c="default",theme:d}=a,e=`${b}/signin`,f={default:{status:200,heading:"Error",message:e7("p",{children:e7("a",{className:"site",href:b?.origin,children:b?.host})})},Configuration:{status:500,heading:"Server error",message:e7("div",{children:[e7("p",{children:"There is a problem with the server configuration."}),e7("p",{children:"Check the server logs for more information."})]})},AccessDenied:{status:403,heading:"Access Denied",message:e7("div",{children:[e7("p",{children:"You do not have permission to sign in."}),e7("p",{children:e7("a",{className:"button",href:e,children:"Sign in"})})]})},Verification:{status:403,heading:"Unable to sign in",message:e7("div",{children:[e7("p",{children:"The sign in link is no longer valid."}),e7("p",{children:"It may have been used already or it may have expired."})]}),signin:e7("a",{className:"button",href:e,children:"Sign in"})}},{status:g,heading:h,message:i,signin:j}=f[c]??f.default;return{status:g,html:e7("div",{className:"error",children:[d?.brandColor&&e7("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${d?.brandColor}
        }
      `}}),e7("div",{className:"card",children:[d?.logo&&e7("img",{src:d?.logo,alt:"Logo",className:"logo"}),e7("h1",{children:h}),e7("div",{className:"message",children:i}),j]})]})}}({url:b,theme:c,error:a}),title:"Error"})}}function fd(a,b=Date.now()){return new Date(b+1e3*a)}async function fe(a,b,c,d){if(!c?.providerAccountId||!c.type)throw Error("Missing or invalid provider account");if(!["email","oauth","oidc","webauthn"].includes(c.type))throw Error("Provider not supported");let{adapter:e,jwt:f,events:g,session:{strategy:h,generateSessionToken:i}}=d;if(!e)return{user:b,account:c};let j=c,{createUser:k,updateUser:l,getUser:m,getUserByAccount:n,getUserByEmail:o,linkAccount:p,createSession:q,getSessionAndUser:r,deleteSession:s}=e,t=null,u=null,v=!1,w="jwt"===h;if(a)if(w)try{let b=d.cookies.sessionToken.name;(t=await f.decode({...f,token:a,salt:b}))&&"sub"in t&&t.sub&&(u=await m(t.sub))}catch{}else{let b=await r(a);b&&(t=b.session,u=b.user)}if("email"===j.type){let c=await o(b.email);return c?(u?.id!==c.id&&!w&&a&&await s(a),u=await l({id:c.id,emailVerified:new Date}),await g.updateUser?.({user:u})):(u=await k({...b,emailVerified:new Date}),await g.createUser?.({user:u}),v=!0),{session:t=w?{}:await q({sessionToken:i(),userId:u.id,expires:fd(d.session.maxAge)}),user:u,isNewUser:v}}if("webauthn"===j.type){let a=await n({providerAccountId:j.providerAccountId,provider:j.provider});if(a){if(u){if(a.id===u.id){let a={...j,userId:u.id};return{session:t,user:u,isNewUser:v,account:a}}throw new bY("The account is already associated with another user",{provider:j.provider})}t=w?{}:await q({sessionToken:i(),userId:a.id,expires:fd(d.session.maxAge)});let b={...j,userId:a.id};return{session:t,user:a,isNewUser:v,account:b}}{if(u){await p({...j,userId:u.id}),await g.linkAccount?.({user:u,account:j,profile:b});let a={...j,userId:u.id};return{session:t,user:u,isNewUser:v,account:a}}if(b.email?await o(b.email):null)throw new bY("Another account already exists with the same e-mail address",{provider:j.provider});u=await k({...b}),await g.createUser?.({user:u}),await p({...j,userId:u.id}),await g.linkAccount?.({user:u,account:j,profile:b}),t=w?{}:await q({sessionToken:i(),userId:u.id,expires:fd(d.session.maxAge)});let a={...j,userId:u.id};return{session:t,user:u,isNewUser:!0,account:a}}}let x=await n({providerAccountId:j.providerAccountId,provider:j.provider});if(x){if(u){if(x.id===u.id)return{session:t,user:u,isNewUser:v};throw new bH("The account is already associated with another user",{provider:j.provider})}return{session:t=w?{}:await q({sessionToken:i(),userId:x.id,expires:fd(d.session.maxAge)}),user:x,isNewUser:v}}{let{provider:a}=d,{type:c,provider:e,providerAccountId:f,userId:h,...l}=j;if(j=Object.assign(a.account(l)??{},{providerAccountId:f,provider:e,type:c,userId:h}),u)return await p({...j,userId:u.id}),await g.linkAccount?.({user:u,account:j,profile:b}),{session:t,user:u,isNewUser:v};let m=b.email?await o(b.email):null;if(m){let a=d.provider;if(a?.allowDangerousEmailAccountLinking)u=m,v=!1;else throw new bH("Another account already exists with the same e-mail address",{provider:j.provider})}else u=await k({...b,emailVerified:null}),v=!0;return await g.createUser?.({user:u}),await p({...j,userId:u.id}),await g.linkAccount?.({user:u,account:j,profile:b}),{session:t=w?{}:await q({sessionToken:i(),userId:u.id,expires:fd(d.session.maxAge)}),user:u,isNewUser:v}}}function ff(a,b){if(null==a)return!1;try{return a instanceof b||Object.getPrototypeOf(a)[Symbol.toStringTag]===b.prototype[Symbol.toStringTag]}catch{return!1}}"undefined"!=typeof navigator&&navigator.userAgent?.startsWith?.("Mozilla/5.0 ")||(f="oauth4webapi/v3.8.0");let fg="ERR_INVALID_ARG_VALUE",fh="ERR_INVALID_ARG_TYPE";function fi(a,b,c){let d=TypeError(a,{cause:c});return Object.assign(d,{code:b}),d}let fj=Symbol(),fk=Symbol(),fl=Symbol(),fm=Symbol(),fn=Symbol(),fo=Symbol();Symbol();let fp=new TextEncoder,fq=new TextDecoder;function fr(a){return"string"==typeof a?fp.encode(a):fq.decode(a)}function fs(a){return"string"==typeof a?h(a):g(a)}g=Uint8Array.prototype.toBase64?a=>(a instanceof ArrayBuffer&&(a=new Uint8Array(a)),a.toBase64({alphabet:"base64url",omitPadding:!0})):a=>{a instanceof ArrayBuffer&&(a=new Uint8Array(a));let b=[];for(let c=0;c<a.byteLength;c+=32768)b.push(String.fromCharCode.apply(null,a.subarray(c,c+32768)));return btoa(b.join("")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},h=Uint8Array.fromBase64?a=>{try{return Uint8Array.fromBase64(a,{alphabet:"base64url"})}catch(a){throw fi("The input to be decoded is not correctly encoded.",fg,a)}}:a=>{try{let b=atob(a.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"")),c=new Uint8Array(b.length);for(let a=0;a<b.length;a++)c[a]=b.charCodeAt(a);return c}catch(a){throw fi("The input to be decoded is not correctly encoded.",fg,a)}};class ft extends Error{code;constructor(a,b){super(a,b),this.name=this.constructor.name,this.code=gu,Error.captureStackTrace?.(this,this.constructor)}}class fu extends Error{code;constructor(a,b){super(a,b),this.name=this.constructor.name,b?.code&&(this.code=b?.code),Error.captureStackTrace?.(this,this.constructor)}}function fv(a,b,c){return new fu(a,{code:b,cause:c})}function fw(a){return!(null===a||"object"!=typeof a||Array.isArray(a))}function fx(a){ff(a,Headers)&&(a=Object.fromEntries(a.entries()));let b=new Headers(a??{});if(f&&!b.has("user-agent")&&b.set("user-agent",f),b.has("authorization"))throw fi('"options.headers" must not include the "authorization" header name',fg);return b}function fy(a,b){if(void 0!==b){if("function"==typeof b&&(b=b(a.href)),!(b instanceof AbortSignal))throw fi('"options.signal" must return or be an instance of AbortSignal',fh);return b}}function fz(a){return a.includes("//")?a.replace("//","/"):a}async function fA(a,b,c,d){if(!(a instanceof URL))throw fi(`"${b}" must be an instance of URL`,fh);fQ(a,d?.[fj]!==!0);let e=c(new URL(a.href)),f=fx(d?.headers);return f.set("accept","application/json"),(d?.[fm]||fetch)(e.href,{body:void 0,headers:Object.fromEntries(f.entries()),method:"GET",redirect:"manual",signal:fy(e,d?.signal)})}async function fB(a,b){return fA(a,"issuerIdentifier",a=>{switch(b?.algorithm){case void 0:case"oidc":a.pathname=fz(`${a.pathname}/.well-known/openid-configuration`);break;case"oauth2":!function(a,b,c=!1){"/"===a.pathname?a.pathname=b:a.pathname=fz(`${b}/${c?a.pathname:a.pathname.replace(/(\/)$/,"")}`)}(a,".well-known/oauth-authorization-server");break;default:throw fi('"options.algorithm" must be "oidc" (default), or "oauth2"',fg)}return a},b)}function fC(a,b,c,d,e){try{if("number"!=typeof a||!Number.isFinite(a))throw fi(`${c} must be a number`,fh,e);if(a>0)return;if(b){if(0!==a)throw fi(`${c} must be a non-negative number`,fg,e);return}throw fi(`${c} must be a positive number`,fg,e)}catch(a){if(d)throw fv(a.message,d,e);throw a}}function fD(a,b,c,d){try{if("string"!=typeof a)throw fi(`${b} must be a string`,fh,d);if(0===a.length)throw fi(`${b} must not be empty`,fg,d)}catch(a){if(c)throw fv(a.message,c,d);throw a}}async function fE(a,b){if(!(a instanceof URL)&&a!==gQ)throw fi('"expectedIssuerIdentifier" must be an instance of URL',fh);if(!ff(b,Response))throw fi('"response" must be an instance of Response',fh);if(200!==b.status)throw fv('"response" is not a conform Authorization Server Metadata response (unexpected HTTP status code)',gA,b);gI(b);let c=await gP(b);if(fD(c.issuer,'"response" body "issuer" property',gy,{body:c}),a!==gQ&&new URL(c.issuer).href!==a.href)throw fv('"response" body "issuer" property does not match the expected value',gF,{expected:a.href,body:c,attribute:"issuer"});return c}function fF(a){var b=a,c="application/json";if(f5(b)!==c)throw function(a,...b){let c='"response" content-type must be ';if(b.length>2){let a=b.pop();c+=`${b.join(", ")}, or ${a}`}else 2===b.length?c+=`${b[0]} or ${b[1]}`:c+=b[0];return fv(c,gz,a)}(b,c)}function fG(){return fs(crypto.getRandomValues(new Uint8Array(32)))}async function fH(a){return fD(a,"codeVerifier"),fs(await crypto.subtle.digest("SHA-256",fr(a)))}function fI(a){let b=a?.[fk];return"number"==typeof b&&Number.isFinite(b)?b:0}function fJ(a){let b=a?.[fl];return"number"==typeof b&&Number.isFinite(b)&&-1!==Math.sign(b)?b:30}function fK(){return Math.floor(Date.now()/1e3)}function fL(a){if("object"!=typeof a||null===a)throw fi('"as" must be an object',fh);fD(a.issuer,'"as.issuer"')}function fM(a){if("object"!=typeof a||null===a)throw fi('"client" must be an object',fh);fD(a.client_id,'"client.client_id"')}function fN(a,b){let c=fK()+fI(b);return{jti:fG(),aud:a.issuer,exp:c+60,iat:c,nbf:c,iss:b.client_id,sub:b.client_id}}async function fO(a,b,c){if(!c.usages.includes("sign"))throw fi('CryptoKey instances used for signing assertions must include "sign" in their "usages"',fg);let d=`${fs(fr(JSON.stringify(a)))}.${fs(fr(JSON.stringify(b)))}`,e=fs(await crypto.subtle.sign(function(a){switch(a.algorithm.name){case"ECDSA":return{name:a.algorithm.name,hash:function(a){let{algorithm:b}=a;switch(b.namedCurve){case"P-256":return"SHA-256";case"P-384":return"SHA-384";case"P-521":return"SHA-512";default:throw new ft("unsupported ECDSA namedCurve",{cause:a})}}(a)};case"RSA-PSS":switch(gJ(a),a.algorithm.hash.name){case"SHA-256":case"SHA-384":case"SHA-512":return{name:a.algorithm.name,saltLength:parseInt(a.algorithm.hash.name.slice(-3),10)>>3};default:throw new ft("unsupported RSA-PSS hash name",{cause:a})}case"RSASSA-PKCS1-v1_5":return gJ(a),a.algorithm.name;case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":case"Ed25519":return a.algorithm.name}throw new ft("unsupported CryptoKey algorithm name",{cause:a})}(c),c,fr(d)));return`${d}.${e}`}let fP=URL.parse?(a,b)=>URL.parse(a,b):(a,b)=>{try{return new URL(a,b)}catch{return null}};function fQ(a,b){if(b&&"https:"!==a.protocol)throw fv("only requests to HTTPS are allowed",gB,a);if("https:"!==a.protocol&&"http:"!==a.protocol)throw fv("only HTTP and HTTPS requests are allowed",gC,a)}function fR(a,b,c,d){let e;if("string"!=typeof a||!(e=fP(a)))throw fv(`authorization server metadata does not contain a valid ${c?`"as.mtls_endpoint_aliases.${b}"`:`"as.${b}"`}`,void 0===a?gG:gH,{attribute:c?`mtls_endpoint_aliases.${b}`:b});return fQ(e,d),e}function fS(a,b,c,d){return c&&a.mtls_endpoint_aliases&&b in a.mtls_endpoint_aliases?fR(a.mtls_endpoint_aliases[b],b,c,d):fR(a[b],b,c,d)}class fT extends Error{cause;code;error;status;error_description;response;constructor(a,b){super(a,b),this.name=this.constructor.name,this.code=gt,this.cause=b.cause,this.error=b.cause.error,this.status=b.response.status,this.error_description=b.cause.error_description,Object.defineProperty(this,"response",{enumerable:!1,value:b.response}),Error.captureStackTrace?.(this,this.constructor)}}class fU extends Error{cause;code;error;error_description;constructor(a,b){super(a,b),this.name=this.constructor.name,this.code=gv,this.cause=b.cause,this.error=b.cause.get("error"),this.error_description=b.cause.get("error_description")??void 0,Error.captureStackTrace?.(this,this.constructor)}}class fV extends Error{cause;code;response;status;constructor(a,b){super(a,b),this.name=this.constructor.name,this.code=gs,this.cause=b.cause,this.status=b.response.status,this.response=b.response,Object.defineProperty(this,"response",{enumerable:!1}),Error.captureStackTrace?.(this,this.constructor)}}let fW="[a-zA-Z0-9!#$%&\\'\\*\\+\\-\\.\\^_`\\|~]+",fX=RegExp("^[,\\s]*("+fW+")\\s(.*)"),fY=RegExp("^[,\\s]*("+fW+')\\s*=\\s*"((?:[^"\\\\]|\\\\.)*)"[,\\s]*(.*)'),fZ=RegExp("^[,\\s]*"+("("+fW+")\\s*=\\s*(")+fW+")[,\\s]*(.*)"),f$=RegExp("^([a-zA-Z0-9\\-\\._\\~\\+\\/]+[=]{0,2})(?:$|[,\\s])(.*)");async function f_(a){if(a.status>399&&a.status<500){gI(a),fF(a);try{let b=await a.clone().json();if(fw(b)&&"string"==typeof b.error&&b.error.length)return b}catch{}}}async function f0(a,b,c){if(a.status!==b){let b;if(gd(a),b=await f_(a))throw await a.body?.cancel(),new fT("server responded with an error in the response body",{cause:b,response:a});throw fv(`"response" is not a conform ${c} response (unexpected HTTP status code)`,gA,a)}}function f1(a){if(!gi.has(a))throw fi('"options.DPoP" is not a valid DPoPHandle',fg)}async function f2(a,b,c,d,e,f){if(fD(a,'"accessToken"'),!(c instanceof URL))throw fi('"url" must be an instance of URL',fh);fQ(c,f?.[fj]!==!0),d=fx(d),f?.DPoP&&(f1(f.DPoP),await f.DPoP.addProof(c,d,b.toUpperCase(),a)),d.set("authorization",`${d.has("dpop")?"DPoP":"Bearer"} ${a}`);let g=await (f?.[fm]||fetch)(c.href,{body:e,headers:Object.fromEntries(d.entries()),method:b,redirect:"manual",signal:fy(c,f?.signal)});return f?.DPoP?.cacheNonce(g),g}async function f3(a,b,c,d){fL(a),fM(b);let e=fS(a,"userinfo_endpoint",b.use_mtls_endpoint_aliases,d?.[fj]!==!0),f=fx(d?.headers);return b.userinfo_signed_response_alg?f.set("accept","application/jwt"):(f.set("accept","application/json"),f.append("accept","application/jwt")),f2(c,"GET",e,f,null,{...d,[fk]:fI(b)})}let f4=Symbol();function f5(a){return a.headers.get("content-type")?.split(";")[0]}async function f6(a,b,c,d,e){let f;if(fL(a),fM(b),!ff(d,Response))throw fi('"response" must be an instance of Response',fh);if(gd(d),200!==d.status)throw fv('"response" is not a conform UserInfo Endpoint response (unexpected HTTP status code)',gA,d);if(gI(d),"application/jwt"===f5(d)){let{claims:c,jwt:g}=await gK(await d.text(),gL.bind(void 0,b.userinfo_signed_response_alg,a.userinfo_signing_alg_values_supported,void 0),fI(b),fJ(b),e?.[fo]).then(ge.bind(void 0,b.client_id)).then(gg.bind(void 0,a));ga.set(d,g),f=c}else{if(b.userinfo_signed_response_alg)throw fv("JWT UserInfo Response expected",gw,d);f=await gP(d)}if(fD(f.sub,'"response" body "sub" property',gy,{body:f}),c===f4);else if(fD(c,'"expectedSubject"'),f.sub!==c)throw fv('unexpected "response" body "sub" property value',gF,{expected:c,body:f,attribute:"sub"});return f}async function f7(a,b,c,d,e,f,g){return await c(a,b,e,f),f.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),(g?.[fm]||fetch)(d.href,{body:e,headers:Object.fromEntries(f.entries()),method:"POST",redirect:"manual",signal:fy(d,g?.signal)})}async function f8(a,b,c,d,e,f){let g=fS(a,"token_endpoint",b.use_mtls_endpoint_aliases,f?.[fj]!==!0);e.set("grant_type",d);let h=fx(f?.headers);h.set("accept","application/json"),f?.DPoP!==void 0&&(f1(f.DPoP),await f.DPoP.addProof(g,h,"POST"));let i=await f7(a,b,c,g,e,h,f);return f?.DPoP?.cacheNonce(i),i}let f9=new WeakMap,ga=new WeakMap;function gb(a){if(!a.id_token)return;let b=f9.get(a);if(!b)throw fi('"ref" was already garbage collected or did not resolve from the proper sources',fg);return b}async function gc(a,b,c,d,e,f){if(fL(a),fM(b),!ff(c,Response))throw fi('"response" must be an instance of Response',fh);await f0(c,200,"Token Endpoint"),gI(c);let g=await gP(c);if(fD(g.access_token,'"response" body "access_token" property',gy,{body:g}),fD(g.token_type,'"response" body "token_type" property',gy,{body:g}),g.token_type=g.token_type.toLowerCase(),void 0!==g.expires_in){let a="number"!=typeof g.expires_in?parseFloat(g.expires_in):g.expires_in;fC(a,!0,'"response" body "expires_in" property',gy,{body:g}),g.expires_in=a}if(void 0!==g.refresh_token&&fD(g.refresh_token,'"response" body "refresh_token" property',gy,{body:g}),void 0!==g.scope&&"string"!=typeof g.scope)throw fv('"response" body "scope" property must be a string',gy,{body:g});if(void 0!==g.id_token){fD(g.id_token,'"response" body "id_token" property',gy,{body:g});let f=["aud","exp","iat","iss","sub"];!0===b.require_auth_time&&f.push("auth_time"),void 0!==b.default_max_age&&(fC(b.default_max_age,!0,'"client.default_max_age"'),f.push("auth_time")),d?.length&&f.push(...d);let{claims:h,jwt:i}=await gK(g.id_token,gL.bind(void 0,b.id_token_signed_response_alg,a.id_token_signing_alg_values_supported,"RS256"),fI(b),fJ(b),e).then(gm.bind(void 0,f)).then(gh.bind(void 0,a)).then(gf.bind(void 0,b.client_id));if(Array.isArray(h.aud)&&1!==h.aud.length){if(void 0===h.azp)throw fv('ID Token "aud" (audience) claim includes additional untrusted audiences',gE,{claims:h,claim:"aud"});if(h.azp!==b.client_id)throw fv('unexpected ID Token "azp" (authorized party) claim value',gE,{expected:b.client_id,claims:h,claim:"azp"})}void 0!==h.auth_time&&fC(h.auth_time,!0,'ID Token "auth_time" (authentication time)',gy,{claims:h}),ga.set(c,i),f9.set(g,h)}if(f?.[g.token_type]!==void 0)f[g.token_type](c,g);else if("dpop"!==g.token_type&&"bearer"!==g.token_type)throw new ft("unsupported `token_type` value",{cause:{body:g}});return g}function gd(a){let b;if(b=function(a){if(!ff(a,Response))throw fi('"response" must be an instance of Response',fh);let b=a.headers.get("www-authenticate");if(null===b)return;let c=[],d=b;for(;d;){let a,b=d.match(fX),e=b?.["1"].toLowerCase();if(d=b?.["2"],!e)return;let f={};for(;d;){let c,e;if(b=d.match(fY)){if([,c,e,d]=b,e.includes("\\"))try{e=JSON.parse(`"${e}"`)}catch{}f[c.toLowerCase()]=e;continue}if(b=d.match(fZ)){[,c,e,d]=b,f[c.toLowerCase()]=e;continue}if(b=d.match(f$)){if(Object.keys(f).length)break;[,a,d]=b;break}return}let g={scheme:e,parameters:f};a&&(g.token68=a),c.push(g)}if(c.length)return c}(a))throw new fV("server responded with a challenge in the WWW-Authenticate HTTP Header",{cause:b,response:a})}function ge(a,b){return void 0!==b.claims.aud?gf(a,b):b}function gf(a,b){if(Array.isArray(b.claims.aud)){if(!b.claims.aud.includes(a))throw fv('unexpected JWT "aud" (audience) claim value',gE,{expected:a,claims:b.claims,claim:"aud"})}else if(b.claims.aud!==a)throw fv('unexpected JWT "aud" (audience) claim value',gE,{expected:a,claims:b.claims,claim:"aud"});return b}function gg(a,b){return void 0!==b.claims.iss?gh(a,b):b}function gh(a,b){let c=a[gR]?.(b)??a.issuer;if(b.claims.iss!==c)throw fv('unexpected JWT "iss" (issuer) claim value',gE,{expected:c,claims:b.claims,claim:"iss"});return b}let gi=new WeakSet,gj=Symbol();async function gk(a,b,c,d,e,f,g){if(fL(a),fM(b),!gi.has(d))throw fi('"callbackParameters" must be an instance of URLSearchParams obtained from "validateAuthResponse()", or "validateJwtAuthResponse()',fg);fD(e,'"redirectUri"');let h=gM(d,"code");if(!h)throw fv('no authorization code in "callbackParameters"',gy);let i=new URLSearchParams(g?.additionalParameters);return i.set("redirect_uri",e),i.set("code",h),f!==gj&&(fD(f,'"codeVerifier"'),i.set("code_verifier",f)),f8(a,b,c,"authorization_code",i,g)}let gl={aud:"audience",c_hash:"code hash",client_id:"client id",exp:"expiration time",iat:"issued at",iss:"issuer",jti:"jwt id",nonce:"nonce",s_hash:"state hash",sub:"subject",ath:"access token hash",htm:"http method",htu:"http uri",cnf:"confirmation",auth_time:"authentication time"};function gm(a,b){for(let c of a)if(void 0===b.claims[c])throw fv(`JWT "${c}" (${gl[c]}) claim missing`,gy,{claims:b.claims});return b}let gn=Symbol(),go=Symbol();async function gp(a,b,c,d){return"string"==typeof d?.expectedNonce||"number"==typeof d?.maxAge||d?.requireIdToken?gq(a,b,c,d.expectedNonce,d.maxAge,d[fo],d.recognizedTokenTypes):gr(a,b,c,d?.[fo],d?.recognizedTokenTypes)}async function gq(a,b,c,d,e,f,g){let h=[];switch(d){case void 0:d=gn;break;case gn:break;default:fD(d,'"expectedNonce" argument'),h.push("nonce")}switch(e??=b.default_max_age){case void 0:e=go;break;case go:break;default:fC(e,!0,'"maxAge" argument'),h.push("auth_time")}let i=await gc(a,b,c,h,f,g);fD(i.id_token,'"response" body "id_token" property',gy,{body:i});let j=gb(i);if(e!==go){let a=fK()+fI(b),c=fJ(b);if(j.auth_time+e<a-c)throw fv("too much time has elapsed since the last End-User authentication",gD,{claims:j,now:a,tolerance:c,claim:"auth_time"})}if(d===gn){if(void 0!==j.nonce)throw fv('unexpected ID Token "nonce" claim value',gE,{expected:void 0,claims:j,claim:"nonce"})}else if(j.nonce!==d)throw fv('unexpected ID Token "nonce" claim value',gE,{expected:d,claims:j,claim:"nonce"});return i}async function gr(a,b,c,d,e){let f=await gc(a,b,c,void 0,d,e),g=gb(f);if(g){if(void 0!==b.default_max_age){fC(b.default_max_age,!0,'"client.default_max_age"');let a=fK()+fI(b),c=fJ(b);if(g.auth_time+b.default_max_age<a-c)throw fv("too much time has elapsed since the last End-User authentication",gD,{claims:g,now:a,tolerance:c,claim:"auth_time"})}if(void 0!==g.nonce)throw fv('unexpected ID Token "nonce" claim value',gE,{expected:void 0,claims:g,claim:"nonce"})}return f}let gs="OAUTH_WWW_AUTHENTICATE_CHALLENGE",gt="OAUTH_RESPONSE_BODY_ERROR",gu="OAUTH_UNSUPPORTED_OPERATION",gv="OAUTH_AUTHORIZATION_RESPONSE_ERROR",gw="OAUTH_JWT_USERINFO_EXPECTED",gx="OAUTH_PARSE_ERROR",gy="OAUTH_INVALID_RESPONSE",gz="OAUTH_RESPONSE_IS_NOT_JSON",gA="OAUTH_RESPONSE_IS_NOT_CONFORM",gB="OAUTH_HTTP_REQUEST_FORBIDDEN",gC="OAUTH_REQUEST_PROTOCOL_FORBIDDEN",gD="OAUTH_JWT_TIMESTAMP_CHECK_FAILED",gE="OAUTH_JWT_CLAIM_COMPARISON_FAILED",gF="OAUTH_JSON_ATTRIBUTE_COMPARISON_FAILED",gG="OAUTH_MISSING_SERVER_METADATA",gH="OAUTH_INVALID_SERVER_METADATA";function gI(a){if(a.bodyUsed)throw fi('"response" body has been used already',fg)}function gJ(a){let{algorithm:b}=a;if("number"!=typeof b.modulusLength||b.modulusLength<2048)throw new ft(`unsupported ${b.name} modulusLength`,{cause:a})}async function gK(a,b,c,d,e){let f,g,{0:h,1:i,length:j}=a.split(".");if(5===j)if(void 0!==e)a=await e(a),{0:h,1:i,length:j}=a.split(".");else throw new ft("JWE decryption is not configured",{cause:a});if(3!==j)throw fv("Invalid JWT",gy,a);try{f=JSON.parse(fr(fs(h)))}catch(a){throw fv("failed to parse JWT Header body as base64url encoded JSON",gx,a)}if(!fw(f))throw fv("JWT Header must be a top level object",gy,a);if(b(f),void 0!==f.crit)throw new ft('no JWT "crit" header parameter extensions are supported',{cause:{header:f}});try{g=JSON.parse(fr(fs(i)))}catch(a){throw fv("failed to parse JWT Payload body as base64url encoded JSON",gx,a)}if(!fw(g))throw fv("JWT Payload must be a top level object",gy,a);let k=fK()+c;if(void 0!==g.exp){if("number"!=typeof g.exp)throw fv('unexpected JWT "exp" (expiration time) claim type',gy,{claims:g});if(g.exp<=k-d)throw fv('unexpected JWT "exp" (expiration time) claim value, expiration is past current timestamp',gD,{claims:g,now:k,tolerance:d,claim:"exp"})}if(void 0!==g.iat&&"number"!=typeof g.iat)throw fv('unexpected JWT "iat" (issued at) claim type',gy,{claims:g});if(void 0!==g.iss&&"string"!=typeof g.iss)throw fv('unexpected JWT "iss" (issuer) claim type',gy,{claims:g});if(void 0!==g.nbf){if("number"!=typeof g.nbf)throw fv('unexpected JWT "nbf" (not before) claim type',gy,{claims:g});if(g.nbf>k+d)throw fv('unexpected JWT "nbf" (not before) claim value',gD,{claims:g,now:k,tolerance:d,claim:"nbf"})}if(void 0!==g.aud&&"string"!=typeof g.aud&&!Array.isArray(g.aud))throw fv('unexpected JWT "aud" (audience) claim type',gy,{claims:g});return{header:f,claims:g,jwt:a}}function gL(a,b,c,d){if(void 0!==a){if("string"==typeof a?d.alg!==a:!a.includes(d.alg))throw fv('unexpected JWT "alg" header parameter',gy,{header:d,expected:a,reason:"client configuration"});return}if(Array.isArray(b)){if(!b.includes(d.alg))throw fv('unexpected JWT "alg" header parameter',gy,{header:d,expected:b,reason:"authorization server metadata"});return}if(void 0!==c){if("string"==typeof c?d.alg!==c:"function"==typeof c?!c(d.alg):!c.includes(d.alg))throw fv('unexpected JWT "alg" header parameter',gy,{header:d,expected:c,reason:"default value"});return}throw fv('missing client or server configuration to verify used JWT "alg" header parameter',void 0,{client:a,issuer:b,fallback:c})}function gM(a,b){let{0:c,length:d}=a.getAll(b);if(d>1)throw fv(`"${b}" parameter must be provided only once`,gy);return c}let gN=Symbol(),gO=Symbol();async function gP(a,b=fF){let c;try{c=await a.json()}catch(c){throw b(a),fv('failed to parse "response" body as JSON',gx,c)}if(!fw(c))throw fv('"response" body must be a top level object',gy,{body:c});return c}let gQ=Symbol(),gR=Symbol();async function gS(a,b,c){let{cookies:d,logger:e}=c,f=d[a],g=new Date;g.setTime(g.getTime()+9e5),e.debug(`CREATE_${a.toUpperCase()}`,{name:f.name,payload:b,COOKIE_TTL:900,expires:g});let h=await dM({...c.jwt,maxAge:900,token:{value:b},salt:f.name}),i={...f.options,expires:g};return{name:f.name,value:h,options:i}}async function gT(a,b,c){try{let{logger:d,cookies:e,jwt:f}=c;if(d.debug(`PARSE_${a.toUpperCase()}`,{cookie:b}),!b)throw new bB(`${a} cookie was missing`);let g=await dN({...f,token:b,salt:e[a].name});if(g?.value)return g.value;throw Error("Invalid cookie")}catch(b){throw new bB(`${a} value could not be parsed`,{cause:b})}}function gU(a,b,c){let{logger:d,cookies:e}=b,f=e[a];d.debug(`CLEAR_${a.toUpperCase()}`,{cookie:f}),c.push({name:f.name,value:"",options:{...e[a].options,maxAge:0}})}function gV(a,b){return async function(c,d,e){let{provider:f,logger:g}=e;if(!f?.checks?.includes(a))return;let h=c?.[e.cookies[b].name];g.debug(`USE_${b.toUpperCase()}`,{value:h});let i=await gT(b,h,e);return gU(b,e,d),i}}let gW={async create(a){let b=fG(),c=await fH(b);return{cookie:await gS("pkceCodeVerifier",b,a),value:c}},use:gV("pkce","pkceCodeVerifier")},gX="encodedState",gY={async create(a,b){let{provider:c}=a;if(!c.checks.includes("state")){if(b)throw new bB("State data was provided but the provider is not configured to use state");return}let d={origin:b,random:fG()},e=await dM({secret:a.jwt.secret,token:d,salt:gX,maxAge:900});return{cookie:await gS("state",e,a),value:e}},use:gV("state","state"),async decode(a,b){try{b.logger.debug("DECODE_STATE",{state:a});let c=await dN({secret:b.jwt.secret,token:a,salt:gX});if(c)return c;throw Error("Invalid state")}catch(a){throw new bB("State could not be decoded",{cause:a})}}},gZ={async create(a){if(!a.provider.checks.includes("nonce"))return;let b=fG();return{cookie:await gS("nonce",b,a),value:b}},use:gV("nonce","nonce")},g$="encodedWebauthnChallenge",g_={create:async(a,b,c)=>({cookie:await gS("webauthnChallenge",await dM({secret:a.jwt.secret,token:{challenge:b,registerData:c},salt:g$,maxAge:900}),a)}),async use(a,b,c){let d=b?.[a.cookies.webauthnChallenge.name],e=await gT("webauthnChallenge",d,a),f=await dN({secret:a.jwt.secret,token:e,salt:g$});if(gU("webauthnChallenge",a,c),!f)throw new bB("WebAuthn challenge was missing");return f}};function g0(a){return encodeURIComponent(a).replace(/%20/g,"+")}async function g1(a,b,c){let d,e,f,{logger:g,provider:h}=c,{token:i,userinfo:j}=h;if(i?.url&&"authjs.dev"!==i.url.host||j?.url&&"authjs.dev"!==j.url.host)d={issuer:h.issuer??"https://authjs.dev",token_endpoint:i?.url.toString(),userinfo_endpoint:j?.url.toString()};else{let a=new URL(h.issuer),b=await fB(a,{[fj]:!0,[fm]:h[d6]});if(!(d=await fE(a,b)).token_endpoint)throw TypeError("TODO: Authorization server did not provide a token endpoint.");if(!d.userinfo_endpoint)throw TypeError("TODO: Authorization server did not provide a userinfo endpoint.")}let k={client_id:h.clientId,...h.client};switch(k.token_endpoint_auth_method){case void 0:case"client_secret_basic":e=(a,b,c,d)=>{d.set("authorization",function(a,b){let c=g0(a),d=g0(b),e=btoa(`${c}:${d}`);return`Basic ${e}`}(h.clientId,h.clientSecret))};break;case"client_secret_post":var l;fD(l=h.clientSecret,'"clientSecret"'),e=(a,b,c,d)=>{c.set("client_id",b.client_id),c.set("client_secret",l)};break;case"client_secret_jwt":e=function(a,b){let c;fD(a,'"clientSecret"');let d=void 0;return async(b,e,f,g)=>{c||=await crypto.subtle.importKey("raw",fr(a),{hash:"SHA-256",name:"HMAC"},!1,["sign"]);let h={alg:"HS256"},i=fN(b,e);d?.(h,i);let j=`${fs(fr(JSON.stringify(h)))}.${fs(fr(JSON.stringify(i)))}`,k=await crypto.subtle.sign(c.algorithm,c,fr(j));f.set("client_id",e.client_id),f.set("client_assertion_type","urn:ietf:params:oauth:client-assertion-type:jwt-bearer"),f.set("client_assertion",`${j}.${fs(new Uint8Array(k))}`)}}(h.clientSecret);break;case"private_key_jwt":e=function(a,b){let{key:c,kid:d}=a instanceof CryptoKey?{key:a}:a?.key instanceof CryptoKey?(void 0!==a.kid&&fD(a.kid,'"kid"'),{key:a.key,kid:a.kid}):{};var e='"clientPrivateKey.key"';if(!(c instanceof CryptoKey))throw fi(`${e} must be a CryptoKey`,fh);if("private"!==c.type)throw fi(`${e} must be a private CryptoKey`,fg);return async(a,e,f,g)=>{let h={alg:function(a){switch(a.algorithm.name){case"RSA-PSS":switch(a.algorithm.hash.name){case"SHA-256":return"PS256";case"SHA-384":return"PS384";case"SHA-512":return"PS512";default:throw new ft("unsupported RsaHashedKeyAlgorithm hash name",{cause:a})}case"RSASSA-PKCS1-v1_5":switch(a.algorithm.hash.name){case"SHA-256":return"RS256";case"SHA-384":return"RS384";case"SHA-512":return"RS512";default:throw new ft("unsupported RsaHashedKeyAlgorithm hash name",{cause:a})}case"ECDSA":switch(a.algorithm.namedCurve){case"P-256":return"ES256";case"P-384":return"ES384";case"P-521":return"ES512";default:throw new ft("unsupported EcKeyAlgorithm namedCurve",{cause:a})}case"Ed25519":case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":return a.algorithm.name;case"EdDSA":return"Ed25519";default:throw new ft("unsupported CryptoKey algorithm name",{cause:a})}}(c),kid:d},i=fN(a,e);b?.[fn]?.(h,i),f.set("client_id",e.client_id),f.set("client_assertion_type","urn:ietf:params:oauth:client-assertion-type:jwt-bearer"),f.set("client_assertion",await fO(h,i,c))}}(h.token.clientPrivateKey,{[fn](a,b){b.aud=[d.issuer,d.token_endpoint]}});break;case"none":e=(a,b,c,d)=>{c.set("client_id",b.client_id)};break;default:throw Error("unsupported client authentication method")}let m=[],n=await gY.use(b,m,c);try{f=function(a,b,c,d){var e;if(fL(a),fM(b),c instanceof URL&&(c=c.searchParams),!(c instanceof URLSearchParams))throw fi('"parameters" must be an instance of URLSearchParams, or URL',fh);if(gM(c,"response"))throw fv('"parameters" contains a JARM response, use validateJwtAuthResponse() instead of validateAuthResponse()',gy,{parameters:c});let f=gM(c,"iss"),g=gM(c,"state");if(!f&&a.authorization_response_iss_parameter_supported)throw fv('response parameter "iss" (issuer) missing',gy,{parameters:c});if(f&&f!==a.issuer)throw fv('unexpected "iss" (issuer) response parameter value',gy,{expected:a.issuer,parameters:c});switch(d){case void 0:case gO:if(void 0!==g)throw fv('unexpected "state" response parameter encountered',gy,{expected:void 0,parameters:c});break;case gN:break;default:if(fD(d,'"expectedState" argument'),g!==d)throw fv(void 0===g?'response parameter "state" missing':'unexpected "state" response parameter value',gy,{expected:d,parameters:c})}if(gM(c,"error"))throw new fU("authorization response from the server is an error",{cause:c});let h=gM(c,"id_token"),i=gM(c,"token");if(void 0!==h||void 0!==i)throw new ft("implicit and hybrid flows are not supported");return e=new URLSearchParams(c),gi.add(e),e}(d,k,new URLSearchParams(a),h.checks.includes("state")?n:gN)}catch(a){if(a instanceof fU){let b={providerId:h.id,...Object.fromEntries(a.cause.entries())};throw g.debug("OAuthCallbackError",b),new bI("OAuth Provider returned an error",b)}throw a}let o=await gW.use(b,m,c),p=h.callbackUrl;!c.isOnRedirectProxy&&h.redirectProxyUrl&&(p=h.redirectProxyUrl);let q=await gk(d,k,e,f,p,o??"decoy",{[fj]:!0,[fm]:(...a)=>(h.checks.includes("pkce")||a[1].body.delete("code_verifier"),(h[d6]??fetch)(...a))});h.token?.conform&&(q=await h.token.conform(q.clone())??q);let r={},s="oidc"===h.type;if(h[d7])switch(h.id){case"microsoft-entra-id":case"azure-ad":{let a=await q.clone().json();if(a.error){let b={providerId:h.id,...a};throw new bI(`OAuth Provider returned an error: ${a.error}`,b)}let{tid:b}=function(a){let b,c;if("string"!=typeof a)throw new cp("JWTs must use Compact JWS serialization, JWT must be a string");let{1:d,length:e}=a.split(".");if(5===e)throw new cp("Only JWTs using Compact JWS serialization can be decoded");if(3!==e)throw new cp("Invalid JWT");if(!d)throw new cp("JWTs must contain a payload");try{b=cg(d)}catch{throw new cp("Failed to base64url decode the payload")}try{c=JSON.parse(cb.decode(b))}catch{throw new cp("Failed to parse the decoded payload as JSON")}if(!cw(c))throw new cp("Invalid JWT Claims Set");return c}(a.id_token);if("string"==typeof b){let a=d.issuer?.match(/microsoftonline\.com\/(\w+)\/v2\.0/)?.[1]??"common",c=new URL(d.issuer.replace(a,b)),e=await fB(c,{[fm]:h[d6]});d=await fE(c,e)}}}let t=await gp(d,k,q,{expectedNonce:await gZ.use(b,m,c),requireIdToken:s});if(s){let b=gb(t);if(r=b,h[d7]&&"apple"===h.id)try{r.user=JSON.parse(a?.user)}catch{}if(!1===h.idToken){let a=await f3(d,k,t.access_token,{[fm]:h[d6],[fj]:!0});r=await f6(d,k,b.sub,a)}}else if(j?.request){let a=await j.request({tokens:t,provider:h});a instanceof Object&&(r=a)}else if(j?.url){let a=await f3(d,k,t.access_token,{[fm]:h[d6],[fj]:!0});r=await a.json()}else throw TypeError("No userinfo endpoint configured");return t.expires_in&&(t.expires_at=Math.floor(Date.now()/1e3)+Number(t.expires_in)),{...await g2(r,h,t,g),profile:r,cookies:m}}async function g2(a,b,c,d){try{let d=await b.profile(a,c);return{user:{...d,id:crypto.randomUUID(),email:d.email?.toLowerCase()},account:{...c,provider:b.id,type:b.type,providerAccountId:d.id??crypto.randomUUID()}}}catch(c){d.debug("getProfile error details",a),d.error(new bJ(c,{provider:b.id}))}}var g3=c(356).Buffer;async function g4(a,b,c,d){let e=await g9(a,b,c),{cookie:f}=await g_.create(a,e.challenge,c);return{status:200,cookies:[...d??[],f],body:{action:"register",options:e},headers:{"Content-Type":"application/json"}}}async function g5(a,b,c,d){let e=await g8(a,b,c),{cookie:f}=await g_.create(a,e.challenge);return{status:200,cookies:[...d??[],f],body:{action:"authenticate",options:e},headers:{"Content-Type":"application/json"}}}async function g6(a,b,c){let d,{adapter:e,provider:f}=a,g=b.body&&"string"==typeof b.body.data?JSON.parse(b.body.data):void 0;if(!g||"object"!=typeof g||!("id"in g)||"string"!=typeof g.id)throw new br("Invalid WebAuthn Authentication response");let h=hc(hb(g.id)),i=await e.getAuthenticator(h);if(!i)throw new br(`WebAuthn authenticator not found in database: ${JSON.stringify({credentialID:h})}`);let{challenge:j}=await g_.use(a,b.cookies,c);try{var k;let c=f.getRelayingParty(a,b);d=await f.simpleWebAuthn.verifyAuthenticationResponse({...f.verifyAuthenticationOptions,expectedChallenge:j,response:g,authenticator:{...k=i,credentialDeviceType:k.credentialDeviceType,transports:hd(k.transports),credentialID:hb(k.credentialID),credentialPublicKey:hb(k.credentialPublicKey)},expectedOrigin:c.origin,expectedRPID:c.id})}catch(a){throw new bX(a)}let{verified:l,authenticationInfo:m}=d;if(!l)throw new bX("WebAuthn authentication response could not be verified");try{let{newCounter:a}=m;await e.updateAuthenticatorCounter(i.credentialID,a)}catch(a){throw new bt(`Failed to update authenticator counter. This may cause future authentication attempts to fail. ${JSON.stringify({credentialID:h,oldCounter:i.counter,newCounter:m.newCounter})}`,a)}let n=await e.getAccount(i.providerAccountId,f.id);if(!n)throw new br(`WebAuthn account not found in database: ${JSON.stringify({credentialID:h,providerAccountId:i.providerAccountId})}`);let o=await e.getUser(n.userId);if(!o)throw new br(`WebAuthn user not found in database: ${JSON.stringify({credentialID:h,providerAccountId:i.providerAccountId,userID:n.userId})}`);return{account:n,user:o}}async function g7(a,b,c){var d;let e,{provider:f}=a,g=b.body&&"string"==typeof b.body.data?JSON.parse(b.body.data):void 0;if(!g||"object"!=typeof g||!("id"in g)||"string"!=typeof g.id)throw new br("Invalid WebAuthn Registration response");let{challenge:h,registerData:i}=await g_.use(a,b.cookies,c);if(!i)throw new br("Missing user registration data in WebAuthn challenge cookie");try{let c=f.getRelayingParty(a,b);e=await f.simpleWebAuthn.verifyRegistrationResponse({...f.verifyRegistrationOptions,expectedChallenge:h,response:g,expectedOrigin:c.origin,expectedRPID:c.id})}catch(a){throw new bX(a)}if(!e.verified||!e.registrationInfo)throw new bX("WebAuthn registration response could not be verified");let j={providerAccountId:hc(e.registrationInfo.credentialID),provider:a.provider.id,type:f.type},k={providerAccountId:j.providerAccountId,counter:e.registrationInfo.counter,credentialID:hc(e.registrationInfo.credentialID),credentialPublicKey:hc(e.registrationInfo.credentialPublicKey),credentialBackedUp:e.registrationInfo.credentialBackedUp,credentialDeviceType:e.registrationInfo.credentialDeviceType,transports:(d=g.response.transports,d?.join(","))};return{user:i,account:j,authenticator:k}}async function g8(a,b,c){let{provider:d,adapter:e}=a,f=c&&c.id?await e.listAuthenticatorsByUserId(c.id):null,g=d.getRelayingParty(a,b);return await d.simpleWebAuthn.generateAuthenticationOptions({...d.authenticationOptions,rpID:g.id,allowCredentials:f?.map(a=>({id:hb(a.credentialID),type:"public-key",transports:hd(a.transports)}))})}async function g9(a,b,c){let{provider:d,adapter:e}=a,f=c.id?await e.listAuthenticatorsByUserId(c.id):null,g=d_(32),h=d.getRelayingParty(a,b);return await d.simpleWebAuthn.generateRegistrationOptions({...d.registrationOptions,userID:g,userName:c.email,userDisplayName:c.name??void 0,rpID:h.id,rpName:h.name,excludeCredentials:f?.map(a=>({id:hb(a.credentialID),type:"public-key",transports:hd(a.transports)}))})}function ha(a){let{provider:b,adapter:c}=a;if(!c)throw new bD("An adapter is required for the WebAuthn provider");if(!b||"webauthn"!==b.type)throw new bQ("Provider must be WebAuthn");return{...a,provider:b,adapter:c}}function hb(a){return new Uint8Array(g3.from(a,"base64"))}function hc(a){return g3.from(a).toString("base64")}function hd(a){return a?a.split(","):void 0}async function he(a,b,c,d){if(!b.provider)throw new bQ("Callback route called without provider");let{query:e,body:f,method:g,headers:h}=a,{provider:i,adapter:j,url:k,callbackUrl:l,pages:m,jwt:n,events:o,callbacks:p,session:{strategy:q,maxAge:r},logger:s}=b,t="jwt"===q;try{if("oauth"===i.type||"oidc"===i.type){let g,h=i.authorization?.url.searchParams.get("response_mode")==="form_post"?f:e;if(b.isOnRedirectProxy&&h?.state){let a=await gY.decode(h.state,b);if(a?.origin&&new URL(a.origin).origin!==b.url.origin){let b=`${a.origin}?${new URLSearchParams(h)}`;return s.debug("Proxy redirecting to",b),{redirect:b,cookies:d}}}let q=await g1(h,a.cookies,b);q.cookies.length&&d.push(...q.cookies),s.debug("authorization result",q);let{user:u,account:v,profile:w}=q;if(!u||!v||!w)return{redirect:`${k}/signin`,cookies:d};if(j){let{getUserByAccount:a}=j;g=await a({providerAccountId:v.providerAccountId,provider:i.id})}let x=await hf({user:g??u,account:v,profile:w},b);if(x)return{redirect:x,cookies:d};let{user:y,session:z,isNewUser:A}=await fe(c.value,u,v,b);if(t){let a={name:y.name,email:y.email,picture:y.image,sub:y.id?.toString()},e=await p.jwt({token:a,user:y,account:v,profile:w,isNewUser:A,trigger:A?"signUp":"signIn"});if(null===e)d.push(...c.clean());else{let a=b.cookies.sessionToken.name,f=await n.encode({...n,token:e,salt:a}),g=new Date;g.setTime(g.getTime()+1e3*r);let h=c.chunk(f,{expires:g});d.push(...h)}}else d.push({name:b.cookies.sessionToken.name,value:z.sessionToken,options:{...b.cookies.sessionToken.options,expires:z.expires}});if(await o.signIn?.({user:y,account:v,profile:w,isNewUser:A}),A&&m.newUser)return{redirect:`${m.newUser}${m.newUser.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:l})}`,cookies:d};return{redirect:l,cookies:d}}if("email"===i.type){let a=e?.token,f=e?.email;if(!a){let b=TypeError("Missing token. The sign-in URL was manually opened without token or the link was not sent correctly in the email.",{cause:{hasToken:!!a}});throw b.name="Configuration",b}let g=i.secret??b.secret,h=await j.useVerificationToken({identifier:f,token:await d$(`${a}${g}`)}),k=!!h,q=k&&h.expires.valueOf()<Date.now();if(!k||q||f&&h.identifier!==f)throw new bS({hasInvite:k,expired:q});let{identifier:s}=h,u=await j.getUserByEmail(s)??{id:crypto.randomUUID(),email:s,emailVerified:null},v={providerAccountId:u.email,userId:u.id,type:"email",provider:i.id},w=await hf({user:u,account:v},b);if(w)return{redirect:w,cookies:d};let{user:x,session:y,isNewUser:z}=await fe(c.value,u,v,b);if(t){let a={name:x.name,email:x.email,picture:x.image,sub:x.id?.toString()},e=await p.jwt({token:a,user:x,account:v,isNewUser:z,trigger:z?"signUp":"signIn"});if(null===e)d.push(...c.clean());else{let a=b.cookies.sessionToken.name,f=await n.encode({...n,token:e,salt:a}),g=new Date;g.setTime(g.getTime()+1e3*r);let h=c.chunk(f,{expires:g});d.push(...h)}}else d.push({name:b.cookies.sessionToken.name,value:y.sessionToken,options:{...b.cookies.sessionToken.options,expires:y.expires}});if(await o.signIn?.({user:x,account:v,isNewUser:z}),z&&m.newUser)return{redirect:`${m.newUser}${m.newUser.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:l})}`,cookies:d};return{redirect:l,cookies:d}}if("credentials"===i.type&&"POST"===g){let a=f??{};Object.entries(e??{}).forEach(([a,b])=>k.searchParams.set(a,b));let j=await i.authorize(a,new Request(k,{headers:h,method:g,body:JSON.stringify(f)}));if(j)j.id=j.id?.toString()??crypto.randomUUID();else throw new bz;let m={providerAccountId:j.id,type:"credentials",provider:i.id},q=await hf({user:j,account:m,credentials:a},b);if(q)return{redirect:q,cookies:d};let s={name:j.name,email:j.email,picture:j.image,sub:j.id},t=await p.jwt({token:s,user:j,account:m,isNewUser:!1,trigger:"signIn"});if(null===t)d.push(...c.clean());else{let a=b.cookies.sessionToken.name,e=await n.encode({...n,token:t,salt:a}),f=new Date;f.setTime(f.getTime()+1e3*r);let g=c.chunk(e,{expires:f});d.push(...g)}return await o.signIn?.({user:j,account:m}),{redirect:l,cookies:d}}else if("webauthn"===i.type&&"POST"===g){let e,f,g,h=a.body?.action;if("string"!=typeof h||"authenticate"!==h&&"register"!==h)throw new br("Invalid action parameter");let i=ha(b);switch(h){case"authenticate":{let b=await g6(i,a,d);e=b.user,f=b.account;break}case"register":{let c=await g7(b,a,d);e=c.user,f=c.account,g=c.authenticator}}await hf({user:e,account:f},b);let{user:j,isNewUser:k,session:q,account:s}=await fe(c.value,e,f,b);if(!s)throw new br("Error creating or finding account");if(g&&j.id&&await i.adapter.createAuthenticator({...g,userId:j.id}),t){let a={name:j.name,email:j.email,picture:j.image,sub:j.id?.toString()},e=await p.jwt({token:a,user:j,account:s,isNewUser:k,trigger:k?"signUp":"signIn"});if(null===e)d.push(...c.clean());else{let a=b.cookies.sessionToken.name,f=await n.encode({...n,token:e,salt:a}),g=new Date;g.setTime(g.getTime()+1e3*r);let h=c.chunk(f,{expires:g});d.push(...h)}}else d.push({name:b.cookies.sessionToken.name,value:q.sessionToken,options:{...b.cookies.sessionToken.options,expires:q.expires}});if(await o.signIn?.({user:j,account:s,isNewUser:k}),k&&m.newUser)return{redirect:`${m.newUser}${m.newUser.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:l})}`,cookies:d};return{redirect:l,cookies:d}}throw new bQ(`Callback for provider type (${i.type}) is not supported`)}catch(b){if(b instanceof br)throw b;let a=new bv(b,{provider:i.id});throw s.debug("callback route error details",{method:g,query:e,body:f}),a}}async function hf(a,b){let c,{signIn:d,redirect:e}=b.callbacks;try{c=await d(a)}catch(a){if(a instanceof br)throw a;throw new bu(a)}if(!c)throw new bu("AccessDenied");if("string"==typeof c)return await e({url:c,baseUrl:b.url.origin})}async function hg(a,b,c,d,e){let{adapter:f,jwt:g,events:h,callbacks:i,logger:j,session:{strategy:k,maxAge:l}}=a,m={body:null,headers:{"Content-Type":"application/json",...!d&&{"Cache-Control":"private, no-cache, no-store",Expires:"0",Pragma:"no-cache"}},cookies:c},n=b.value;if(!n)return m;if("jwt"===k){try{let c=a.cookies.sessionToken.name,f=await g.decode({...g,token:n,salt:c});if(!f)throw Error("Invalid JWT");let j=await i.jwt({token:f,...d&&{trigger:"update"},session:e}),k=fd(l);if(null!==j){let a={user:{name:j.name,email:j.email,image:j.picture},expires:k.toISOString()},d=await i.session({session:a,token:j});m.body=d;let e=await g.encode({...g,token:j,salt:c}),f=b.chunk(e,{expires:k});m.cookies?.push(...f),await h.session?.({session:d,token:j})}else m.cookies?.push(...b.clean())}catch(a){j.error(new bC(a)),m.cookies?.push(...b.clean())}return m}try{let{getSessionAndUser:c,deleteSession:g,updateSession:j}=f,k=await c(n);if(k&&k.session.expires.valueOf()<Date.now()&&(await g(n),k=null),k){let{user:b,session:c}=k,f=a.session.updateAge,g=c.expires.valueOf()-1e3*l+1e3*f,o=fd(l);g<=Date.now()&&await j({sessionToken:n,expires:o});let p=await i.session({session:{...c,user:b},user:b,newSession:e,...d?{trigger:"update"}:{}});m.body=p,m.cookies?.push({name:a.cookies.sessionToken.name,value:n,options:{...a.cookies.sessionToken.options,expires:o}}),await h.session?.({session:p})}else n&&m.cookies?.push(...b.clean())}catch(a){j.error(new bK(a))}return m}async function hh(a,b){let c,d,{logger:e,provider:f}=b,g=f.authorization?.url;if(!g||"authjs.dev"===g.host){let a=new URL(f.issuer),b=await fB(a,{[fm]:f[d6],[fj]:!0}),c=await fE(a,b).catch(b=>{if(!(b instanceof TypeError)||"Invalid URL"!==b.message)throw b;throw TypeError(`Discovery request responded with an invalid issuer. expected: ${a}`)});if(!c.authorization_endpoint)throw TypeError("Authorization server did not provide an authorization endpoint.");g=new URL(c.authorization_endpoint)}let h=g.searchParams,i=f.callbackUrl;!b.isOnRedirectProxy&&f.redirectProxyUrl&&(i=f.redirectProxyUrl,d=f.callbackUrl,e.debug("using redirect proxy",{redirect_uri:i,data:d}));let j=Object.assign({response_type:"code",client_id:f.clientId,redirect_uri:i,...f.authorization?.params},Object.fromEntries(f.authorization?.url.searchParams??[]),a);for(let a in j)h.set(a,j[a]);let k=[];f.authorization?.url.searchParams.get("response_mode")==="form_post"&&(b.cookies.state.options.sameSite="none",b.cookies.state.options.secure=!0,b.cookies.nonce.options.sameSite="none",b.cookies.nonce.options.secure=!0);let l=await gY.create(b,d);if(l&&(h.set("state",l.value),k.push(l.cookie)),f.checks?.includes("pkce"))if(c&&!c.code_challenge_methods_supported?.includes("S256"))"oidc"===f.type&&(f.checks=["nonce"]);else{let{value:a,cookie:c}=await gW.create(b);h.set("code_challenge",a),h.set("code_challenge_method","S256"),k.push(c)}let m=await gZ.create(b);return m&&(h.set("nonce",m.value),k.push(m.cookie)),"oidc"!==f.type||g.searchParams.has("scope")||g.searchParams.set("scope","openid profile email"),e.debug("authorization url is ready",{url:g,cookies:k,provider:f}),{redirect:g.toString(),cookies:k}}async function hi(a,b){let c,{body:d}=a,{provider:e,callbacks:f,adapter:g}=b,h=(e.normalizeIdentifier??function(a){if(!a)throw Error("Missing email from request body.");let[b,c]=a.toLowerCase().trim().split("@");return c=c.split(",")[0],`${b}@${c}`})(d?.email),i={id:crypto.randomUUID(),email:h,emailVerified:null},j=await g.getUserByEmail(h)??i,k={providerAccountId:h,userId:j.id,type:"email",provider:e.id};try{c=await f.signIn({user:j,account:k,email:{verificationRequest:!0}})}catch(a){throw new bu(a)}if(!c)throw new bu("AccessDenied");if("string"==typeof c)return{redirect:await f.redirect({url:c,baseUrl:b.url.origin})};let{callbackUrl:l,theme:m}=b,n=await e.generateVerificationToken?.()??d_(32),o=new Date(Date.now()+(e.maxAge??86400)*1e3),p=e.secret??b.secret,q=new URL(b.basePath,b.url.origin),r=e.sendVerificationRequest({identifier:h,token:n,expires:o,url:`${q}/callback/${e.id}?${new URLSearchParams({callbackUrl:l,token:n,email:h})}`,provider:e,theme:m,request:new Request(a.url,{headers:a.headers,method:a.method,body:"POST"===a.method?JSON.stringify(a.body??{}):void 0})}),s=g.createVerificationToken?.({identifier:h,token:await d$(`${n}${p}`),expires:o});return await Promise.all([r,s]),{redirect:`${q}/verify-request?${new URLSearchParams({provider:e.id,type:e.type})}`}}async function hj(a,b,c){let d=`${c.url.origin}${c.basePath}/signin`;if(!c.provider)return{redirect:d,cookies:b};switch(c.provider.type){case"oauth":case"oidc":{let{redirect:d,cookies:e}=await hh(a.query,c);return e&&b.push(...e),{redirect:d,cookies:b}}case"email":return{...await hi(a,c),cookies:b};default:return{redirect:d,cookies:b}}}async function hk(a,b,c){let{jwt:d,events:e,callbackUrl:f,logger:g,session:h}=c,i=b.value;if(!i)return{redirect:f,cookies:a};try{if("jwt"===h.strategy){let a=c.cookies.sessionToken.name,b=await d.decode({...d,token:i,salt:a});await e.signOut?.({token:b})}else{let a=await c.adapter?.deleteSession(i);await e.signOut?.({session:a})}}catch(a){g.error(new bN(a))}return a.push(...b.clean()),{redirect:f,cookies:a}}async function hl(a,b){let{adapter:c,jwt:d,session:{strategy:e}}=a,f=b.value;if(!f)return null;if("jwt"===e){let b=a.cookies.sessionToken.name,c=await d.decode({...d,token:f,salt:b});if(c&&c.sub)return{id:c.sub,name:c.name,email:c.email,image:c.picture}}else{let a=await c?.getSessionAndUser(f);if(a)return a.user}return null}async function hm(a,b,c,d){let e=ha(b),{provider:f}=e,{action:g}=a.query??{};if("register"!==g&&"authenticate"!==g&&void 0!==g)return{status:400,body:{error:"Invalid action"},cookies:d,headers:{"Content-Type":"application/json"}};let h=await hl(b,c),i=h?{user:h,exists:!0}:await f.getUserInfo(b,a),j=i?.user;switch(function(a,b,c){let{user:d,exists:e=!1}=c??{};switch(a){case"authenticate":return"authenticate";case"register":if(d&&b===e)return"register";break;case void 0:if(!b)if(!d)return"authenticate";else if(e)return"authenticate";else return"register"}return null}(g,!!h,i)){case"authenticate":return g5(e,a,j,d);case"register":if("string"==typeof j?.email)return g4(e,a,j,d);break;default:return{status:400,body:{error:"Invalid request"},cookies:d,headers:{"Content-Type":"application/json"}}}}async function hn(a,b){let{action:c,providerId:d,error:e,method:f}=a,g=b.skipCSRFCheck===d4,{options:h,cookies:i}=await ed({authOptions:b,action:c,providerId:d,url:a.url,callbackUrl:a.body?.callbackUrl??a.query?.callbackUrl,csrfToken:a.body?.csrfToken,cookies:a.cookies,isPost:"POST"===f,csrfDisabled:g}),j=new bq(h.cookies.sessionToken,a.cookies,h.logger);if("GET"===f){let b=fc({...h,query:a.query,cookies:i});switch(c){case"callback":return await he(a,h,j,i);case"csrf":return b.csrf(g,h,i);case"error":return b.error(e);case"providers":return b.providers(h.providers);case"session":return await hg(h,j,i);case"signin":return b.signin(d,e);case"signout":return b.signout();case"verify-request":return b.verifyRequest();case"webauthn-options":return await hm(a,h,j,i)}}else{let{csrfTokenVerified:b}=h;switch(c){case"callback":return"credentials"===h.provider.type&&d1(c,b),await he(a,h,j,i);case"session":return d1(c,b),await hg(h,j,i,!0,a.body?.data);case"signin":return d1(c,b),await hj(a,i,h);case"signout":return d1(c,b),await hk(i,j,h)}}throw new bO(`Cannot handle action: ${c}`)}function ho(a,b,c,d,e){let f,g=e?.basePath,h=d.AUTH_URL??d.NEXTAUTH_URL;if(h)f=new URL(h),g&&"/"!==g&&"/"!==f.pathname&&(f.pathname!==g&&dT(e).warn("env-url-basepath-mismatch"),f.pathname="/");else{let a=c.get("x-forwarded-host")??c.get("host"),d=c.get("x-forwarded-proto")??b??"https",e=d.endsWith(":")?d:d+":";f=new URL(`${e}//${a}`)}let i=f.toString().replace(/\/$/,"");if(g){let b=g?.replace(/(^\/|\/$)/g,"")??"";return new URL(`${i}/${b}/${a}`)}return new URL(`${i}/${a}`)}async function hp(a,b){let c=dT(b),d=await dY(a,b);if(!d)return Response.json("Bad request.",{status:400});let e=function(a,b){let{url:c}=a,d=[];if(!b$&&b.debug&&d.push("debug-enabled"),!b.trustHost)return new bR(`Host must be trusted. URL was: ${a.url}`);if(!b.secret?.length)return new bG("Please define a `secret`");let e=a.query?.callbackUrl;if(e&&!b_(e,c.origin))return new by(`Invalid callback URL. Received: ${e}`);let{callbackUrl:f}=bp(b.useSecureCookies??"https:"===c.protocol),g=a.cookies?.[b.cookies?.callbackUrl?.name??f.name];if(g&&!b_(g,c.origin))return new by(`Invalid callback URL. Received: ${g}`);let h=!1;for(let a of b.providers){let b="function"==typeof a?a():a;if(("oauth"===b.type||"oidc"===b.type)&&!(b.issuer??b.options?.issuer)){let a,{authorization:c,token:d,userinfo:e}=b;if("string"==typeof c||c?.url?"string"==typeof d||d?.url?"string"==typeof e||e?.url||(a="userinfo"):a="token":a="authorization",a)return new bA(`Provider "${b.id}" is missing both \`issuer\` and \`${a}\` endpoint config. At least one of them is required`)}if("credentials"===b.type)b0=!0;else if("email"===b.type)b1=!0;else if("webauthn"===b.type){var i;if(b2=!0,b.simpleWebAuthnBrowserVersion&&(i=b.simpleWebAuthnBrowserVersion,!/^v\d+(?:\.\d+){0,2}$/.test(i)))return new br(`Invalid provider config for "${b.id}": simpleWebAuthnBrowserVersion "${b.simpleWebAuthnBrowserVersion}" must be a valid semver string.`);if(b.enableConditionalUI){if(h)return new bV("Multiple webauthn providers have 'enableConditionalUI' set to True. Only one provider can have this option enabled at a time");if(h=!0,!Object.values(b.formFields).some(a=>a.autocomplete&&a.autocomplete.toString().indexOf("webauthn")>-1))return new bW(`Provider "${b.id}" has 'enableConditionalUI' set to True, but none of its formFields have 'webauthn' in their autocomplete param`)}}}if(b0){let a=b.session?.strategy==="database",c=!b.providers.some(a=>"credentials"!==("function"==typeof a?a():a).type);if(a&&c)return new bP("Signing in with credentials only supported if JWT strategy is enabled");if(b.providers.some(a=>{let b="function"==typeof a?a():a;return"credentials"===b.type&&!b.authorize}))return new bF("Must define an authorize() handler to use credentials authentication provider")}let{adapter:j,session:k}=b,l=[];if(b1||k?.strategy==="database"||!k?.strategy&&j)if(b1){if(!j)return new bD("Email login requires an adapter");l.push(...b3)}else{if(!j)return new bD("Database session requires an adapter");l.push(...b4)}if(b2){if(!b.experimental?.enableWebAuthn)return new bZ("WebAuthn is an experimental feature. To enable it, set `experimental.enableWebAuthn` to `true` in your config");if(d.push("experimental-webauthn"),!j)return new bD("WebAuthn requires an adapter");l.push(...b5)}if(j){let a=l.filter(a=>!(a in j));if(a.length)return new bE(`Required adapter methods were missing: ${a.join(", ")}`)}return b$||(b$=!0),d}(d,b);if(Array.isArray(e))e.forEach(c.warn);else if(e){if(c.error(e),!new Set(["signin","signout","error","verify-request"]).has(d.action)||"GET"!==d.method)return Response.json({message:"There was a problem with the server configuration. Check the server logs for more information."},{status:500});let{pages:a,theme:f}=b,g=a?.error&&d.url.searchParams.get("callbackUrl")?.startsWith(a.error);if(!a?.error||g)return g&&c.error(new bw(`The error page ${a?.error} should not require authentication`)),dZ(fc({theme:f}).error("Configuration"));let h=`${d.url.origin}${a.error}?error=Configuration`;return Response.redirect(h)}let f=a.headers?.has("X-Auth-Return-Redirect"),g=b.raw===d5;try{let a=await hn(d,b);if(g)return a;let c=dZ(a),e=c.headers.get("Location");if(!f||!e)return c;return Response.json({url:e},{headers:c.headers})}catch(l){c.error(l);let e=l instanceof br;if(e&&g&&!f)throw l;if("POST"===a.method&&"session"===d.action)return Response.json(null,{status:400});let h=new URLSearchParams({error:l instanceof br&&bU.has(l.type)?l.type:"Configuration"});l instanceof bz&&h.set("code",l.code);let i=e&&l.kind||"error",j=b.pages?.[i]??`${b.basePath}/${i.toLowerCase()}`,k=`${d.url.origin}${j}?${h}`;if(f)return Response.json({url:k});return Response.redirect(k)}}c(449),"undefined"==typeof URLPattern||URLPattern;var hq=c(107),hr=c(979),hs=c(770);function ht(){let a=ba.getStore();return(null==a?void 0:a.rootTaskSpawnPhase)==="action"}c(918);let{env:hu,stdout:hv}=(null==(h6=globalThis)?void 0:h6.process)??{},hw=hu&&!hu.NO_COLOR&&(hu.FORCE_COLOR||(null==hv?void 0:hv.isTTY)&&!hu.CI&&"dumb"!==hu.TERM),hx=(a,b,c,d)=>{let e=a.substring(0,d)+c,f=a.substring(d+b.length),g=f.indexOf(b);return~g?e+hx(f,b,c,g):e+f},hy=(a,b,c=a)=>hw?d=>{let e=""+d,f=e.indexOf(b,a.length);return~f?a+hx(e,b,c,f)+b:a+e+b}:String,hz=hy("\x1b[1m","\x1b[22m","\x1b[22m\x1b[1m");hy("\x1b[2m","\x1b[22m","\x1b[22m\x1b[2m"),hy("\x1b[3m","\x1b[23m"),hy("\x1b[4m","\x1b[24m"),hy("\x1b[7m","\x1b[27m"),hy("\x1b[8m","\x1b[28m"),hy("\x1b[9m","\x1b[29m"),hy("\x1b[30m","\x1b[39m");let hA=hy("\x1b[31m","\x1b[39m"),hB=hy("\x1b[32m","\x1b[39m"),hC=hy("\x1b[33m","\x1b[39m");hy("\x1b[34m","\x1b[39m");let hD=hy("\x1b[35m","\x1b[39m");hy("\x1b[38;2;173;127;168m","\x1b[39m"),hy("\x1b[36m","\x1b[39m");let hE=hy("\x1b[37m","\x1b[39m");function hF(a){let b=process.env.AUTH_URL??process.env.NEXTAUTH_URL;if(!b)return a;let{origin:c}=new URL(b),{href:d,origin:e}=a.nextUrl;return new X(d.replace(e,c),a)}function hG(a){try{a.secret??(a.secret=process.env.AUTH_SECRET??process.env.NEXTAUTH_SECRET);let b=process.env.AUTH_URL??process.env.NEXTAUTH_URL;if(!b)return;let{pathname:c}=new URL(b);if("/"===c)return;a.basePath||(a.basePath=c)}catch{}finally{a.basePath||(a.basePath="/api/auth"),function(a,b,c=!1){try{let d=a.AUTH_URL;d&&(b.basePath?c||dT(b).warn("env-url-basepath-redundant"):b.basePath=new URL(d).pathname)}catch{}finally{b.basePath??(b.basePath="/auth")}if(!b.secret?.length){b.secret=[];let c=a.AUTH_SECRET;for(let d of(c&&b.secret.push(c),[1,2,3])){let c=a[`AUTH_SECRET_${d}`];c&&b.secret.unshift(c)}}b.redirectProxyUrl??(b.redirectProxyUrl=a.AUTH_REDIRECT_PROXY_URL),b.trustHost??(b.trustHost=!!(a.AUTH_URL??a.AUTH_TRUST_HOST??a.VERCEL??a.CF_PAGES??"production"!==a.NODE_ENV)),b.providers=b.providers.map(b=>{let{id:c}="function"==typeof b?b({}):b,d=c.toUpperCase().replace(/-/g,"_"),e=a[`AUTH_${d}_ID`],f=a[`AUTH_${d}_SECRET`],g=a[`AUTH_${d}_ISSUER`],h=a[`AUTH_${d}_KEY`],i="function"==typeof b?b({clientId:e,clientSecret:f,issuer:g,apiKey:h}):b;return"oauth"===i.type||"oidc"===i.type?(i.clientId??(i.clientId=e),i.clientSecret??(i.clientSecret=f),i.issuer??(i.issuer=g)):"email"===i.type&&(i.apiKey??(i.apiKey=h)),i})}(process.env,a,!0)}}hy("\x1b[90m","\x1b[39m"),hy("\x1b[40m","\x1b[49m"),hy("\x1b[41m","\x1b[49m"),hy("\x1b[42m","\x1b[49m"),hy("\x1b[43m","\x1b[49m"),hy("\x1b[44m","\x1b[49m"),hy("\x1b[45m","\x1b[49m"),hy("\x1b[46m","\x1b[49m"),hy("\x1b[47m","\x1b[49m"),hE(hz("○")),hA(hz("⨯")),hC(hz("⚠")),hE(hz(" ")),hB(hz("✓")),hD(hz("\xbb")),new a$(1e4,a=>a.length),new WeakMap;var hH=c(814);let hI={current:null},hJ="function"==typeof hH.cache?hH.cache:a=>a,hK=console.warn;function hL(a){return function(...b){hK(a(...b))}}function hM(){let a="cookies",b=ah.J.getStore(),c=aU.FP.getStore();if(b){if(c&&"after"===c.phase&&!ht())throw Object.defineProperty(Error(`Route ${b.route} used "cookies" inside "after(...)". This is not supported. If you need this data inside an "after" callback, use "cookies" outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E88",enumerable:!1,configurable:!0});if(b.forceStatic)return hO(aj.seal(new V.RequestCookies(new Headers({}))));if(b.dynamicShouldError)throw Object.defineProperty(new hr.f(`Route ${b.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`cookies\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E549",enumerable:!1,configurable:!0});if(c)switch(c.type){case"cache":let f=Object.defineProperty(Error(`Route ${b.route} used "cookies" inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "cookies" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E398",enumerable:!1,configurable:!0});throw Error.captureStackTrace(f,hM),b.invalidDynamicUsageError??=f,f;case"unstable-cache":throw Object.defineProperty(Error(`Route ${b.route} used "cookies" inside a function cached with "unstable_cache(...)". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "cookies" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E157",enumerable:!1,configurable:!0});case"prerender":var d=b,e=c;let g=hN.get(e);if(g)return g;let h=(0,hs.W5)(e.renderSignal,d.route,"`cookies()`");return hN.set(e,h),h;case"prerender-client":let i="`cookies`";throw Object.defineProperty(new aX.z(`${i} must not be used within a client component. Next.js should be preventing ${i} from being included in client components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E693",enumerable:!1,configurable:!0});case"prerender-ppr":return(0,hq.Ui)(b.route,a,c.dynamicTracking);case"prerender-legacy":return(0,hq.xI)(a,b,c);case"prerender-runtime":return(0,hq.wi)(c,function(a){let b=hN.get(a);if(b)return b;let c=Promise.resolve(a);return hN.set(a,c),c}(c.cookies));case"private-cache":return hO(c.cookies);case"request":return(0,hq.Pk)(c),hO(am(c)?c.userspaceMutableCookies:c.cookies)}}(0,aU.M1)(a)}hJ(a=>{try{hK(hI.current)}finally{hI.current=null}});let hN=new WeakMap;function hO(a){let b=hN.get(a);if(b)return b;let c=Promise.resolve(a);return hN.set(a,c),Object.defineProperties(c,{[Symbol.iterator]:{value:a[Symbol.iterator]?a[Symbol.iterator].bind(a):hP.bind(a)},size:{get:()=>a.size},get:{value:a.get.bind(a)},getAll:{value:a.getAll.bind(a)},has:{value:a.has.bind(a)},set:{value:a.set.bind(a)},delete:{value:a.delete.bind(a)},clear:{value:"function"==typeof a.clear?a.clear.bind(a):hQ.bind(a,c)},toString:{value:a.toString.bind(a)}}),c}function hP(){return this.getAll().map(a=>[a.name,a]).values()}function hQ(a){for(let a of this.getAll())this.delete(a.name);return a}function hR(){let a="headers",b=ah.J.getStore(),c=aU.FP.getStore();if(b){if(c&&"after"===c.phase&&!ht())throw Object.defineProperty(Error(`Route ${b.route} used "headers" inside "after(...)". This is not supported. If you need this data inside an "after" callback, use "headers" outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E367",enumerable:!1,configurable:!0});if(b.forceStatic)return hT(ag.seal(new Headers({})));if(c)switch(c.type){case"cache":{let a=Object.defineProperty(Error(`Route ${b.route} used "headers" inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "headers" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E304",enumerable:!1,configurable:!0});throw Error.captureStackTrace(a,hR),b.invalidDynamicUsageError??=a,a}case"private-cache":{let a=Object.defineProperty(Error(`Route ${b.route} used "headers" inside "use cache: private". Accessing "headers" inside a private cache scope is not supported. If you need this data inside a cached function use "headers" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E742",enumerable:!1,configurable:!0});throw Error.captureStackTrace(a,hR),b.invalidDynamicUsageError??=a,a}case"unstable-cache":throw Object.defineProperty(Error(`Route ${b.route} used "headers" inside a function cached with "unstable_cache(...)". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "headers" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E127",enumerable:!1,configurable:!0})}if(b.dynamicShouldError)throw Object.defineProperty(new hr.f(`Route ${b.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`headers\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E525",enumerable:!1,configurable:!0});if(c)switch(c.type){case"prerender":case"prerender-runtime":var d=b,e=c;let f=hS.get(e);if(f)return f;let g=(0,hs.W5)(e.renderSignal,d.route,"`headers()`");return hS.set(e,g),g;case"prerender-client":let h="`headers`";throw Object.defineProperty(new aX.z(`${h} must not be used within a client component. Next.js should be preventing ${h} from being included in client components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E693",enumerable:!1,configurable:!0});case"prerender-ppr":return(0,hq.Ui)(b.route,a,c.dynamicTracking);case"prerender-legacy":return(0,hq.xI)(a,b,c);case"request":return(0,hq.Pk)(c),hT(c.headers)}}(0,aU.M1)(a)}hL(function(a,b){let c=a?`Route "${a}" `:"This route ";return Object.defineProperty(Error(`${c}used ${b}. \`cookies()\` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E223",enumerable:!1,configurable:!0})});let hS=new WeakMap;function hT(a){let b=hS.get(a);if(b)return b;let c=Promise.resolve(a);return hS.set(a,c),Object.defineProperties(c,{append:{value:a.append.bind(a)},delete:{value:a.delete.bind(a)},get:{value:a.get.bind(a)},has:{value:a.has.bind(a)},set:{value:a.set.bind(a)},getSetCookie:{value:a.getSetCookie.bind(a)},forEach:{value:a.forEach.bind(a)},keys:{value:a.keys.bind(a)},values:{value:a.values.bind(a)},entries:{value:a.entries.bind(a)},[Symbol.iterator]:{value:a[Symbol.iterator].bind(a)}}),c}async function hU(a,b){return hp(new Request(ho("session",a.get("x-forwarded-proto"),a,process.env,b),{headers:{cookie:a.get("cookie")??""}}),{...b,callbacks:{...b.callbacks,async session(...a){let c=await b.callbacks?.session?.(...a)??{...a[0].session,expires:a[0].session.expires?.toISOString?.()??a[0].session.expires};return{user:a[0].user??a[0].token,...c}}}})}function hV(a){return"function"==typeof a}function hW(a,b){return"function"==typeof a?async(...c)=>{if(!c.length){let c=await hR(),d=await a(void 0);return b?.(d),hU(c,d).then(a=>a.json())}if(c[0]instanceof Request){let d=c[0],e=c[1],f=await a(d);return b?.(f),hX([d,e],f)}if(hV(c[0])){let d=c[0];return async(...c)=>{let e=await a(c[0]);return b?.(e),hX(c,e,d)}}let d="req"in c[0]?c[0].req:c[0],e="res"in c[0]?c[0].res:c[1],f=await a(d);return b?.(f),hU(new Headers(d.headers),f).then(async a=>{let b=await a.json();for(let b of a.headers.getSetCookie())"headers"in e?e.headers.append("set-cookie",b):e.appendHeader("set-cookie",b);return b})}:(...b)=>{if(!b.length)return Promise.resolve(hR()).then(b=>hU(b,a).then(a=>a.json()));if(b[0]instanceof Request)return hX([b[0],b[1]],a);if(hV(b[0])){let c=b[0];return async(...b)=>hX(b,a,c).then(a=>a)}let c="req"in b[0]?b[0].req:b[0],d="res"in b[0]?b[0].res:b[1];return hU(new Headers(c.headers),a).then(async a=>{let b=await a.json();for(let b of a.headers.getSetCookie())"headers"in d?d.headers.append("set-cookie",b):d.appendHeader("set-cookie",b);return b})}}async function hX(a,b,c){let d=hF(a[0]),e=await hU(d.headers,b),f=await e.json(),g=!0;b.callbacks?.authorized&&(g=await b.callbacks.authorized({request:d,auth:f}));let h=aa.next?.();if(g instanceof Response){h=g;let a=g.headers.get("Location"),{pathname:c}=d.nextUrl;a&&function(a,b,c){let d=b.replace(`${a}/`,""),e=Object.values(c.pages??{});return(hY.has(d)||e.includes(b))&&b===a}(c,new URL(a).pathname,b)&&(g=!0)}else if(c)d.auth=f,h=await c(d,a[1])??aa.next();else if(!g){let a=b.pages?.signIn??`${b.basePath}/signin`;if(d.nextUrl.pathname!==a){let b=d.nextUrl.clone();b.pathname=a,b.searchParams.set("callbackUrl",d.nextUrl.href),h=aa.redirect(b)}}let i=new Response(h?.body,h);for(let a of e.headers.getSetCookie())i.headers.append("set-cookie",a);return i}hL(function(a,b){let c=a?`Route "${a}" `:"This route ";return Object.defineProperty(Error(`${c}used ${b}. \`headers()\` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E277",enumerable:!1,configurable:!0})}),c(159),new WeakMap,hL(function(a,b){let c=a?`Route "${a}" `:"This route ";return Object.defineProperty(Error(`${c}used ${b}. \`draftMode()\` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E377",enumerable:!1,configurable:!0})});let hY=new Set(["providers","session","csrf","signin","signout","callback","verify-request","error"]);var hZ=c(378),h$=c(944);let h_=c(918).s;function h0(a,b){var c;throw null!=b||(b=(null==h_||null==(c=h_.getStore())?void 0:c.isAction)?h$.zB.push:h$.zB.replace),function(a,b,c){void 0===c&&(c=hZ.Q.TemporaryRedirect);let d=Object.defineProperty(Error(h$.oJ),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return d.digest=h$.oJ+";"+b+";"+a+";"+c+";",d}(a,b,hZ.Q.TemporaryRedirect)}var h1=c(66);async function h2(a,b={},c,d){let e=new Headers(await hR()),{redirect:f=!0,redirectTo:g,...h}=b instanceof FormData?Object.fromEntries(b):b,i=g?.toString()??e.get("Referer")??"/",j=ho("signin",e.get("x-forwarded-proto"),e,process.env,d);if(!a)return j.searchParams.append("callbackUrl",i),f&&h0(j.toString()),j.toString();let k=`${j}/${a}?${new URLSearchParams(c)}`,l={};for(let b of d.providers){let{options:c,...d}="function"==typeof b?b():b,e=c?.id??d.id;if(e===a){l={id:e,type:c?.type??d.type};break}}if(!l.id){let a=`${j}?${new URLSearchParams({callbackUrl:i})}`;return f&&h0(a),a}"credentials"===l.type&&(k=k.replace("signin","callback")),e.set("Content-Type","application/x-www-form-urlencoded");let m=new Request(k,{method:"POST",headers:e,body:new URLSearchParams({...h,callbackUrl:i})}),n=await hp(m,{...d,raw:d5,skipCSRFCheck:d4}),o=await hM();for(let a of n?.cookies??[])o.set(a.name,a.value,a.options);let p=(n instanceof Response?n.headers.get("Location"):n.redirect)??k;return f?h0(p):p}async function h3(a,b){let c=new Headers(await hR());c.set("Content-Type","application/x-www-form-urlencoded");let d=ho("signout",c.get("x-forwarded-proto"),c,process.env,b),e=new URLSearchParams({callbackUrl:a?.redirectTo??c.get("Referer")??"/"}),f=new Request(d,{method:"POST",headers:c,body:e}),g=await hp(f,{...b,raw:d5,skipCSRFCheck:d4}),h=await hM();for(let a of g?.cookies??[])h.set(a.name,a.value,a.options);return a?.redirect??!0?h0(g.redirect):g}async function h4(a,b){let c=new Headers(await hR());c.set("Content-Type","application/json");let d=new Request(ho("session",c.get("x-forwarded-proto"),c,process.env,b),{method:"POST",headers:c,body:JSON.stringify({data:a})}),e=await hp(d,{...b,raw:d5,skipCSRFCheck:d4}),f=await hM();for(let a of e?.cookies??[])f.set(a.name,a.value,a.options);return e.body}function h5(a){let b={};for(let c in a)void 0!==a[c]&&(b[c]=a[c]);return{data:b}}h1.s8,h1.s8,h1.s8,c(515).X;var h6,h7,h8,h9,ia,ib=Object.create,ic=Object.defineProperty,id=Object.getOwnPropertyDescriptor,ie=Object.getOwnPropertyNames,ig=Object.getPrototypeOf,ih=Object.prototype.hasOwnProperty,ii=(a,b)=>ic(a,"name",{value:b,configurable:!0}),ij=(a,b)=>()=>(a&&(b=a(a=0)),b),ik=(a,b)=>()=>(b||a((b={exports:{}}).exports,b),b.exports),il=(a,b)=>{for(var c in b)ic(a,c,{get:b[c],enumerable:!0})},im=(a,b,c,d)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let e of ie(b))ih.call(a,e)||e===c||ic(a,e,{get:()=>b[e],enumerable:!(d=id(b,e))||d.enumerable});return a},io=(a,b,c)=>(c=null!=a?ib(ig(a)):{},im(!b&&a&&a.__esModule?c:ic(c,"default",{value:a,enumerable:!0}),a)),ip=a=>im(ic({},"__esModule",{value:!0}),a),iq=(a,b,c)=>((a,b,c)=>b in a?ic(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c)(a,"symbol"!=typeof b?b+"":b,c),ir=ik(a=>{iu(),a.byteLength=i,a.toByteArray=k,a.fromByteArray=n;var b,c,d=[],e=[],f="u">typeof Uint8Array?Uint8Array:Array,g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(b=0,c=g.length;b<c;++b)d[b]=g[b],e[g.charCodeAt(b)]=b;function h(a){var b=a.length;if(b%4>0)throw Error("Invalid string. Length must be a multiple of 4");var c=a.indexOf("=");-1===c&&(c=b);var d=c===b?0:4-c%4;return[c,d]}function i(a){var b=h(a),c=b[0],d=b[1];return(c+d)*3/4-d}function j(a,b,c){return(b+c)*3/4-c}function k(a){var b,c,d=h(a),g=d[0],i=d[1],k=new f(j(a,g,i)),l=0,m=i>0?g-4:g;for(c=0;c<m;c+=4)b=e[a.charCodeAt(c)]<<18|e[a.charCodeAt(c+1)]<<12|e[a.charCodeAt(c+2)]<<6|e[a.charCodeAt(c+3)],k[l++]=b>>16&255,k[l++]=b>>8&255,k[l++]=255&b;return 2===i&&(b=e[a.charCodeAt(c)]<<2|e[a.charCodeAt(c+1)]>>4,k[l++]=255&b),1===i&&(b=e[a.charCodeAt(c)]<<10|e[a.charCodeAt(c+1)]<<4|e[a.charCodeAt(c+2)]>>2,k[l++]=b>>8&255,k[l++]=255&b),k}function l(a){return d[a>>18&63]+d[a>>12&63]+d[a>>6&63]+d[63&a]}function m(a,b,c){for(var d=[],e=b;e<c;e+=3)d.push(l((a[e]<<16&0xff0000)+(a[e+1]<<8&65280)+(255&a[e+2])));return d.join("")}function n(a){for(var b,c=a.length,e=c%3,f=[],g=0,h=c-e;g<h;g+=16383)f.push(m(a,g,g+16383>h?h:g+16383));return 1===e?f.push(d[(b=a[c-1])>>2]+d[b<<4&63]+"=="):2===e&&f.push(d[(b=(a[c-2]<<8)+a[c-1])>>10]+d[b>>4&63]+d[b<<2&63]+"="),f.join("")}e[45]=62,e[95]=63,ii(h,"getLens"),ii(i,"byteLength"),ii(j,"_byteLength"),ii(k,"toByteArray"),ii(l,"tripletToBase64"),ii(m,"encodeChunk"),ii(n,"fromByteArray")}),is=ik(a=>{iu(),a.read=function(a,b,c,d,e){var f,g,h=8*e-d-1,i=(1<<h)-1,j=i>>1,k=-7,l=c?e-1:0,m=c?-1:1,n=a[b+l];for(l+=m,f=n&(1<<-k)-1,n>>=-k,k+=h;k>0;f=256*f+a[b+l],l+=m,k-=8);for(g=f&(1<<-k)-1,f>>=-k,k+=d;k>0;g=256*g+a[b+l],l+=m,k-=8);if(0===f)f=1-j;else{if(f===i)return g?NaN:1/0*(n?-1:1);g+=Math.pow(2,d),f-=j}return(n?-1:1)*g*Math.pow(2,f-d)},a.write=function(a,b,c,d,e,f){var g,h,i,j=8*f-e-1,k=(1<<j)-1,l=k>>1,m=5960464477539062e-23*(23===e),n=d?0:f-1,o=d?1:-1,p=+(b<0||0===b&&1/b<0);for(isNaN(b=Math.abs(b))||b===1/0?(h=+!!isNaN(b),g=k):(g=Math.floor(Math.log(b)/Math.LN2),b*(i=Math.pow(2,-g))<1&&(g--,i*=2),g+l>=1?b+=m/i:b+=m*Math.pow(2,1-l),b*i>=2&&(g++,i/=2),g+l>=k?(h=0,g=k):g+l>=1?(h=(b*i-1)*Math.pow(2,e),g+=l):(h=b*Math.pow(2,l-1)*Math.pow(2,e),g=0));e>=8;a[c+n]=255&h,n+=o,h/=256,e-=8);for(g=g<<e|h,j+=e;j>0;a[c+n]=255&g,n+=o,g/=256,j-=8);a[c+n-o]|=128*p}}),it=ik(a=>{iu();var b=ir(),c=is(),d="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function e(){try{let a=new Uint8Array(1),b={foo:ii(function(){return 42},"foo")};return Object.setPrototypeOf(b,Uint8Array.prototype),Object.setPrototypeOf(a,b),42===a.foo()}catch{return!1}}function f(a){if(a>0x7fffffff)throw RangeError('The value "'+a+'" is invalid for option "size"');let b=new Uint8Array(a);return Object.setPrototypeOf(b,g.prototype),b}function g(a,b,c){if("number"==typeof a){if("string"==typeof b)throw TypeError('The "string" argument must be of type string. Received type number');return k(a)}return h(a,b,c)}function h(a,b,c){if("string"==typeof a)return l(a,b);if(ArrayBuffer.isView(a))return n(a);if(null==a)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof a);if(ac(a,ArrayBuffer)||a&&ac(a.buffer,ArrayBuffer)||"u">typeof SharedArrayBuffer&&(ac(a,SharedArrayBuffer)||a&&ac(a.buffer,SharedArrayBuffer)))return o(a,b,c);if("number"==typeof a)throw TypeError('The "value" argument must not be of type number. Received type number');let d=a.valueOf&&a.valueOf();if(null!=d&&d!==a)return g.from(d,b,c);let e=p(a);if(e)return e;if("u">typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof a[Symbol.toPrimitive])return g.from(a[Symbol.toPrimitive]("string"),b,c);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof a)}function i(a){if("number"!=typeof a)throw TypeError('"size" argument must be of type number');if(a<0)throw RangeError('The value "'+a+'" is invalid for option "size"')}function j(a,b,c){return i(a),a<=0?f(a):void 0!==b?"string"==typeof c?f(a).fill(b,c):f(a).fill(b):f(a)}function k(a){return i(a),f(a<0?0:0|q(a))}function l(a,b){if(("string"!=typeof b||""===b)&&(b="utf8"),!g.isEncoding(b))throw TypeError("Unknown encoding: "+b);let c=0|s(a,b),d=f(c),e=d.write(a,b);return e!==c&&(d=d.slice(0,e)),d}function m(a){let b=a.length<0?0:0|q(a.length),c=f(b);for(let d=0;d<b;d+=1)c[d]=255&a[d];return c}function n(a){if(ac(a,Uint8Array)){let b=new Uint8Array(a);return o(b.buffer,b.byteOffset,b.byteLength)}return m(a)}function o(a,b,c){let d;if(b<0||a.byteLength<b)throw RangeError('"offset" is outside of buffer bounds');if(a.byteLength<b+(c||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(d=void 0===b&&void 0===c?new Uint8Array(a):void 0===c?new Uint8Array(a,b):new Uint8Array(a,b,c),g.prototype),d}function p(a){if(g.isBuffer(a)){let b=0|q(a.length),c=f(b);return 0===c.length||a.copy(c,0,0,b),c}return void 0!==a.length?"number"!=typeof a.length||ad(a.length)?f(0):m(a):"Buffer"===a.type&&Array.isArray(a.data)?m(a.data):void 0}function q(a){if(a>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|a}function r(a){return+a!=a&&(a=0),g.alloc(+a)}function s(a,b){if(g.isBuffer(a))return a.length;if(ArrayBuffer.isView(a)||ac(a,ArrayBuffer))return a.byteLength;if("string"!=typeof a)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof a);let c=a.length,d=arguments.length>2&&!0===arguments[2];if(!d&&0===c)return 0;let e=!1;for(;;)switch(b){case"ascii":case"latin1":case"binary":return c;case"utf8":case"utf-8":return Z(a).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*c;case"hex":return c>>>1;case"base64":return aa(a).length;default:if(e)return d?-1:Z(a).length;b=(""+b).toLowerCase(),e=!0}}function t(a,b,c){let d=!1;if((void 0===b||b<0)&&(b=0),b>this.length||((void 0===c||c>this.length)&&(c=this.length),c<=0)||(c>>>=0)<=(b>>>=0))return"";for(a||(a="utf8");;)switch(a){case"hex":return H(this,b,c);case"utf8":case"utf-8":return D(this,b,c);case"ascii":return F(this,b,c);case"latin1":case"binary":return G(this,b,c);case"base64":return C(this,b,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,b,c);default:if(d)throw TypeError("Unknown encoding: "+a);a=(a+"").toLowerCase(),d=!0}}function u(a,b,c){let d=a[b];a[b]=a[c],a[c]=d}function v(a,b,c,d,e){if(0===a.length)return -1;if("string"==typeof c?(d=c,c=0):c>0x7fffffff?c=0x7fffffff:c<-0x80000000&&(c=-0x80000000),ad(c*=1)&&(c=e?0:a.length-1),c<0&&(c=a.length+c),c>=a.length){if(e)return -1;c=a.length-1}else if(c<0)if(!e)return -1;else c=0;if("string"==typeof b&&(b=g.from(b,d)),g.isBuffer(b))return 0===b.length?-1:w(a,b,c,d,e);if("number"==typeof b)return b&=255,"function"==typeof Uint8Array.prototype.indexOf?e?Uint8Array.prototype.indexOf.call(a,b,c):Uint8Array.prototype.lastIndexOf.call(a,b,c):w(a,[b],c,d,e);throw TypeError("val must be string, number or Buffer")}function w(a,b,c,d,e){let f,g=1,h=a.length,i=b.length;if(void 0!==d&&("ucs2"===(d=String(d).toLowerCase())||"ucs-2"===d||"utf16le"===d||"utf-16le"===d)){if(a.length<2||b.length<2)return -1;g=2,h/=2,i/=2,c/=2}function j(a,b){return 1===g?a[b]:a.readUInt16BE(b*g)}if(ii(j,"read"),e){let d=-1;for(f=c;f<h;f++)if(j(a,f)===j(b,-1===d?0:f-d)){if(-1===d&&(d=f),f-d+1===i)return d*g}else -1!==d&&(f-=f-d),d=-1}else for(c+i>h&&(c=h-i),f=c;f>=0;f--){let c=!0;for(let d=0;d<i;d++)if(j(a,f+d)!==j(b,d)){c=!1;break}if(c)return f}return -1}function x(a,b,c,d){let e;c=Number(c)||0;let f=a.length-c;d?(d=Number(d))>f&&(d=f):d=f;let g=b.length;for(d>g/2&&(d=g/2),e=0;e<d;++e){let d=parseInt(b.substr(2*e,2),16);if(ad(d))break;a[c+e]=d}return e}function y(a,b,c,d){return ab(Z(b,a.length-c),a,c,d)}function z(a,b,c,d){return ab($(b),a,c,d)}function A(a,b,c,d){return ab(aa(b),a,c,d)}function B(a,b,c,d){return ab(_(b,a.length-c),a,c,d)}function C(a,c,d){return 0===c&&d===a.length?b.fromByteArray(a):b.fromByteArray(a.slice(c,d))}function D(a,b,c){c=Math.min(a.length,c);let d=[],e=b;for(;e<c;){let b=a[e],f=null,g=b>239?4:b>223?3:b>191?2:1;if(e+g<=c){let c,d,h,i;switch(g){case 1:b<128&&(f=b);break;case 2:(192&(c=a[e+1]))==128&&(i=(31&b)<<6|63&c)>127&&(f=i);break;case 3:c=a[e+1],d=a[e+2],(192&c)==128&&(192&d)==128&&(i=(15&b)<<12|(63&c)<<6|63&d)>2047&&(i<55296||i>57343)&&(f=i);break;case 4:c=a[e+1],d=a[e+2],h=a[e+3],(192&c)==128&&(192&d)==128&&(192&h)==128&&(i=(15&b)<<18|(63&c)<<12|(63&d)<<6|63&h)>65535&&i<1114112&&(f=i)}}null===f?(f=65533,g=1):f>65535&&(f-=65536,d.push(f>>>10&1023|55296),f=56320|1023&f),d.push(f),e+=g}return E(d)}function E(a){let b=a.length;if(b<=4096)return String.fromCharCode.apply(String,a);let c="",d=0;for(;d<b;)c+=String.fromCharCode.apply(String,a.slice(d,d+=4096));return c}function F(a,b,c){let d="";c=Math.min(a.length,c);for(let e=b;e<c;++e)d+=String.fromCharCode(127&a[e]);return d}function G(a,b,c){let d="";c=Math.min(a.length,c);for(let e=b;e<c;++e)d+=String.fromCharCode(a[e]);return d}function H(a,b,c){let d=a.length;(!b||b<0)&&(b=0),(!c||c<0||c>d)&&(c=d);let e="";for(let d=b;d<c;++d)e+=ae[a[d]];return e}function I(a,b,c){let d=a.slice(b,c),e="";for(let a=0;a<d.length-1;a+=2)e+=String.fromCharCode(d[a]+256*d[a+1]);return e}function J(a,b,c){if(a%1!=0||a<0)throw RangeError("offset is not uint");if(a+b>c)throw RangeError("Trying to access beyond buffer length")}function K(a,b,c,d,e,f){if(!g.isBuffer(a))throw TypeError('"buffer" argument must be a Buffer instance');if(b>e||b<f)throw RangeError('"value" argument is out of bounds');if(c+d>a.length)throw RangeError("Index out of range")}function L(a,b,c,d,e){U(b,d,e,a,c,7);let f=Number(b&BigInt(0xffffffff));a[c++]=f,f>>=8,a[c++]=f,f>>=8,a[c++]=f,f>>=8,a[c++]=f;let g=Number(b>>BigInt(32)&BigInt(0xffffffff));return a[c++]=g,g>>=8,a[c++]=g,g>>=8,a[c++]=g,g>>=8,a[c++]=g,c}function M(a,b,c,d,e){U(b,d,e,a,c,7);let f=Number(b&BigInt(0xffffffff));a[c+7]=f,f>>=8,a[c+6]=f,f>>=8,a[c+5]=f,f>>=8,a[c+4]=f;let g=Number(b>>BigInt(32)&BigInt(0xffffffff));return a[c+3]=g,g>>=8,a[c+2]=g,g>>=8,a[c+1]=g,g>>=8,a[c]=g,c+8}function N(a,b,c,d,e,f){if(c+d>a.length||c<0)throw RangeError("Index out of range")}function O(a,b,d,e,f){return b*=1,d>>>=0,f||N(a,b,d,4,34028234663852886e22,-34028234663852886e22),c.write(a,b,d,e,23,4),d+4}function P(a,b,d,e,f){return b*=1,d>>>=0,f||N(a,b,d,8,17976931348623157e292,-17976931348623157e292),c.write(a,b,d,e,52,8),d+8}a.Buffer=g,a.SlowBuffer=r,a.INSPECT_MAX_BYTES=50,a.kMaxLength=0x7fffffff,g.TYPED_ARRAY_SUPPORT=e(),!g.TYPED_ARRAY_SUPPORT&&"u">typeof console&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),ii(e,"typedArraySupport"),Object.defineProperty(g.prototype,"parent",{enumerable:!0,get:ii(function(){if(g.isBuffer(this))return this.buffer},"get")}),Object.defineProperty(g.prototype,"offset",{enumerable:!0,get:ii(function(){if(g.isBuffer(this))return this.byteOffset},"get")}),ii(f,"createBuffer"),ii(g,"Buffer"),g.poolSize=8192,ii(h,"from"),g.from=function(a,b,c){return h(a,b,c)},Object.setPrototypeOf(g.prototype,Uint8Array.prototype),Object.setPrototypeOf(g,Uint8Array),ii(i,"assertSize"),ii(j,"alloc"),g.alloc=function(a,b,c){return j(a,b,c)},ii(k,"allocUnsafe"),g.allocUnsafe=function(a){return k(a)},g.allocUnsafeSlow=function(a){return k(a)},ii(l,"fromString"),ii(m,"fromArrayLike"),ii(n,"fromArrayView"),ii(o,"fromArrayBuffer"),ii(p,"fromObject"),ii(q,"checked"),ii(r,"SlowBuffer"),g.isBuffer=ii(function(a){return null!=a&&!0===a._isBuffer&&a!==g.prototype},"isBuffer"),g.compare=ii(function(a,b){if(ac(a,Uint8Array)&&(a=g.from(a,a.offset,a.byteLength)),ac(b,Uint8Array)&&(b=g.from(b,b.offset,b.byteLength)),!g.isBuffer(a)||!g.isBuffer(b))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(a===b)return 0;let c=a.length,d=b.length;for(let e=0,f=Math.min(c,d);e<f;++e)if(a[e]!==b[e]){c=a[e],d=b[e];break}return c<d?-1:+(d<c)},"compare"),g.isEncoding=ii(function(a){switch(String(a).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},"isEncoding"),g.concat=ii(function(a,b){let c;if(!Array.isArray(a))throw TypeError('"list" argument must be an Array of Buffers');if(0===a.length)return g.alloc(0);if(void 0===b)for(b=0,c=0;c<a.length;++c)b+=a[c].length;let d=g.allocUnsafe(b),e=0;for(c=0;c<a.length;++c){let b=a[c];if(ac(b,Uint8Array))e+b.length>d.length?(g.isBuffer(b)||(b=g.from(b)),b.copy(d,e)):Uint8Array.prototype.set.call(d,b,e);else if(g.isBuffer(b))b.copy(d,e);else throw TypeError('"list" argument must be an Array of Buffers');e+=b.length}return d},"concat"),ii(s,"byteLength"),g.byteLength=s,ii(t,"slowToString"),g.prototype._isBuffer=!0,ii(u,"swap"),g.prototype.swap16=ii(function(){let a=this.length;if(a%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let b=0;b<a;b+=2)u(this,b,b+1);return this},"swap16"),g.prototype.swap32=ii(function(){let a=this.length;if(a%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let b=0;b<a;b+=4)u(this,b,b+3),u(this,b+1,b+2);return this},"swap32"),g.prototype.swap64=ii(function(){let a=this.length;if(a%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let b=0;b<a;b+=8)u(this,b,b+7),u(this,b+1,b+6),u(this,b+2,b+5),u(this,b+3,b+4);return this},"swap64"),g.prototype.toString=ii(function(){let a=this.length;return 0===a?"":0==arguments.length?D(this,0,a):t.apply(this,arguments)},"toString"),g.prototype.toLocaleString=g.prototype.toString,g.prototype.equals=ii(function(a){if(!g.isBuffer(a))throw TypeError("Argument must be a Buffer");return this===a||0===g.compare(this,a)},"equals"),g.prototype.inspect=ii(function(){let b="",c=a.INSPECT_MAX_BYTES;return b=this.toString("hex",0,c).replace(/(.{2})/g,"$1 ").trim(),this.length>c&&(b+=" ... "),"<Buffer "+b+">"},"inspect"),d&&(g.prototype[d]=g.prototype.inspect),g.prototype.compare=ii(function(a,b,c,d,e){if(ac(a,Uint8Array)&&(a=g.from(a,a.offset,a.byteLength)),!g.isBuffer(a))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof a);if(void 0===b&&(b=0),void 0===c&&(c=a?a.length:0),void 0===d&&(d=0),void 0===e&&(e=this.length),b<0||c>a.length||d<0||e>this.length)throw RangeError("out of range index");if(d>=e&&b>=c)return 0;if(d>=e)return -1;if(b>=c)return 1;if(b>>>=0,c>>>=0,d>>>=0,e>>>=0,this===a)return 0;let f=e-d,h=c-b,i=Math.min(f,h),j=this.slice(d,e),k=a.slice(b,c);for(let a=0;a<i;++a)if(j[a]!==k[a]){f=j[a],h=k[a];break}return f<h?-1:+(h<f)},"compare"),ii(v,"bidirectionalIndexOf"),ii(w,"arrayIndexOf"),g.prototype.includes=ii(function(a,b,c){return -1!==this.indexOf(a,b,c)},"includes"),g.prototype.indexOf=ii(function(a,b,c){return v(this,a,b,c,!0)},"indexOf"),g.prototype.lastIndexOf=ii(function(a,b,c){return v(this,a,b,c,!1)},"lastIndexOf"),ii(x,"hexWrite"),ii(y,"utf8Write"),ii(z,"asciiWrite"),ii(A,"base64Write"),ii(B,"ucs2Write"),g.prototype.write=ii(function(a,b,c,d){if(void 0===b)d="utf8",c=this.length,b=0;else if(void 0===c&&"string"==typeof b)d=b,c=this.length,b=0;else if(isFinite(b))b>>>=0,isFinite(c)?(c>>>=0,void 0===d&&(d="utf8")):(d=c,c=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let e=this.length-b;if((void 0===c||c>e)&&(c=e),a.length>0&&(c<0||b<0)||b>this.length)throw RangeError("Attempt to write outside buffer bounds");d||(d="utf8");let f=!1;for(;;)switch(d){case"hex":return x(this,a,b,c);case"utf8":case"utf-8":return y(this,a,b,c);case"ascii":case"latin1":case"binary":return z(this,a,b,c);case"base64":return A(this,a,b,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,a,b,c);default:if(f)throw TypeError("Unknown encoding: "+d);d=(""+d).toLowerCase(),f=!0}},"write"),g.prototype.toJSON=ii(function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},"toJSON"),ii(C,"base64Slice"),ii(D,"utf8Slice"),ii(E,"decodeCodePointsArray"),ii(F,"asciiSlice"),ii(G,"latin1Slice"),ii(H,"hexSlice"),ii(I,"utf16leSlice"),g.prototype.slice=ii(function(a,b){let c=this.length;a=~~a,b=void 0===b?c:~~b,a<0?(a+=c)<0&&(a=0):a>c&&(a=c),b<0?(b+=c)<0&&(b=0):b>c&&(b=c),b<a&&(b=a);let d=this.subarray(a,b);return Object.setPrototypeOf(d,g.prototype),d},"slice"),ii(J,"checkOffset"),g.prototype.readUintLE=g.prototype.readUIntLE=ii(function(a,b,c){a>>>=0,b>>>=0,c||J(a,b,this.length);let d=this[a],e=1,f=0;for(;++f<b&&(e*=256);)d+=this[a+f]*e;return d},"readUIntLE"),g.prototype.readUintBE=g.prototype.readUIntBE=ii(function(a,b,c){a>>>=0,b>>>=0,c||J(a,b,this.length);let d=this[a+--b],e=1;for(;b>0&&(e*=256);)d+=this[a+--b]*e;return d},"readUIntBE"),g.prototype.readUint8=g.prototype.readUInt8=ii(function(a,b){return a>>>=0,b||J(a,1,this.length),this[a]},"readUInt8"),g.prototype.readUint16LE=g.prototype.readUInt16LE=ii(function(a,b){return a>>>=0,b||J(a,2,this.length),this[a]|this[a+1]<<8},"readUInt16LE"),g.prototype.readUint16BE=g.prototype.readUInt16BE=ii(function(a,b){return a>>>=0,b||J(a,2,this.length),this[a]<<8|this[a+1]},"readUInt16BE"),g.prototype.readUint32LE=g.prototype.readUInt32LE=ii(function(a,b){return a>>>=0,b||J(a,4,this.length),(this[a]|this[a+1]<<8|this[a+2]<<16)+0x1000000*this[a+3]},"readUInt32LE"),g.prototype.readUint32BE=g.prototype.readUInt32BE=ii(function(a,b){return a>>>=0,b||J(a,4,this.length),0x1000000*this[a]+(this[a+1]<<16|this[a+2]<<8|this[a+3])},"readUInt32BE"),g.prototype.readBigUInt64LE=af(ii(function(a){V(a>>>=0,"offset");let b=this[a],c=this[a+7];(void 0===b||void 0===c)&&W(a,this.length-8);let d=b+256*this[++a]+65536*this[++a]+0x1000000*this[++a],e=this[++a]+256*this[++a]+65536*this[++a]+0x1000000*c;return BigInt(d)+(BigInt(e)<<BigInt(32))},"readBigUInt64LE")),g.prototype.readBigUInt64BE=af(ii(function(a){V(a>>>=0,"offset");let b=this[a],c=this[a+7];(void 0===b||void 0===c)&&W(a,this.length-8);let d=0x1000000*b+65536*this[++a]+256*this[++a]+this[++a],e=0x1000000*this[++a]+65536*this[++a]+256*this[++a]+c;return(BigInt(d)<<BigInt(32))+BigInt(e)},"readBigUInt64BE")),g.prototype.readIntLE=ii(function(a,b,c){a>>>=0,b>>>=0,c||J(a,b,this.length);let d=this[a],e=1,f=0;for(;++f<b&&(e*=256);)d+=this[a+f]*e;return d>=(e*=128)&&(d-=Math.pow(2,8*b)),d},"readIntLE"),g.prototype.readIntBE=ii(function(a,b,c){a>>>=0,b>>>=0,c||J(a,b,this.length);let d=b,e=1,f=this[a+--d];for(;d>0&&(e*=256);)f+=this[a+--d]*e;return f>=(e*=128)&&(f-=Math.pow(2,8*b)),f},"readIntBE"),g.prototype.readInt8=ii(function(a,b){return a>>>=0,b||J(a,1,this.length),128&this[a]?-((255-this[a]+1)*1):this[a]},"readInt8"),g.prototype.readInt16LE=ii(function(a,b){a>>>=0,b||J(a,2,this.length);let c=this[a]|this[a+1]<<8;return 32768&c?0xffff0000|c:c},"readInt16LE"),g.prototype.readInt16BE=ii(function(a,b){a>>>=0,b||J(a,2,this.length);let c=this[a+1]|this[a]<<8;return 32768&c?0xffff0000|c:c},"readInt16BE"),g.prototype.readInt32LE=ii(function(a,b){return a>>>=0,b||J(a,4,this.length),this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24},"readInt32LE"),g.prototype.readInt32BE=ii(function(a,b){return a>>>=0,b||J(a,4,this.length),this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]},"readInt32BE"),g.prototype.readBigInt64LE=af(ii(function(a){V(a>>>=0,"offset");let b=this[a],c=this[a+7];return(void 0===b||void 0===c)&&W(a,this.length-8),(BigInt(this[a+4]+256*this[a+5]+65536*this[a+6]+(c<<24))<<BigInt(32))+BigInt(b+256*this[++a]+65536*this[++a]+0x1000000*this[++a])},"readBigInt64LE")),g.prototype.readBigInt64BE=af(ii(function(a){V(a>>>=0,"offset");let b=this[a],c=this[a+7];return(void 0===b||void 0===c)&&W(a,this.length-8),(BigInt((b<<24)+65536*this[++a]+256*this[++a]+this[++a])<<BigInt(32))+BigInt(0x1000000*this[++a]+65536*this[++a]+256*this[++a]+c)},"readBigInt64BE")),g.prototype.readFloatLE=ii(function(a,b){return a>>>=0,b||J(a,4,this.length),c.read(this,a,!0,23,4)},"readFloatLE"),g.prototype.readFloatBE=ii(function(a,b){return a>>>=0,b||J(a,4,this.length),c.read(this,a,!1,23,4)},"readFloatBE"),g.prototype.readDoubleLE=ii(function(a,b){return a>>>=0,b||J(a,8,this.length),c.read(this,a,!0,52,8)},"readDoubleLE"),g.prototype.readDoubleBE=ii(function(a,b){return a>>>=0,b||J(a,8,this.length),c.read(this,a,!1,52,8)},"readDoubleBE"),ii(K,"checkInt"),g.prototype.writeUintLE=g.prototype.writeUIntLE=ii(function(a,b,c,d){if(a*=1,b>>>=0,c>>>=0,!d){let d=Math.pow(2,8*c)-1;K(this,a,b,c,d,0)}let e=1,f=0;for(this[b]=255&a;++f<c&&(e*=256);)this[b+f]=a/e&255;return b+c},"writeUIntLE"),g.prototype.writeUintBE=g.prototype.writeUIntBE=ii(function(a,b,c,d){if(a*=1,b>>>=0,c>>>=0,!d){let d=Math.pow(2,8*c)-1;K(this,a,b,c,d,0)}let e=c-1,f=1;for(this[b+e]=255&a;--e>=0&&(f*=256);)this[b+e]=a/f&255;return b+c},"writeUIntBE"),g.prototype.writeUint8=g.prototype.writeUInt8=ii(function(a,b,c){return a*=1,b>>>=0,c||K(this,a,b,1,255,0),this[b]=255&a,b+1},"writeUInt8"),g.prototype.writeUint16LE=g.prototype.writeUInt16LE=ii(function(a,b,c){return a*=1,b>>>=0,c||K(this,a,b,2,65535,0),this[b]=255&a,this[b+1]=a>>>8,b+2},"writeUInt16LE"),g.prototype.writeUint16BE=g.prototype.writeUInt16BE=ii(function(a,b,c){return a*=1,b>>>=0,c||K(this,a,b,2,65535,0),this[b]=a>>>8,this[b+1]=255&a,b+2},"writeUInt16BE"),g.prototype.writeUint32LE=g.prototype.writeUInt32LE=ii(function(a,b,c){return a*=1,b>>>=0,c||K(this,a,b,4,0xffffffff,0),this[b+3]=a>>>24,this[b+2]=a>>>16,this[b+1]=a>>>8,this[b]=255&a,b+4},"writeUInt32LE"),g.prototype.writeUint32BE=g.prototype.writeUInt32BE=ii(function(a,b,c){return a*=1,b>>>=0,c||K(this,a,b,4,0xffffffff,0),this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a,b+4},"writeUInt32BE"),ii(L,"wrtBigUInt64LE"),ii(M,"wrtBigUInt64BE"),g.prototype.writeBigUInt64LE=af(ii(function(a,b=0){return L(this,a,b,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64LE")),g.prototype.writeBigUInt64BE=af(ii(function(a,b=0){return M(this,a,b,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64BE")),g.prototype.writeIntLE=ii(function(a,b,c,d){if(a*=1,b>>>=0,!d){let d=Math.pow(2,8*c-1);K(this,a,b,c,d-1,-d)}let e=0,f=1,g=0;for(this[b]=255&a;++e<c&&(f*=256);)a<0&&0===g&&0!==this[b+e-1]&&(g=1),this[b+e]=(a/f|0)-g&255;return b+c},"writeIntLE"),g.prototype.writeIntBE=ii(function(a,b,c,d){if(a*=1,b>>>=0,!d){let d=Math.pow(2,8*c-1);K(this,a,b,c,d-1,-d)}let e=c-1,f=1,g=0;for(this[b+e]=255&a;--e>=0&&(f*=256);)a<0&&0===g&&0!==this[b+e+1]&&(g=1),this[b+e]=(a/f|0)-g&255;return b+c},"writeIntBE"),g.prototype.writeInt8=ii(function(a,b,c){return a*=1,b>>>=0,c||K(this,a,b,1,127,-128),a<0&&(a=255+a+1),this[b]=255&a,b+1},"writeInt8"),g.prototype.writeInt16LE=ii(function(a,b,c){return a*=1,b>>>=0,c||K(this,a,b,2,32767,-32768),this[b]=255&a,this[b+1]=a>>>8,b+2},"writeInt16LE"),g.prototype.writeInt16BE=ii(function(a,b,c){return a*=1,b>>>=0,c||K(this,a,b,2,32767,-32768),this[b]=a>>>8,this[b+1]=255&a,b+2},"writeInt16BE"),g.prototype.writeInt32LE=ii(function(a,b,c){return a*=1,b>>>=0,c||K(this,a,b,4,0x7fffffff,-0x80000000),this[b]=255&a,this[b+1]=a>>>8,this[b+2]=a>>>16,this[b+3]=a>>>24,b+4},"writeInt32LE"),g.prototype.writeInt32BE=ii(function(a,b,c){return a*=1,b>>>=0,c||K(this,a,b,4,0x7fffffff,-0x80000000),a<0&&(a=0xffffffff+a+1),this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a,b+4},"writeInt32BE"),g.prototype.writeBigInt64LE=af(ii(function(a,b=0){return L(this,a,b,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64LE")),g.prototype.writeBigInt64BE=af(ii(function(a,b=0){return M(this,a,b,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64BE")),ii(N,"checkIEEE754"),ii(O,"writeFloat"),g.prototype.writeFloatLE=ii(function(a,b,c){return O(this,a,b,!0,c)},"writeFloatLE"),g.prototype.writeFloatBE=ii(function(a,b,c){return O(this,a,b,!1,c)},"writeFloatBE"),ii(P,"writeDouble"),g.prototype.writeDoubleLE=ii(function(a,b,c){return P(this,a,b,!0,c)},"writeDoubleLE"),g.prototype.writeDoubleBE=ii(function(a,b,c){return P(this,a,b,!1,c)},"writeDoubleBE"),g.prototype.copy=ii(function(a,b,c,d){if(!g.isBuffer(a))throw TypeError("argument should be a Buffer");if(c||(c=0),d||0===d||(d=this.length),b>=a.length&&(b=a.length),b||(b=0),d>0&&d<c&&(d=c),d===c||0===a.length||0===this.length)return 0;if(b<0)throw RangeError("targetStart out of bounds");if(c<0||c>=this.length)throw RangeError("Index out of range");if(d<0)throw RangeError("sourceEnd out of bounds");d>this.length&&(d=this.length),a.length-b<d-c&&(d=a.length-b+c);let e=d-c;return this===a&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(b,c,d):Uint8Array.prototype.set.call(a,this.subarray(c,d),b),e},"copy"),g.prototype.fill=ii(function(a,b,c,d){let e;if("string"==typeof a){if("string"==typeof b?(d=b,b=0,c=this.length):"string"==typeof c&&(d=c,c=this.length),void 0!==d&&"string"!=typeof d)throw TypeError("encoding must be a string");if("string"==typeof d&&!g.isEncoding(d))throw TypeError("Unknown encoding: "+d);if(1===a.length){let b=a.charCodeAt(0);("utf8"===d&&b<128||"latin1"===d)&&(a=b)}}else"number"==typeof a?a&=255:"boolean"==typeof a&&(a=Number(a));if(b<0||this.length<b||this.length<c)throw RangeError("Out of range index");if(c<=b)return this;if(b>>>=0,c=void 0===c?this.length:c>>>0,a||(a=0),"number"==typeof a)for(e=b;e<c;++e)this[e]=a;else{let f=g.isBuffer(a)?a:g.from(a,d),h=f.length;if(0===h)throw TypeError('The value "'+a+'" is invalid for argument "value"');for(e=0;e<c-b;++e)this[e+b]=f[e%h]}return this},"fill");var Q={};function R(a,b,c){var d;Q[a]=(ii(d=class extends c{constructor(){super(),Object.defineProperty(this,"message",{value:b.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${a}]`,this.stack,delete this.name}get code(){return a}set code(a){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:a,writable:!0})}toString(){return`${this.name} [${a}\
]: ${this.message}`}},"NodeError"),d)}function S(a){let b="",c=a.length,d=+("-"===a[0]);for(;c>=d+4;c-=3)b=`\
_${a.slice(c-3,c)}${b}`;return`${a.slice(0,c)}${b}`}function T(a,b,c){V(b,"offset"),(void 0===a[b]||void 0===a[b+c])&&W(b,a.length-(c+1))}function U(a,b,c,d,e,f){if(a>c||a<b){let d="bigint"==typeof b?"n":"",e;throw e=f>3?0===b||b===BigInt(0)?`>= 0${d} and < 2${d}\
 ** ${(f+1)*8}${d}`:`>= -(2${d} ** ${(f+1)*8-1}${d}) and < 2 ** ${(f+1)*8-1}${d}`:`>= ${b}${d} a\
nd <= ${c}${d}`,new Q.ERR_OUT_OF_RANGE("value",e,a)}T(d,e,f)}function V(a,b){if("number"!=typeof a)throw new Q.ERR_INVALID_ARG_TYPE(b,"number",a)}function W(a,b,c){throw Math.floor(a)!==a?(V(a,c),new Q.ERR_OUT_OF_RANGE(c||"offset","an integer",a)):b<0?new Q.ERR_BUFFER_OUT_OF_BOUNDS:new Q.ERR_OUT_OF_RANGE(c||"offset",`>= ${+!!c} and <= ${b}`,a)}ii(R,"E"),R("ERR_BUFFER_OUT_OF_BOUNDS",function(a){return a?`${a} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),R("ERR_INVALID_ARG_TYPE",function(a,b){return`The "${a}" argument must be of type number. Received typ\
e ${typeof b}`},TypeError),R("ERR_OUT_OF_RANGE",function(a,b,c){let d=`The value of "${a}" is out o\
f range.`,e=c;return Number.isInteger(c)&&Math.abs(c)>0x100000000?e=S(String(c)):"bigint"==typeof c&&(e=String(c),(c>BigInt(2)**BigInt(32)||c<-(BigInt(2)**BigInt(32)))&&(e=S(e)),e+="n"),d+=` It must be ${b}. Re\
ceived ${e}`},RangeError),ii(S,"addNumericalSeparator"),ii(T,"checkBounds"),ii(U,"checkIntBI"),ii(V,"validateNumber"),ii(W,"boundsError");var X=/[^+/0-9A-Za-z-_]/g;function Y(a){if((a=(a=a.split("=")[0]).trim().replace(X,"")).length<2)return"";for(;a.length%4!=0;)a+="=";return a}function Z(a,b){b=b||1/0;let c,d=a.length,e=null,f=[];for(let g=0;g<d;++g){if((c=a.charCodeAt(g))>55295&&c<57344){if(!e){if(c>56319||g+1===d){(b-=3)>-1&&f.push(239,191,189);continue}e=c;continue}if(c<56320){(b-=3)>-1&&f.push(239,191,189),e=c;continue}c=(e-55296<<10|c-56320)+65536}else e&&(b-=3)>-1&&f.push(239,191,189);if(e=null,c<128){if((b-=1)<0)break;f.push(c)}else if(c<2048){if((b-=2)<0)break;f.push(c>>6|192,63&c|128)}else if(c<65536){if((b-=3)<0)break;f.push(c>>12|224,c>>6&63|128,63&c|128)}else if(c<1114112){if((b-=4)<0)break;f.push(c>>18|240,c>>12&63|128,c>>6&63|128,63&c|128)}else throw Error("Invalid code point")}return f}function $(a){let b=[];for(let c=0;c<a.length;++c)b.push(255&a.charCodeAt(c));return b}function _(a,b){let c,d,e=[];for(let f=0;f<a.length&&!((b-=2)<0);++f)d=(c=a.charCodeAt(f))>>8,e.push(c%256),e.push(d);return e}function aa(a){return b.toByteArray(Y(a))}function ab(a,b,c,d){let e;for(e=0;e<d&&!(e+c>=b.length||e>=a.length);++e)b[e+c]=a[e];return e}function ac(a,b){return a instanceof b||null!=a&&null!=a.constructor&&null!=a.constructor.name&&a.constructor.name===b.name}function ad(a){return a!=a}ii(Y,"base64clean"),ii(Z,"utf8ToBytes"),ii($,"asciiToBytes"),ii(_,"utf16leToBytes"),ii(aa,"base64ToBytes"),ii(ab,"blitBuffer"),ii(ac,"isInstance"),ii(ad,"numberIsNaN");var ae=function(){let a="0123456789abcdef",b=Array(256);for(let c=0;c<16;++c){let d=16*c;for(let e=0;e<16;++e)b[d+e]=a[c]+a[e]}return b}();function af(a){return typeof BigInt>"u"?ag:a}function ag(){throw Error("BigInt not supported")}ii(af,"defineBigIntMethod"),ii(ag,"BufferBigIntNotDefined")}),iu=ij(()=>{h7=globalThis,h8=globalThis.setImmediate??(a=>setTimeout(a,0)),globalThis.clearImmediate??(a=>clearTimeout(a)),h9="function"==typeof globalThis.Buffer&&"function"==typeof globalThis.Buffer.allocUnsafe?globalThis.Buffer:it().Buffer,(ia=globalThis.process??{}).env??(ia.env={});try{ia.nextTick(()=>{})}catch{let a=Promise.resolve();ia.nextTick=a.then.bind(a)}}),iv=ik((a,b)=>{iu();var c,d="object"==typeof Reflect?Reflect:null,e=d&&"function"==typeof d.apply?d.apply:ii(function(a,b,c){return Function.prototype.apply.call(a,b,c)},"ReflectApply");function f(a){console&&console.warn&&console.warn(a)}c=d&&"function"==typeof d.ownKeys?d.ownKeys:Object.getOwnPropertySymbols?ii(function(a){return Object.getOwnPropertyNames(a).concat(Object.getOwnPropertySymbols(a))},"ReflectOwnKeys"):ii(function(a){return Object.getOwnPropertyNames(a)},"ReflectOwnKeys"),ii(f,"ProcessEmitWarning");var g=Number.isNaN||ii(function(a){return a!=a},"NumberIsNaN");function h(){h.init.call(this)}ii(h,"EventEmitter"),b.exports=h,b.exports.once=t,h.EventEmitter=h,h.prototype._events=void 0,h.prototype._eventsCount=0,h.prototype._maxListeners=void 0;var i=10;function j(a){if("function"!=typeof a)throw TypeError('The "listener" argument must be of type Function. Received type '+typeof a)}function k(a){return void 0===a._maxListeners?h.defaultMaxListeners:a._maxListeners}function l(a,b,c,d){var e,g,h;if(j(c),void 0===(g=a._events)?(g=a._events=Object.create(null),a._eventsCount=0):(void 0!==g.newListener&&(a.emit("newListener",b,c.listener?c.listener:c),g=a._events),h=g[b]),void 0===h)h=g[b]=c,++a._eventsCount;else if("function"==typeof h?h=g[b]=d?[c,h]:[h,c]:d?h.unshift(c):h.push(c),(e=k(a))>0&&h.length>e&&!h.warned){h.warned=!0;var i=Error("Possible EventEmitter memory leak detected. "+h.length+" "+String(b)+" listeners added. Use emitter.setMaxListeners() to increase limit");i.name="MaxListenersExceededWarning",i.emitter=a,i.type=b,i.count=h.length,f(i)}return a}function m(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0==arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function n(a,b,c){var d={fired:!1,wrapFn:void 0,target:a,type:b,listener:c},e=m.bind(d);return e.listener=c,d.wrapFn=e,e}function o(a,b,c){var d=a._events;if(void 0===d)return[];var e=d[b];return void 0===e?[]:"function"==typeof e?c?[e.listener||e]:[e]:c?s(e):q(e,e.length)}function p(a){var b=this._events;if(void 0!==b){var c=b[a];if("function"==typeof c)return 1;if(void 0!==c)return c.length}return 0}function q(a,b){for(var c=Array(b),d=0;d<b;++d)c[d]=a[d];return c}function r(a,b){for(;b+1<a.length;b++)a[b]=a[b+1];a.pop()}function s(a){for(var b=Array(a.length),c=0;c<b.length;++c)b[c]=a[c].listener||a[c];return b}function t(a,b){return new Promise(function(c,d){function e(c){a.removeListener(b,f),d(c)}function f(){"function"==typeof a.removeListener&&a.removeListener("error",e),c([].slice.call(arguments))}ii(e,"errorListener"),ii(f,"resolver"),v(a,b,f,{once:!0}),"error"!==b&&u(a,e,{once:!0})})}function u(a,b,c){"function"==typeof a.on&&v(a,"error",b,c)}function v(a,b,c,d){if("function"==typeof a.on)d.once?a.once(b,c):a.on(b,c);else if("function"==typeof a.addEventListener)a.addEventListener(b,ii(function e(f){d.once&&a.removeEventListener(b,e),c(f)},"wrapListener"));else throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof a)}ii(j,"checkListener"),Object.defineProperty(h,"defaultMaxListeners",{enumerable:!0,get:ii(function(){return i},"get"),set:ii(function(a){if("number"!=typeof a||a<0||g(a))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+a+".");i=a},"set")}),h.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},h.prototype.setMaxListeners=ii(function(a){if("number"!=typeof a||a<0||g(a))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+a+".");return this._maxListeners=a,this},"setMaxListeners"),ii(k,"_getMaxListeners"),h.prototype.getMaxListeners=ii(function(){return k(this)},"getMaxListeners"),h.prototype.emit=ii(function(a){for(var b=[],c=1;c<arguments.length;c++)b.push(arguments[c]);var d="error"===a,f=this._events;if(void 0!==f)d=d&&void 0===f.error;else if(!d)return!1;if(d){if(b.length>0&&(g=b[0]),g instanceof Error)throw g;var g,h=Error("Unhandled error."+(g?" ("+g.message+")":""));throw h.context=g,h}var i=f[a];if(void 0===i)return!1;if("function"==typeof i)e(i,this,b);else for(var j=i.length,k=q(i,j),c=0;c<j;++c)e(k[c],this,b);return!0},"emit"),ii(l,"_addListener"),h.prototype.addListener=ii(function(a,b){return l(this,a,b,!1)},"addListener"),h.prototype.on=h.prototype.addListener,h.prototype.prependListener=ii(function(a,b){return l(this,a,b,!0)},"prependListener"),ii(m,"onceWrapper"),ii(n,"_onceWrap"),h.prototype.once=ii(function(a,b){return j(b),this.on(a,n(this,a,b)),this},"once"),h.prototype.prependOnceListener=ii(function(a,b){return j(b),this.prependListener(a,n(this,a,b)),this},"prependOnceListener"),h.prototype.removeListener=ii(function(a,b){var c,d,e,f,g;if(j(b),void 0===(d=this._events)||void 0===(c=d[a]))return this;if(c===b||c.listener===b)0==--this._eventsCount?this._events=Object.create(null):(delete d[a],d.removeListener&&this.emit("removeListener",a,c.listener||b));else if("function"!=typeof c){for(e=-1,f=c.length-1;f>=0;f--)if(c[f]===b||c[f].listener===b){g=c[f].listener,e=f;break}if(e<0)return this;0===e?c.shift():r(c,e),1===c.length&&(d[a]=c[0]),void 0!==d.removeListener&&this.emit("removeListener",a,g||b)}return this},"removeListener"),h.prototype.off=h.prototype.removeListener,h.prototype.removeAllListeners=ii(function(a){var b,c,d;if(void 0===(c=this._events))return this;if(void 0===c.removeListener)return 0==arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==c[a]&&(0==--this._eventsCount?this._events=Object.create(null):delete c[a]),this;if(0==arguments.length){var e,f=Object.keys(c);for(d=0;d<f.length;++d)"removeListener"!==(e=f[d])&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(b=c[a]))this.removeListener(a,b);else if(void 0!==b)for(d=b.length-1;d>=0;d--)this.removeListener(a,b[d]);return this},"removeAllListeners"),ii(o,"_listeners"),h.prototype.listeners=ii(function(a){return o(this,a,!0)},"listeners"),h.prototype.rawListeners=ii(function(a){return o(this,a,!1)},"rawListeners"),h.listenerCount=function(a,b){return"function"==typeof a.listenerCount?a.listenerCount(b):p.call(a,b)},h.prototype.listenerCount=p,ii(p,"listenerCount"),h.prototype.eventNames=ii(function(){return this._eventsCount>0?c(this._events):[]},"eventNames"),ii(q,"arrayClone"),ii(r,"spliceOne"),ii(s,"unwrapListeners"),ii(t,"once"),ii(u,"addErrorHandlerIfEventEmitter"),ii(v,"eventTargetAgnosticAddListener")}),iw={};function ix(a){return 0}il(iw,{Socket:()=>iB,isIP:()=>ix});var iy,iz,iA,iB,iC=ij(()=>{iu(),iy=io(iv(),1),ii(ix,"isIP"),iz=/^[^.]+\./,iA=class a extends iy.EventEmitter{constructor(){super(...arguments),iq(this,"opts",{}),iq(this,"connecting",!1),iq(this,"pending",!0),iq(this,"writable",!0),iq(this,"encrypted",!1),iq(this,"authorized",!1),iq(this,"destroyed",!1),iq(this,"ws",null),iq(this,"writeBuffer"),iq(this,"tlsState",0),iq(this,"tlsRead"),iq(this,"tlsWrite")}static get poolQueryViaFetch(){return a.opts.poolQueryViaFetch??a.defaults.poolQueryViaFetch}static set poolQueryViaFetch(b){a.opts.poolQueryViaFetch=b}static get fetchEndpoint(){return a.opts.fetchEndpoint??a.defaults.fetchEndpoint}static set fetchEndpoint(b){a.opts.fetchEndpoint=b}static get fetchConnectionCache(){return!0}static set fetchConnectionCache(a){console.warn("The `fetchConnectionCache` option is deprecated (now always `true`)")}static get fetchFunction(){return a.opts.fetchFunction??a.defaults.fetchFunction}static set fetchFunction(b){a.opts.fetchFunction=b}static get webSocketConstructor(){return a.opts.webSocketConstructor??a.defaults.webSocketConstructor}static set webSocketConstructor(b){a.opts.webSocketConstructor=b}get webSocketConstructor(){return this.opts.webSocketConstructor??a.webSocketConstructor}set webSocketConstructor(a){this.opts.webSocketConstructor=a}static get wsProxy(){return a.opts.wsProxy??a.defaults.wsProxy}static set wsProxy(b){a.opts.wsProxy=b}get wsProxy(){return this.opts.wsProxy??a.wsProxy}set wsProxy(a){this.opts.wsProxy=a}static get coalesceWrites(){return a.opts.coalesceWrites??a.defaults.coalesceWrites}static set coalesceWrites(b){a.opts.coalesceWrites=b}get coalesceWrites(){return this.opts.coalesceWrites??a.coalesceWrites}set coalesceWrites(a){this.opts.coalesceWrites=a}static get useSecureWebSocket(){return a.opts.useSecureWebSocket??a.defaults.useSecureWebSocket}static set useSecureWebSocket(b){a.opts.useSecureWebSocket=b}get useSecureWebSocket(){return this.opts.useSecureWebSocket??a.useSecureWebSocket}set useSecureWebSocket(a){this.opts.useSecureWebSocket=a}static get forceDisablePgSSL(){return a.opts.forceDisablePgSSL??a.defaults.forceDisablePgSSL}static set forceDisablePgSSL(b){a.opts.forceDisablePgSSL=b}get forceDisablePgSSL(){return this.opts.forceDisablePgSSL??a.forceDisablePgSSL}set forceDisablePgSSL(a){this.opts.forceDisablePgSSL=a}static get disableSNI(){return a.opts.disableSNI??a.defaults.disableSNI}static set disableSNI(b){a.opts.disableSNI=b}get disableSNI(){return this.opts.disableSNI??a.disableSNI}set disableSNI(a){this.opts.disableSNI=a}static get disableWarningInBrowsers(){return a.opts.disableWarningInBrowsers??a.defaults.disableWarningInBrowsers}static set disableWarningInBrowsers(b){a.opts.disableWarningInBrowsers=b}get disableWarningInBrowsers(){return this.opts.disableWarningInBrowsers??a.disableWarningInBrowsers}set disableWarningInBrowsers(a){this.opts.disableWarningInBrowsers=a}static get pipelineConnect(){return a.opts.pipelineConnect??a.defaults.pipelineConnect}static set pipelineConnect(b){a.opts.pipelineConnect=b}get pipelineConnect(){return this.opts.pipelineConnect??a.pipelineConnect}set pipelineConnect(a){this.opts.pipelineConnect=a}static get subtls(){return a.opts.subtls??a.defaults.subtls}static set subtls(b){a.opts.subtls=b}get subtls(){return this.opts.subtls??a.subtls}set subtls(a){this.opts.subtls=a}static get pipelineTLS(){return a.opts.pipelineTLS??a.defaults.pipelineTLS}static set pipelineTLS(b){a.opts.pipelineTLS=b}get pipelineTLS(){return this.opts.pipelineTLS??a.pipelineTLS}set pipelineTLS(a){this.opts.pipelineTLS=a}static get rootCerts(){return a.opts.rootCerts??a.defaults.rootCerts}static set rootCerts(b){a.opts.rootCerts=b}get rootCerts(){return this.opts.rootCerts??a.rootCerts}set rootCerts(a){this.opts.rootCerts=a}wsProxyAddrForHost(a,b){let c=this.wsProxy;if(void 0===c)throw Error("No WebSocket proxy is configured. Please see https://github.com/neondatabase/serverless/blob/main/CONFIG.md#wsproxy-string--host-string-port-number--string--string");return"function"==typeof c?c(a,b):`${c}?address=${a}:${b}`}setNoDelay(){return this}setKeepAlive(){return this}ref(){return this}unref(){return this}connect(a,b,c){this.connecting=!0,c&&this.once("connect",c);let d=ii(()=>{this.connecting=!1,this.pending=!1,this.emit("connect"),this.emit("ready")},"handleWebSocketOpen"),e=ii((a,b=!1)=>{a.binaryType="arraybuffer",a.addEventListener("error",a=>{this.emit("error",a),this.emit("close")}),a.addEventListener("message",a=>{if(0===this.tlsState){let b=h9.from(a.data);this.emit("data",b)}}),a.addEventListener("close",()=>{this.emit("close")}),b?d():a.addEventListener("open",d)},"configureWebSocket"),f;try{f=this.wsProxyAddrForHost(b,"string"==typeof a?parseInt(a,10):a)}catch(a){this.emit("error",a),this.emit("close");return}try{let a=(this.useSecureWebSocket?"wss:":"ws:")+"//"+f;if(void 0!==this.webSocketConstructor)this.ws=new this.webSocketConstructor(a),e(this.ws);else try{this.ws=new WebSocket(a),e(this.ws)}catch{this.ws=new __unstable_WebSocket(a),e(this.ws)}}catch(a){fetch((this.useSecureWebSocket?"https:":"http:")+"//"+f,{headers:{Upgrade:"websocket"}}).then(b=>{if(this.ws=b.webSocket,null==this.ws)throw a;this.ws.accept(),e(this.ws,!0)}).catch(a=>{this.emit("error",Error(`All attempts to open a WebSocket to connect to the database failed. Please refer \
to https://github.com/neondatabase/serverless/blob/main/CONFIG.md#websocketconstructor-typeof-websoc\
ket--undefined. Details: ${a}`)),this.emit("close")})}}async startTls(a){if(void 0===this.subtls)throw Error("For Postgres SSL connections, you must set `neonConfig.subtls` to the subtls library. See https://github.com/neondatabase/serverless/blob/main/CONFIG.md for more information.");this.tlsState=1;let b=await this.subtls.TrustedCert.databaseFromPEM(this.rootCerts),c=new this.subtls.WebSocketReadQueue(this.ws),d=c.read.bind(c),e=this.rawWrite.bind(this),{read:f,write:g}=await this.subtls.startTls(a,b,d,e,{useSNI:!this.disableSNI,expectPreData:this.pipelineTLS?new Uint8Array([83]):void 0});this.tlsRead=f,this.tlsWrite=g,this.tlsState=2,this.encrypted=!0,this.authorized=!0,this.emit("secureConnection",this),this.tlsReadLoop()}async tlsReadLoop(){for(;;){let a=await this.tlsRead();if(void 0===a)break;{let b=h9.from(a);this.emit("data",b)}}}rawWrite(a){if(!this.coalesceWrites){this.ws&&this.ws.send(a);return}if(void 0===this.writeBuffer)this.writeBuffer=a,setTimeout(()=>{this.ws&&this.ws.send(this.writeBuffer),this.writeBuffer=void 0},0);else{let b=new Uint8Array(this.writeBuffer.length+a.length);b.set(this.writeBuffer),b.set(a,this.writeBuffer.length),this.writeBuffer=b}}write(a,b="utf8",c=a=>{}){return 0===a.length?c():("string"==typeof a&&(a=h9.from(a,b)),0===this.tlsState?(this.rawWrite(a),c()):1===this.tlsState?this.once("secureConnection",()=>{this.write(a,b,c)}):(this.tlsWrite(a),c())),!0}end(a=h9.alloc(0),b="utf8",c=()=>{}){return this.write(a,b,()=>{this.ws.close(),c()}),this}destroy(){return this.destroyed=!0,this.end()}},ii(iA,"Socket"),iq(iA,"defaults",{poolQueryViaFetch:!1,fetchEndpoint:ii((a,b,c)=>"https://"+(c?.jwtAuth?a.replace(iz,"apiauth."):a.replace(iz,"api."))+"/sql","fetchEndpoint"),fetchConnectionCache:!0,fetchFunction:void 0,webSocketConstructor:void 0,wsProxy:ii(a=>a+"/v2","wsProxy"),useSecureWebSocket:!0,forceDisablePgSSL:!0,coalesceWrites:!0,pipelineConnect:"password",subtls:void 0,rootCerts:"",pipelineTLS:!1,disableSNI:!1,disableWarningInBrowsers:!1}),iq(iA,"opts",{}),iB=iA}),iD={};function iE(a,b=!1){let{protocol:c}=new URL(a),{username:d,password:e,host:f,hostname:g,port:h,pathname:i,search:j,searchParams:k,hash:l}=new URL("http:"+a.substring(c.length));e=decodeURIComponent(e),d=decodeURIComponent(d),i=decodeURIComponent(i);let m=d+":"+e,n=b?Object.fromEntries(k.entries()):j;return{href:a,protocol:c,auth:m,username:d,password:e,host:f,hostname:g,port:h,pathname:i,search:j,query:n,hash:l}}il(iD,{parse:()=>iE});var iF=ij(()=>{iu(),ii(iE,"parse")}),iG=ik(a=>{iu(),a.parse=function(a,b){return new c(a,b).parse()};var b=class a{constructor(a,b){this.source=a,this.transform=b||d,this.position=0,this.entries=[],this.recorded=[],this.dimension=0}isEof(){return this.position>=this.source.length}nextCharacter(){var a=this.source[this.position++];return"\\"===a?{value:this.source[this.position++],escaped:!0}:{value:a,escaped:!1}}record(a){this.recorded.push(a)}newEntry(a){var b;(this.recorded.length>0||a)&&("NULL"!==(b=this.recorded.join(""))||a||(b=null),null!==b&&(b=this.transform(b)),this.entries.push(b),this.recorded=[])}consumeDimensions(){if("["===this.source[0])for(;!this.isEof()&&"="!==this.nextCharacter().value;);}parse(b){var c,d,e;for(this.consumeDimensions();!this.isEof();)if("{"!==(c=this.nextCharacter()).value||e){if("}"!==c.value||e)'"'!==c.value||c.escaped?","!==c.value||e?this.record(c.value):this.newEntry():(e&&this.newEntry(!0),e=!e);else if(this.dimension--,!this.dimension&&(this.newEntry(),b))return this.entries}else this.dimension++,this.dimension>1&&(d=new a(this.source.substr(this.position-1),this.transform),this.entries.push(d.parse(!0)),this.position+=d.position-2);if(0!==this.dimension)throw Error("array dimension not balanced");return this.entries}};ii(b,"ArrayParser");var c=b;function d(a){return a}ii(d,"identity")}),iH=ik((a,b)=>{iu();var c=iG();b.exports={create:ii(function(a,b){return{parse:ii(function(){return c.parse(a,b)},"parse")}},"create")}}),iI=ik((a,b)=>{iu();var c=/(\d{1,})-(\d{2})-(\d{2}) (\d{2}):(\d{2}):(\d{2})(\.\d{1,})?.*?( BC)?$/,d=/^(\d{1,})-(\d{2})-(\d{2})( BC)?$/,e=/([Z+-])(\d{2})?:?(\d{2})?:?(\d{2})?/,f=/^-?infinity$/;function g(a){var b=d.exec(a);if(b){var c=parseInt(b[1],10);b[4]&&(c=i(c));var e=new Date(c,parseInt(b[2],10)-1,b[3]);return j(c)&&e.setFullYear(c),e}}function h(a){if(a.endsWith("+00"))return 0;var b=e.exec(a.split(" ")[1]);if(b){var c=b[1];return"Z"===c?0:(3600*parseInt(b[2],10)+60*parseInt(b[3]||0,10)+parseInt(b[4]||0,10))*("-"===c?-1:1)*1e3}}function i(a){return-(a-1)}function j(a){return a>=0&&a<100}b.exports=ii(function(a){if(f.test(a))return Number(a.replace("i","I"));var b=c.exec(a);if(!b)return g(a)||null;var d=!!b[8],e=parseInt(b[1],10);d&&(e=i(e));var k=parseInt(b[2],10)-1,l=b[3],m=parseInt(b[4],10),n=parseInt(b[5],10),o=parseInt(b[6],10),p=b[7];p=p?1e3*parseFloat(p):0;var q,r=h(a);return null!=r?(q=new Date(Date.UTC(e,k,l,m,n,o,p)),j(e)&&q.setUTCFullYear(e),0!==r&&q.setTime(q.getTime()-r)):(q=new Date(e,k,l,m,n,o,p),j(e)&&q.setFullYear(e)),q},"parseDate"),ii(g,"getDate"),ii(h,"timeZoneOffset"),ii(i,"bcYearToNegativeYear"),ii(j,"is0To99")}),iJ=ik((a,b)=>{iu(),b.exports=d;var c=Object.prototype.hasOwnProperty;function d(a){for(var b=1;b<arguments.length;b++){var d=arguments[b];for(var e in d)c.call(d,e)&&(a[e]=d[e])}return a}ii(d,"extend")}),iK=ik((a,b)=>{iu();var c=iJ();function d(a){if(!(this instanceof d))return new d(a);c(this,n(a))}b.exports=d,ii(d,"PostgresInterval");var e=["seconds","minutes","hours","days","months","years"];d.prototype.toPostgres=function(){var a=e.filter(this.hasOwnProperty,this);return this.milliseconds&&0>a.indexOf("seconds")&&a.push("seconds"),0===a.length?"0":a.map(function(a){var b=this[a]||0;return"seconds"===a&&this.milliseconds&&(b=(b+this.milliseconds/1e3).toFixed(6).replace(/\.?0+$/,"")),b+" "+a},this).join(" ")};var f={years:"Y",months:"M",days:"D",hours:"H",minutes:"M",seconds:"S"},g=["years","months","days"],h=["hours","minutes","seconds"];d.prototype.toISOString=d.prototype.toISO=function(){return"P"+g.map(a,this).join("")+"T"+h.map(a,this).join("");function a(a){var b=this[a]||0;return"seconds"===a&&this.milliseconds&&(b=(b+this.milliseconds/1e3).toFixed(6).replace(/0+$/,"")),b+f[a]}};var i="([+-]?\\d+)",j=new RegExp([i+"\\s+years?",i+"\\s+mons?",i+"\\s+days?","([+-])?([\\d]*):(\\d\\d):(\\d\\d)\\.?(\\d{1,6})?"].map(function(a){return"("+a+")?"}).join("\\s*")),k={years:2,months:4,days:6,hours:9,minutes:10,seconds:11,milliseconds:12},l=["hours","minutes","seconds","milliseconds"];function m(a){return parseInt(a+"000000".slice(a.length),10)/1e3}function n(a){if(!a)return{};var b=j.exec(a),c="-"===b[8];return Object.keys(k).reduce(function(a,d){var e=b[k[d]];return e&&(e="milliseconds"===d?m(e):parseInt(e,10))&&(c&&~l.indexOf(d)&&(e*=-1),a[d]=e),a},{})}ii(m,"parseMilliseconds"),ii(n,"parse")}),iL=ik((a,b)=>{iu(),b.exports=ii(function(a){if(/^\\x/.test(a))return new h9(a.substr(2),"hex");for(var b="",c=0;c<a.length;)if("\\"!==a[c])b+=a[c],++c;else if(/[0-7]{3}/.test(a.substr(c+1,3)))b+=String.fromCharCode(parseInt(a.substr(c+1,3),8)),c+=4;else{for(var d=1;c+d<a.length&&"\\"===a[c+d];)d++;for(var e=0;e<Math.floor(d/2);++e)b+="\\";c+=2*Math.floor(d/2)}return new h9(b,"binary")},"parseBytea")}),iM=ik((a,b)=>{iu();var c=iG(),d=iH(),e=iI(),f=iK(),g=iL();function h(a){return ii(function(b){return null===b?b:a(b)},"nullAllowed")}function i(a){return null===a?a:"TRUE"===a||"t"===a||"true"===a||"y"===a||"yes"===a||"on"===a||"1"===a}function j(a){return a?c.parse(a,i):null}function k(a){return parseInt(a,10)}function l(a){return a?c.parse(a,h(k)):null}function m(a){return a?c.parse(a,h(function(a){return u(a).trim()})):null}ii(h,"allowNull"),ii(i,"parseBool"),ii(j,"parseBoolArray"),ii(k,"parseBaseTenInt"),ii(l,"parseIntegerArray"),ii(m,"parseBigIntegerArray");var n=ii(function(a){return a?d.create(a,function(a){return null!==a&&(a=w(a)),a}).parse():null},"parsePointArray"),o=ii(function(a){return a?d.create(a,function(a){return null!==a&&(a=parseFloat(a)),a}).parse():null},"parseFloatArray"),p=ii(function(a){return a?d.create(a).parse():null},"parseStringArray"),q=ii(function(a){return a?d.create(a,function(a){return null!==a&&(a=e(a)),a}).parse():null},"parseDateArray"),r=ii(function(a){return a?d.create(a,function(a){return null!==a&&(a=f(a)),a}).parse():null},"parseIntervalArray"),s=ii(function(a){return a?c.parse(a,h(g)):null},"parseByteAArray"),t=ii(function(a){return parseInt(a,10)},"parseInteger"),u=ii(function(a){var b=String(a);return/^\d+$/.test(b)?b:a},"parseBigInteger"),v=ii(function(a){return a?c.parse(a,h(JSON.parse)):null},"parseJsonArray"),w=ii(function(a){return"("!==a[0]?null:{x:parseFloat((a=a.substring(1,a.length-1).split(","))[0]),y:parseFloat(a[1])}},"parsePoint"),x=ii(function(a){if("<"!==a[0]&&"("!==a[1])return null;for(var b="(",c="",d=!1,e=2;e<a.length-1;e++){if(d||(b+=a[e]),")"===a[e]){d=!0;continue}d&&","!==a[e]&&(c+=a[e])}var f=w(b);return f.radius=parseFloat(c),f},"parseCircle");b.exports={init:ii(function(a){a(20,u),a(21,t),a(23,t),a(26,t),a(700,parseFloat),a(701,parseFloat),a(16,i),a(1082,e),a(1114,e),a(1184,e),a(600,w),a(651,p),a(718,x),a(1e3,j),a(1001,s),a(1005,l),a(1007,l),a(1028,l),a(1016,m),a(1017,n),a(1021,o),a(1022,o),a(1231,o),a(1014,p),a(1015,p),a(1008,p),a(1009,p),a(1040,p),a(1041,p),a(1115,q),a(1182,q),a(1185,q),a(1186,f),a(1187,r),a(17,g),a(114,JSON.parse.bind(JSON)),a(3802,JSON.parse.bind(JSON)),a(199,v),a(3807,v),a(3907,p),a(2951,p),a(791,p),a(1183,p),a(1270,p)},"init")}}),iN=ik((a,b)=>{function c(a){var b=a.readInt32BE(0),c=a.readUInt32BE(4),d="";b<0&&(b=~b+(0===c),c=~c+1>>>0,d="-");var e,f,g,h,i,j,k="";if(e=b%1e6,b=b/1e6>>>0,c=(f=0x100000000*e+c)/1e6>>>0,g=""+(f-1e6*c),0===c&&0===b)return d+g+k;for(h="",i=6-g.length,j=0;j<i;j++)h+="0";if(k=h+g+k,e=b%1e6,b=b/1e6>>>0,c=(f=0x100000000*e+c)/1e6>>>0,g=""+(f-1e6*c),0===c&&0===b)return d+g+k;for(h="",i=6-g.length,j=0;j<i;j++)h+="0";if(k=h+g+k,e=b%1e6,b=b/1e6>>>0,c=(f=0x100000000*e+c)/1e6>>>0,g=""+(f-1e6*c),0===c&&0===b)return d+g+k;for(h="",i=6-g.length,j=0;j<i;j++)h+="0";return k=h+g+k,d+(g=""+(f=0x100000000*(e=b%1e6)+c)%1e6)+k}iu(),ii(c,"readInt8"),b.exports=c}),iO=ik((a,b)=>{iu();var c=iN(),d=ii(function(a,b,c,d,e){c=c||0,d=d||!1,e=e||function(a,b,c){return a*Math.pow(2,c)+b};var f=c>>3,g=ii(function(a){return d?255&~a:a},"inv"),h=255,i=8-c%8;b<i&&(h=255<<8-b&255,i=b),c&&(h>>=c%8);var j=0;c%8+b>=8&&(j=e(0,g(a[f])&h,i));for(var k=b+c>>3,l=f+1;l<k;l++)j=e(j,g(a[l]),8);var m=(b+c)%8;return m>0&&(j=e(j,g(a[k])>>8-m,m)),j},"parseBits"),e=ii(function(a,b,c){var e=Math.pow(2,c-1)-1,f=d(a,1),g=d(a,c,1);if(0===g)return 0;var h=1,i=d(a,b,c+1,!1,ii(function(a,b,c){0===a&&(a=1);for(var d=1;d<=c;d++)h/=2,(b&1<<c-d)>0&&(a+=h);return a},"parsePrecisionBits"));return g==Math.pow(2,c+1)-1?0===i?0===f?1/0:-1/0:NaN:(0===f?1:-1)*Math.pow(2,g-e)*i},"parseFloatFromBits"),f=ii(function(a){return 1==d(a,1)?-1*(d(a,15,1,!0)+1):d(a,15,1)},"parseInt16"),g=ii(function(a){return 1==d(a,1)?-1*(d(a,31,1,!0)+1):d(a,31,1)},"parseInt32"),h=ii(function(a){return e(a,23,8)},"parseFloat32"),i=ii(function(a){return e(a,52,11)},"parseFloat64"),j=ii(function(a){var b=d(a,16,32);if(49152==b)return NaN;for(var c=Math.pow(1e4,d(a,16,16)),e=0,f=d(a,16),g=0;g<f;g++)e+=d(a,16,64+16*g)*c,c/=1e4;var h=Math.pow(10,d(a,16,48));return(0===b?1:-1)*Math.round(e*h)/h},"parseNumeric"),k=ii(function(a,b){var c=d(b,1),e=d(b,63,1),f=new Date((0===c?1:-1)*e/1e3+9466848e5);return a||f.setTime(f.getTime()+6e4*f.getTimezoneOffset()),f.usec=e%1e3,f.getMicroSeconds=function(){return this.usec},f.setMicroSeconds=function(a){this.usec=a},f.getUTCMicroSeconds=function(){return this.usec},f},"parseDate"),l=ii(function(a){for(var b=d(a,32),c=(d(a,32,32),d(a,32,64)),e=96,f=[],g=0;g<b;g++)f[g]=d(a,32,e),e+=64;var h=ii(function(b){var c,f=d(a,32,e);return(e+=32,0xffffffff==f)?null:23==b||20==b?(c=d(a,8*f,e),e+=8*f,c):25==b?a.toString(this.encoding,e>>3,(e+=f<<3)>>3):void console.log("ERROR: ElementType not implemented: "+b)},"parseElement"),i=ii(function(a,b){var c,d=[];if(a.length>1){var e=a.shift();for(c=0;c<e;c++)d[c]=i(a,b);a.unshift(e)}else for(c=0;c<a[0];c++)d[c]=h(b);return d},"parse");return i(f,c)},"parseArray"),m=ii(function(a){return a.toString("utf8")},"parseText"),n=ii(function(a){return null===a?null:d(a,8)>0},"parseBool");b.exports={init:ii(function(a){a(20,c),a(21,f),a(23,g),a(26,g),a(1700,j),a(700,h),a(701,i),a(16,n),a(1114,k.bind(null,!1)),a(1184,k.bind(null,!0)),a(1e3,l),a(1007,l),a(1016,l),a(1008,l),a(1009,l),a(25,m)},"init")}}),iP=ik((a,b)=>{iu(),b.exports={BOOL:16,BYTEA:17,CHAR:18,INT8:20,INT2:21,INT4:23,REGPROC:24,TEXT:25,OID:26,TID:27,XID:28,CID:29,JSON:114,XML:142,PG_NODE_TREE:194,SMGR:210,PATH:602,POLYGON:604,CIDR:650,FLOAT4:700,FLOAT8:701,ABSTIME:702,RELTIME:703,TINTERVAL:704,CIRCLE:718,MACADDR8:774,MONEY:790,MACADDR:829,INET:869,ACLITEM:1033,BPCHAR:1042,VARCHAR:1043,DATE:1082,TIME:1083,TIMESTAMP:1114,TIMESTAMPTZ:1184,INTERVAL:1186,TIMETZ:1266,BIT:1560,VARBIT:1562,NUMERIC:1700,REFCURSOR:1790,REGPROCEDURE:2202,REGOPER:2203,REGOPERATOR:2204,REGCLASS:2205,REGTYPE:2206,UUID:2950,TXID_SNAPSHOT:2970,PG_LSN:3220,PG_NDISTINCT:3361,PG_DEPENDENCIES:3402,TSVECTOR:3614,TSQUERY:3615,GTSVECTOR:3642,REGCONFIG:3734,REGDICTIONARY:3769,JSONB:3802,REGNAMESPACE:4089,REGROLE:4096}}),iQ=ik(a=>{iu();var b=iM(),c=iO(),d=iH(),e=iP();a.getTypeParser=h,a.setTypeParser=i,a.arrayParser=d,a.builtins=e;var f={text:{},binary:{}};function g(a){return String(a)}function h(a,b){return f[b=b||"text"]&&f[b][a]||g}function i(a,b,c){"function"==typeof b&&(c=b,b="text"),f[b][a]=c}ii(g,"noParse"),ii(h,"getTypeParser"),ii(i,"setTypeParser"),b.init(function(a,b){f.text[a]=b}),c.init(function(a,b){f.binary[a]=b})}),iR=ik((a,b)=>{iu();var c=iQ();function d(a){this._types=a||c,this.text={},this.binary={}}ii(d,"TypeOverrides"),d.prototype.getOverrides=function(a){switch(a){case"text":return this.text;case"binary":return this.binary;default:return{}}},d.prototype.setTypeParser=function(a,b,c){"function"==typeof b&&(c=b,b="text"),this.getOverrides(b)[a]=c},d.prototype.getTypeParser=function(a,b){return b=b||"text",this.getOverrides(b)[a]||this._types.getTypeParser(a,b)},b.exports=d});function iS(a){let b=0x6a09e667,c=0xbb67ae85,d=0x3c6ef372,e=0xa54ff53a,f=0x510e527f,g=0x9b05688c,h=0x1f83d9ab,i=0x5be0cd19,j=0,k=0,l=[0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2],m=ii((a,b)=>a>>>b|a<<32-b,"rrot"),n=new Uint32Array(64),o=new Uint8Array(64),p=ii(()=>{for(let a=0,b=0;a<16;a++,b+=4)n[a]=o[b]<<24|o[b+1]<<16|o[b+2]<<8|o[b+3];for(let a=16;a<64;a++){let b=m(n[a-15],7)^m(n[a-15],18)^n[a-15]>>>3,c=m(n[a-2],17)^m(n[a-2],19)^n[a-2]>>>10;n[a]=n[a-16]+b+n[a-7]+c|0}let a=b,j=c,p=d,q=e,r=f,s=g,t=h,u=i;for(let b=0;b<64;b++){let c=u+(m(r,6)^m(r,11)^m(r,25))+(r&s^~r&t)+l[b]+n[b]|0,d=(m(a,2)^m(a,13)^m(a,22))+(a&j^a&p^j&p)|0;u=t,t=s,s=r,r=q+c|0,q=p,p=j,j=a,a=c+d|0}b=b+a|0,c=c+j|0,d=d+p|0,e=e+q|0,f=f+r|0,g=g+s|0,h=h+t|0,i=i+u|0,k=0},"process"),q=ii(a=>{"string"==typeof a&&(a=new TextEncoder().encode(a));for(let b=0;b<a.length;b++)o[k++]=a[b],64===k&&p();j+=a.length},"add"),r=ii(()=>{if(o[k++]=128,64==k&&p(),k+8>64){for(;k<64;)o[k++]=0;p()}for(;k<58;)o[k++]=0;let a=8*j;o[k++]=a/0x10000000000&255,o[k++]=a/0x100000000&255,o[k++]=a>>>24,o[k++]=a>>>16&255,o[k++]=a>>>8&255,o[k++]=255&a,p();let l=new Uint8Array(32);return l[0]=b>>>24,l[1]=b>>>16&255,l[2]=b>>>8&255,l[3]=255&b,l[4]=c>>>24,l[5]=c>>>16&255,l[6]=c>>>8&255,l[7]=255&c,l[8]=d>>>24,l[9]=d>>>16&255,l[10]=d>>>8&255,l[11]=255&d,l[12]=e>>>24,l[13]=e>>>16&255,l[14]=e>>>8&255,l[15]=255&e,l[16]=f>>>24,l[17]=f>>>16&255,l[18]=f>>>8&255,l[19]=255&f,l[20]=g>>>24,l[21]=g>>>16&255,l[22]=g>>>8&255,l[23]=255&g,l[24]=h>>>24,l[25]=h>>>16&255,l[26]=h>>>8&255,l[27]=255&h,l[28]=i>>>24,l[29]=i>>>16&255,l[30]=i>>>8&255,l[31]=255&i,l},"digest");return void 0===a?{add:q,digest:r}:(q(a),r())}var iT,iU,iV=ij(()=>{iu(),ii(iS,"sha256")}),iW=ij(()=>{iu(),ii(iT=class a{constructor(){iq(this,"_dataLength",0),iq(this,"_bufferLength",0),iq(this,"_state",new Int32Array(4)),iq(this,"_buffer",new ArrayBuffer(68)),iq(this,"_buffer8"),iq(this,"_buffer32"),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashByteArray(a,b=!1){return this.onePassHasher.start().appendByteArray(a).end(b)}static hashStr(a,b=!1){return this.onePassHasher.start().appendStr(a).end(b)}static hashAsciiStr(a,b=!1){return this.onePassHasher.start().appendAsciiStr(a).end(b)}static _hex(b){let c=a.hexChars,d=a.hexOut,e,f,g,h;for(h=0;h<4;h+=1)for(f=8*h,e=b[h],g=0;g<8;g+=2)d[f+1+g]=c.charAt(15&e),e>>>=4,d[f+0+g]=c.charAt(15&e),e>>>=4;return d.join("")}static _md5cycle(a,b){let c=a[0],d=a[1],e=a[2],f=a[3];c+=(d&e|~d&f)+b[0]-0x28955b88|0,f+=((c=(c<<7|c>>>25)+d|0)&d|~c&e)+b[1]-0x173848aa|0,e+=((f=(f<<12|f>>>20)+c|0)&c|~f&d)+b[2]+0x242070db|0,d+=((e=(e<<17|e>>>15)+f|0)&f|~e&c)+b[3]-0x3e423112|0,c+=((d=(d<<22|d>>>10)+e|0)&e|~d&f)+b[4]-0xa83f051|0,f+=((c=(c<<7|c>>>25)+d|0)&d|~c&e)+b[5]+0x4787c62a|0,e+=((f=(f<<12|f>>>20)+c|0)&c|~f&d)+b[6]-0x57cfb9ed|0,d+=((e=(e<<17|e>>>15)+f|0)&f|~e&c)+b[7]-0x2b96aff|0,c+=((d=(d<<22|d>>>10)+e|0)&e|~d&f)+b[8]+0x698098d8|0,f+=((c=(c<<7|c>>>25)+d|0)&d|~c&e)+b[9]-0x74bb0851|0,e+=((f=(f<<12|f>>>20)+c|0)&c|~f&d)+b[10]-42063|0,d+=((e=(e<<17|e>>>15)+f|0)&f|~e&c)+b[11]-0x76a32842|0,c+=((d=(d<<22|d>>>10)+e|0)&e|~d&f)+b[12]+0x6b901122|0,f+=((c=(c<<7|c>>>25)+d|0)&d|~c&e)+b[13]-0x2678e6d|0,e+=((f=(f<<12|f>>>20)+c|0)&c|~f&d)+b[14]-0x5986bc72|0,d+=((e=(e<<17|e>>>15)+f|0)&f|~e&c)+b[15]+0x49b40821|0,c+=((d=(d<<22|d>>>10)+e|0)&f|e&~f)+b[1]-0x9e1da9e|0,f+=((c=(c<<5|c>>>27)+d|0)&e|d&~e)+b[6]-0x3fbf4cc0|0,e+=((f=(f<<9|f>>>23)+c|0)&d|c&~d)+b[11]+0x265e5a51|0,d+=((e=(e<<14|e>>>18)+f|0)&c|f&~c)+b[0]-0x16493856|0,c+=((d=(d<<20|d>>>12)+e|0)&f|e&~f)+b[5]-0x29d0efa3|0,f+=((c=(c<<5|c>>>27)+d|0)&e|d&~e)+b[10]+0x2441453|0,e+=((f=(f<<9|f>>>23)+c|0)&d|c&~d)+b[15]-0x275e197f|0,d+=((e=(e<<14|e>>>18)+f|0)&c|f&~c)+b[4]-0x182c0438|0,c+=((d=(d<<20|d>>>12)+e|0)&f|e&~f)+b[9]+0x21e1cde6|0,f+=((c=(c<<5|c>>>27)+d|0)&e|d&~e)+b[14]-0x3cc8f82a|0,e+=((f=(f<<9|f>>>23)+c|0)&d|c&~d)+b[3]-0xb2af279|0,d+=((e=(e<<14|e>>>18)+f|0)&c|f&~c)+b[8]+0x455a14ed|0,c+=((d=(d<<20|d>>>12)+e|0)&f|e&~f)+b[13]-0x561c16fb|0,f+=((c=(c<<5|c>>>27)+d|0)&e|d&~e)+b[2]-0x3105c08|0,e+=((f=(f<<9|f>>>23)+c|0)&d|c&~d)+b[7]+0x676f02d9|0,d+=((e=(e<<14|e>>>18)+f|0)&c|f&~c)+b[12]-0x72d5b376|0,c+=((d=(d<<20|d>>>12)+e|0)^e^f)+b[5]-378558|0,f+=((c=(c<<4|c>>>28)+d|0)^d^e)+b[8]-0x788e097f|0,e+=((f=(f<<11|f>>>21)+c|0)^c^d)+b[11]+0x6d9d6122|0,d+=((e=(e<<16|e>>>16)+f|0)^f^c)+b[14]-0x21ac7f4|0,c+=((d=(d<<23|d>>>9)+e|0)^e^f)+b[1]-0x5b4115bc|0,f+=((c=(c<<4|c>>>28)+d|0)^d^e)+b[4]+0x4bdecfa9|0,e+=((f=(f<<11|f>>>21)+c|0)^c^d)+b[7]-0x944b4a0|0,d+=((e=(e<<16|e>>>16)+f|0)^f^c)+b[10]-0x41404390|0,c+=((d=(d<<23|d>>>9)+e|0)^e^f)+b[13]+0x289b7ec6|0,f+=((c=(c<<4|c>>>28)+d|0)^d^e)+b[0]-0x155ed806|0,e+=((f=(f<<11|f>>>21)+c|0)^c^d)+b[3]-0x2b10cf7b|0,d+=((e=(e<<16|e>>>16)+f|0)^f^c)+b[6]+0x4881d05|0,c+=((d=(d<<23|d>>>9)+e|0)^e^f)+b[9]-0x262b2fc7|0,f+=((c=(c<<4|c>>>28)+d|0)^d^e)+b[12]-0x1924661b|0,e+=((f=(f<<11|f>>>21)+c|0)^c^d)+b[15]+0x1fa27cf8|0,d+=((e=(e<<16|e>>>16)+f|0)^f^c)+b[2]-0x3b53a99b|0,d=(d<<23|d>>>9)+e|0,c+=(e^(d|~f))+b[0]-0xbd6ddbc|0,c=(c<<6|c>>>26)+d|0,f+=(d^(c|~e))+b[7]+0x432aff97|0,f=(f<<10|f>>>22)+c|0,e+=(c^(f|~d))+b[14]-0x546bdc59|0,e=(e<<15|e>>>17)+f|0,d+=(f^(e|~c))+b[5]-0x36c5fc7|0,d=(d<<21|d>>>11)+e|0,c+=(e^(d|~f))+b[12]+0x655b59c3|0,c=(c<<6|c>>>26)+d|0,f+=(d^(c|~e))+b[3]-0x70f3336e|0,f=(f<<10|f>>>22)+c|0,e+=(c^(f|~d))+b[10]-1051523|0,e=(e<<15|e>>>17)+f|0,d+=(f^(e|~c))+b[1]-0x7a7ba22f|0,d=(d<<21|d>>>11)+e|0,c+=(e^(d|~f))+b[8]+0x6fa87e4f|0,c=(c<<6|c>>>26)+d|0,f+=(d^(c|~e))+b[15]-0x1d31920|0,f=(f<<10|f>>>22)+c|0,e+=(c^(f|~d))+b[6]-0x5cfebcec|0,e=(e<<15|e>>>17)+f|0,d+=(f^(e|~c))+b[13]+0x4e0811a1|0,d=(d<<21|d>>>11)+e|0,c+=(e^(d|~f))+b[4]-0x8ac817e|0,c=(c<<6|c>>>26)+d|0,f+=(d^(c|~e))+b[11]-0x42c50dcb|0,f=(f<<10|f>>>22)+c|0,e+=(c^(f|~d))+b[2]+0x2ad7d2bb|0,e=(e<<15|e>>>17)+f|0,d+=(f^(e|~c))+b[9]-0x14792c6f|0,d=(d<<21|d>>>11)+e|0,a[0]=c+a[0]|0,a[1]=d+a[1]|0,a[2]=e+a[2]|0,a[3]=f+a[3]|0}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(a.stateIdentity),this}appendStr(b){let c=this._buffer8,d=this._buffer32,e=this._bufferLength,f,g;for(g=0;g<b.length;g+=1){if((f=b.charCodeAt(g))<128)c[e++]=f;else if(f<2048)c[e++]=(f>>>6)+192,c[e++]=63&f|128;else if(f<55296||f>56319)c[e++]=(f>>>12)+224,c[e++]=f>>>6&63|128,c[e++]=63&f|128;else{if((f=(f-55296)*1024+(b.charCodeAt(++g)-56320)+65536)>1114111)throw Error("Unicode standard supports code points up to U+10FFFF");c[e++]=(f>>>18)+240,c[e++]=f>>>12&63|128,c[e++]=f>>>6&63|128,c[e++]=63&f|128}e>=64&&(this._dataLength+=64,a._md5cycle(this._state,d),e-=64,d[0]=d[16])}return this._bufferLength=e,this}appendAsciiStr(b){let c=this._buffer8,d=this._buffer32,e=this._bufferLength,f,g=0;for(;;){for(f=Math.min(b.length-g,64-e);f--;)c[e++]=b.charCodeAt(g++);if(e<64)break;this._dataLength+=64,a._md5cycle(this._state,d),e=0}return this._bufferLength=e,this}appendByteArray(b){let c=this._buffer8,d=this._buffer32,e=this._bufferLength,f,g=0;for(;;){for(f=Math.min(b.length-g,64-e);f--;)c[e++]=b[g++];if(e<64)break;this._dataLength+=64,a._md5cycle(this._state,d),e=0}return this._bufferLength=e,this}getState(){let a=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[a[0],a[1],a[2],a[3]]}}setState(a){let b=a.buffer,c=a.state,d=this._state,e;for(this._dataLength=a.length,this._bufferLength=a.buflen,d[0]=c[0],d[1]=c[1],d[2]=c[2],d[3]=c[3],e=0;e<b.length;e+=1)this._buffer8[e]=b.charCodeAt(e)}end(b=!1){let c=this._bufferLength,d=this._buffer8,e=this._buffer32,f=(c>>2)+1;this._dataLength+=c;let g=8*this._dataLength;if(d[c]=128,d[c+1]=d[c+2]=d[c+3]=0,e.set(a.buffer32Identity.subarray(f),f),c>55&&(a._md5cycle(this._state,e),e.set(a.buffer32Identity)),g<=0xffffffff)e[14]=g;else{let a=g.toString(16).match(/(.*?)(.{0,8})$/);if(null===a)return;let b=parseInt(a[2],16),c=parseInt(a[1],16)||0;e[14]=b,e[15]=c}return a._md5cycle(this._state,e),b?this._state:a._hex(this._state)}},"Md5"),iq(iT,"stateIdentity",new Int32Array([0x67452301,-0x10325477,-0x67452302,0x10325476])),iq(iT,"buffer32Identity",new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),iq(iT,"hexChars","0123456789abcdef"),iq(iT,"hexOut",[]),iq(iT,"onePassHasher",new iT),iU=iT}),iX={};function iY(a){return crypto.getRandomValues(h9.alloc(a))}function iZ(a){if("sha256"===a)return{update:ii(function(a){return{digest:ii(function(){return h9.from(iS(a))},"digest")}},"update")};if("md5"===a)return{update:ii(function(a){return{digest:ii(function(){return"string"==typeof a?iU.hashStr(a):iU.hashByteArray(a)},"digest")}},"update")};throw Error(`Hash type '${a}' not supported`)}function i$(a,b){if("sha256"!==a)throw Error(`\
Only sha256 is supported (requested: '${a}')`);return{update:ii(function(a){return{digest:ii(function(){"string"==typeof b&&(b=new TextEncoder().encode(b)),"string"==typeof a&&(a=new TextEncoder().encode(a));let c=b.length;if(c>64)b=iS(b);else if(c<64){let a=new Uint8Array(64);a.set(b),b=a}let d=new Uint8Array(64),e=new Uint8Array(64);for(let a=0;a<64;a++)d[a]=54^b[a],e[a]=92^b[a];let f=new Uint8Array(a.length+64);f.set(d,0),f.set(a,64);let g=new Uint8Array(96);return g.set(e,0),g.set(iS(f),64),h9.from(iS(g))},"digest")}},"update")}}il(iX,{createHash:()=>iZ,createHmac:()=>i$,randomBytes:()=>iY});var i_=ij(()=>{iu(),iV(),iW(),ii(iY,"randomBytes"),ii(iZ,"createHash"),ii(i$,"createHmac")}),i0=ik((a,b)=>{iu(),b.exports={host:"localhost",user:"win32"===ia.platform?ia.env.USERNAME:ia.env.USER,database:void 0,password:null,connectionString:void 0,port:5432,rows:0,binary:!1,max:10,idleTimeoutMillis:3e4,client_encoding:"",ssl:!1,application_name:void 0,fallback_application_name:void 0,options:void 0,parseInputDatesAsUTC:!1,statement_timeout:!1,lock_timeout:!1,idle_in_transaction_session_timeout:!1,query_timeout:!1,connect_timeout:0,keepalives:1,keepalives_idle:0};var c=iQ(),d=c.getTypeParser(20,"text"),e=c.getTypeParser(1016,"text");b.exports.__defineSetter__("parseInt8",function(a){c.setTypeParser(20,"text",a?c.getTypeParser(23,"text"):d),c.setTypeParser(1016,"text",a?c.getTypeParser(1007,"text"):e)})}),i1=ik((a,b)=>{iu();var c=(i_(),ip(iX)),d=i0();function e(a){return'"'+a.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'}function f(a){for(var b="{",c=0;c<a.length;c++)c>0&&(b+=","),null===a[c]||typeof a[c]>"u"?b+="NULL":Array.isArray(a[c])?b+=f(a[c]):a[c]instanceof h9?b+="\\\\x"+a[c].toString("hex"):b+=e(g(a[c]));return b+"}"}ii(e,"escapeElement"),ii(f,"arrayString");var g=ii(function(a,b){if(null==a)return null;if(a instanceof h9)return a;if(ArrayBuffer.isView(a)){var c=h9.from(a.buffer,a.byteOffset,a.byteLength);return c.length===a.byteLength?c:c.slice(a.byteOffset,a.byteOffset+a.byteLength)}return a instanceof Date?d.parseInputDatesAsUTC?k(a):j(a):Array.isArray(a)?f(a):"object"==typeof a?h(a,b):a.toString()},"prepareValue");function h(a,b){if(a&&"function"==typeof a.toPostgres){if(-1!==(b=b||[]).indexOf(a))throw Error('circular reference detected while preparing "'+a+'" for query');return b.push(a),g(a.toPostgres(g),b)}return JSON.stringify(a)}function i(a,b){for(a=""+a;a.length<b;)a="0"+a;return a}function j(a){var b=-a.getTimezoneOffset(),c=a.getFullYear(),d=c<1;d&&(c=Math.abs(c)+1);var e=i(c,4)+"-"+i(a.getMonth()+1,2)+"-"+i(a.getDate(),2)+"T"+i(a.getHours(),2)+":"+i(a.getMinutes(),2)+":"+i(a.getSeconds(),2)+"."+i(a.getMilliseconds(),3);return b<0?(e+="-",b*=-1):e+="+",e+=i(Math.floor(b/60),2)+":"+i(b%60,2),d&&(e+=" BC"),e}function k(a){var b=a.getUTCFullYear(),c=b<1;c&&(b=Math.abs(b)+1);var d=i(b,4)+"-"+i(a.getUTCMonth()+1,2)+"-"+i(a.getUTCDate(),2)+"T"+i(a.getUTCHours(),2)+":"+i(a.getUTCMinutes(),2)+":"+i(a.getUTCSeconds(),2)+"."+i(a.getUTCMilliseconds(),3);return d+="+00:00",c&&(d+=" BC"),d}function l(a,b,c){return a="string"==typeof a?{text:a}:a,b&&("function"==typeof b?a.callback=b:a.values=b),c&&(a.callback=c),a}ii(h,"prepareObject"),ii(i,"pad"),ii(j,"dateToString"),ii(k,"dateToStringUTC"),ii(l,"normalizeQueryConfig");var m=ii(function(a){return c.createHash("md5").update(a,"utf-8").digest("hex")},"md5"),n=ii(function(a,b,c){var d=m(b+a);return"md5"+m(h9.concat([h9.from(d),c]))},"postgresMd5PasswordHash");b.exports={prepareValue:ii(function(a){return g(a)},"prepareValueWrapper"),normalizeQueryConfig:l,postgresMd5PasswordHash:n,md5:m}}),i2={};il(i2,{default:()=>i3});var i3,i4=ij(()=>{iu(),i3={}}),i5=ik((a,b)=>{iu();var c=(i_(),ip(iX));function d(a){if(-1===a.indexOf("SCRAM-SHA-256"))throw Error("SASL: Only mechanism SCRAM-SHA-256 is currently supported");let b=c.randomBytes(18).toString("base64");return{mechanism:"SCRAM-SHA-256",clientNonce:b,response:"n,,n=*,r="+b,message:"SASLInitialResponse"}}function e(a,b,c){if("SASLInitialResponse"!==a.message)throw Error("SASL: Last message was not SASLInitialResponse");if("string"!=typeof b)throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a string");if("string"!=typeof c)throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: serverData must be a string");let d=j(c);if(d.nonce.startsWith(a.clientNonce)){if(d.nonce.length===a.clientNonce.length)throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce is too short")}else throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not start with client nonce");var e=o(b,h9.from(d.salt,"base64"),d.iteration),f=n(e,"Client Key"),g=m(f),h="n=*,r="+a.clientNonce,i="r="+d.nonce+",s="+d.salt+",i="+d.iteration,k="c=biws,r="+d.nonce,p=h+","+i+","+k,q=l(f,n(g,p)).toString("base64"),r=n(e,"Server Key"),s=n(r,p);a.message="SASLResponse",a.serverSignature=s.toString("base64"),a.response=k+",p="+q}function f(a,b){if("SASLResponse"!==a.message)throw Error("SASL: Last message was not SASLResponse");if("string"!=typeof b)throw Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: serverData must be a string");let{serverSignature:c}=k(b);if(c!==a.serverSignature)throw Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature does not match")}function g(a){if("string"!=typeof a)throw TypeError("SASL: text must be a string");return a.split("").map((b,c)=>a.charCodeAt(c)).every(a=>a>=33&&a<=43||a>=45&&a<=126)}function h(a){return/^(?:[a-zA-Z0-9+/]{4})*(?:[a-zA-Z0-9+/]{2}==|[a-zA-Z0-9+/]{3}=)?$/.test(a)}function i(a){if("string"!=typeof a)throw TypeError("SASL: attribute pairs text must be a string");return new Map(a.split(",").map(a=>{if(!/^.=/.test(a))throw Error("SASL: Invalid attribute pair entry");return[a[0],a.substring(2)]}))}function j(a){let b=i(a),c=b.get("r");if(c){if(!g(c))throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce must only contain printable characters")}else throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce missing");let d=b.get("s");if(d){if(!h(d))throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt must be base64")}else throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing");let e=b.get("i");if(e){if(!/^[1-9][0-9]*$/.test(e))throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: invalid iteration count")}else throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: iteration missing");return{nonce:c,salt:d,iteration:parseInt(e,10)}}function k(a){let b=i(a).get("v");if(b){if(!h(b))throw Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature must be base64")}else throw Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature is missing");return{serverSignature:b}}function l(a,b){if(!h9.isBuffer(a))throw TypeError("first argument must be a Buffer");if(!h9.isBuffer(b))throw TypeError("second argument must be a Buffer");if(a.length!==b.length)throw Error("Buffer lengths must match");if(0===a.length)throw Error("Buffers cannot be empty");return h9.from(a.map((c,d)=>a[d]^b[d]))}function m(a){return c.createHash("sha256").update(a).digest()}function n(a,b){return c.createHmac("sha256",a).update(b).digest()}function o(a,b,c){for(var d=n(a,h9.concat([b,h9.from([0,0,0,1])])),e=d,f=0;f<c-1;f++)e=l(e,d=n(a,d));return e}ii(d,"startSession"),ii(e,"continueSession"),ii(f,"finalizeSession"),ii(g,"isPrintableChars"),ii(h,"isBase64"),ii(i,"parseAttributePairs"),ii(j,"parseServerFirstMessage"),ii(k,"parseServerFinalMessage"),ii(l,"xorBuffers"),ii(m,"sha256"),ii(n,"hmacSha256"),ii(o,"Hi"),b.exports={startSession:d,continueSession:e,finalizeSession:f}}),i6={};function i7(...a){return a.join("/")}il(i6,{join:()=>i7});var i8=ij(()=>{iu(),ii(i7,"join")}),i9={};function ja(a,b){b(Error("No filesystem"))}il(i9,{stat:()=>ja});var jb=ij(()=>{iu(),ii(ja,"stat")}),jc={};il(jc,{default:()=>jd});var jd,je=ij(()=>{iu(),jd={}}),jf={};il(jf,{StringDecoder:()=>jh});var jg,jh,ji=ij(()=>{iu(),ii(jg=class{constructor(a){iq(this,"td"),this.td=new TextDecoder(a)}write(a){return this.td.decode(a,{stream:!0})}end(a){return this.td.decode(a)}},"StringDecoder"),jh=jg}),jj=ik((a,b)=>{iu();var{Transform:c}=(je(),ip(jc)),{StringDecoder:d}=(ji(),ip(jf)),e=Symbol("last"),f=Symbol("decoder");function g(a,b,c){let d;if(this.overflow){if(1===(d=this[f].write(a).split(this.matcher)).length)return c();d.shift(),this.overflow=!1}else this[e]+=this[f].write(a),d=this[e].split(this.matcher);this[e]=d.pop();for(let a=0;a<d.length;a++)try{i(this,this.mapper(d[a]))}catch(a){return c(a)}if(this.overflow=this[e].length>this.maxLength,this.overflow&&!this.skipOverflow)return void c(Error("maximum buffer reached"));c()}function h(a){if(this[e]+=this[f].end(),this[e])try{i(this,this.mapper(this[e]))}catch(b){return a(b)}a()}function i(a,b){void 0!==b&&a.push(b)}function j(a){return a}function k(a,b,i){switch(a=a||/\r?\n/,b=b||j,i=i||{},arguments.length){case 1:"function"==typeof a?(b=a,a=/\r?\n/):"object"!=typeof a||a instanceof RegExp||a[Symbol.split]||(i=a,a=/\r?\n/);break;case 2:"function"==typeof a?(i=b,b=a,a=/\r?\n/):"object"==typeof b&&(i=b,b=j)}(i=Object.assign({},i)).autoDestroy=!0,i.transform=g,i.flush=h,i.readableObjectMode=!0;let k=new c(i);return k[e]="",k[f]=new d("utf8"),k.matcher=a,k.mapper=b,k.maxLength=i.maxLength,k.skipOverflow=i.skipOverflow||!1,k.overflow=!1,k._destroy=function(a,b){this._writableState.errorEmitted=!1,b(a)},k}ii(g,"transform"),ii(h,"flush"),ii(i,"push"),ii(j,"noop"),ii(k,"split"),b.exports=k}),jk=ik((a,b)=>{iu();var c=(i8(),ip(i6)),d=(je(),ip(jc)).Stream,e=jj(),f=(i4(),ip(i2)),g="win32"===ia.platform,h=ia.stderr;function i(a){return(61440&a)==32768}ii(i,"isRegFile");var j=["host","port","database","user","password"],k=j.length,l=j[k-1];function m(){if(h instanceof d&&!0===h.writable){var a=Array.prototype.slice.call(arguments).concat(`
`);h.write(f.format.apply(f,a))}}ii(m,"warn"),Object.defineProperty(b.exports,"isWin",{get:ii(function(){return g},"get"),set:ii(function(a){g=a},"set")}),b.exports.warnTo=function(a){var b=h;return h=a,b},b.exports.getFileName=function(a){var b=a||ia.env;return b.PGPASSFILE||(g?c.join(b.APPDATA||"./","postgresql","pgpass.conf"):c.join(b.HOME||"./",".pgpass"))},b.exports.usePgPass=function(a,b){return!Object.prototype.hasOwnProperty.call(ia.env,"PGPASSWORD")&&(!!g||(b=b||"<unkn>",i(a.mode)?!(63&a.mode)||(m('WARNING: password file "%s" has group or world access; permissions should be u=rw (0600) or less',b),!1):(m('WARNING: password file "%s" is not a plain file',b),!1)))};var n=b.exports.match=function(a,b){return j.slice(0,-1).reduce(function(c,d,e){return 1==e&&Number(a[d]||5432)===Number(b[d])?c&&!0:c&&("*"===b[d]||b[d]===a[d])},!0)};b.exports.getPassword=function(a,b,c){var d,f=b.pipe(e());function g(b){var c=o(b);c&&p(c)&&n(a,c)&&(d=c[l],f.end())}ii(g,"onLine");var h=ii(function(){b.destroy(),c(d)},"onEnd"),i=ii(function(a){b.destroy(),m("WARNING: error on reading file: %s",a),c(void 0)},"onErr");b.on("error",i),f.on("data",g).on("end",h).on("error",i)};var o=b.exports.parseLine=function(a){if(a.length<11||a.match(/^\s+#/))return null;for(var b="",c="",d=0,e=0,f={},g=ii(function(b,c,d){var e=a.substring(c,d);Object.hasOwnProperty.call(ia.env,"PGPASS_NO_DEESCAPE")||(e=e.replace(/\\([:\\])/g,"$1")),f[j[b]]=e},"addToObj"),h=0;h<a.length-1;h+=1){if(b=a.charAt(h+1),c=a.charAt(h),d==k-1){g(d,e);break}h>=0&&":"==b&&"\\"!==c&&(g(d,e,h+1),e=h+2,d+=1)}return f=Object.keys(f).length===k?f:null},p=b.exports.isValidEntry=function(a){for(var b={0:function(a){return a.length>0},1:function(a){return"*"===a||isFinite(a=Number(a))&&a>0&&a<0x20000000000000&&Math.floor(a)===a},2:function(a){return a.length>0},3:function(a){return a.length>0},4:function(a){return a.length>0}},c=0;c<j.length;c+=1)if(!(0,b[c])(a[j[c]]||""))return!1;return!0}}),jl=ik((a,b)=>{iu(),i8(),ip(i6);var c=(jb(),ip(i9)),d=jk();b.exports=function(a,b){var e=d.getFileName();c.stat(e,function(f,g){if(f||!d.usePgPass(g,e))return b(void 0);var h=c.createReadStream(e);d.getPassword(a,h,b)})},b.exports.warnTo=d.warnTo}),jm={};il(jm,{default:()=>jn});var jn,jo=ij(()=>{iu(),jn={}}),jp=ik((a,b)=>{iu();var c=(iF(),ip(iD)),d=(jb(),ip(i9));function e(a){if("/"===a.charAt(0)){var b=a.split(" ");return{host:b[0],database:b[1]}}var e=c.parse(/ |%[^a-f0-9]|%[a-f0-9][^a-f0-9]/i.test(a)?encodeURI(a).replace(/\%25(\d\d)/g,"%$1"):a,!0),b=e.query;for(var f in b)Array.isArray(b[f])&&(b[f]=b[f][b[f].length-1]);var g=(e.auth||":").split(":");if(b.user=g[0],b.password=g.splice(1).join(":"),b.port=e.port,"socket:"==e.protocol)return b.host=decodeURI(e.pathname),b.database=e.query.db,b.client_encoding=e.query.encoding,b;b.host||(b.host=e.hostname);var h=e.pathname;if(!b.host&&h&&/^%2f/i.test(h)){var i=h.split("/");b.host=decodeURIComponent(i[0]),h=i.splice(1).join("/")}switch(h&&"/"===h.charAt(0)&&(h=h.slice(1)||null),b.database=h&&decodeURI(h),("true"===b.ssl||"1"===b.ssl)&&(b.ssl=!0),"0"===b.ssl&&(b.ssl=!1),(b.sslcert||b.sslkey||b.sslrootcert||b.sslmode)&&(b.ssl={}),b.sslcert&&(b.ssl.cert=d.readFileSync(b.sslcert).toString()),b.sslkey&&(b.ssl.key=d.readFileSync(b.sslkey).toString()),b.sslrootcert&&(b.ssl.ca=d.readFileSync(b.sslrootcert).toString()),b.sslmode){case"disable":b.ssl=!1;break;case"prefer":case"require":case"verify-ca":case"verify-full":break;case"no-verify":b.ssl.rejectUnauthorized=!1}return b}ii(e,"parse"),b.exports=e,e.parse=e}),jq=ik((a,b)=>{iu();var c=(jo(),ip(jm)),d=i0(),e=jp().parse,f=ii(function(a,b,c){return void 0===c?c=ia.env["PG"+a.toUpperCase()]:!1===c||(c=ia.env[c]),b[a]||c||d[a]},"val"),g=ii(function(){switch(ia.env.PGSSLMODE){case"disable":return!1;case"prefer":case"require":case"verify-ca":case"verify-full":return!0;case"no-verify":return{rejectUnauthorized:!1}}return d.ssl},"readSSLConfigFromEnvironment"),h=ii(function(a){return"'"+(""+a).replace(/\\/g,"\\\\").replace(/'/g,"\\'")+"'"},"quoteParamValue"),i=ii(function(a,b,c){var d=b[c];null!=d&&a.push(c+"="+h(d))},"add"),j=class{constructor(a){(a="string"==typeof a?e(a):a||{}).connectionString&&(a=Object.assign({},a,e(a.connectionString))),this.user=f("user",a),this.database=f("database",a),void 0===this.database&&(this.database=this.user),this.port=parseInt(f("port",a),10),this.host=f("host",a),Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:f("password",a)}),this.binary=f("binary",a),this.options=f("options",a),this.ssl=typeof a.ssl>"u"?g():a.ssl,"string"==typeof this.ssl&&"true"===this.ssl&&(this.ssl=!0),"no-verify"===this.ssl&&(this.ssl={rejectUnauthorized:!1}),this.ssl&&this.ssl.key&&Object.defineProperty(this.ssl,"key",{enumerable:!1}),this.client_encoding=f("client_encoding",a),this.replication=f("replication",a),this.isDomainSocket=!(this.host||"").indexOf("/"),this.application_name=f("application_name",a,"PGAPPNAME"),this.fallback_application_name=f("fallback_application_name",a,!1),this.statement_timeout=f("statement_timeout",a,!1),this.lock_timeout=f("lock_timeout",a,!1),this.idle_in_transaction_session_timeout=f("idle_in_transaction_session_timeout",a,!1),this.query_timeout=f("query_timeout",a,!1),void 0===a.connectionTimeoutMillis?this.connect_timeout=ia.env.PGCONNECT_TIMEOUT||0:this.connect_timeout=Math.floor(a.connectionTimeoutMillis/1e3),!1===a.keepAlive?this.keepalives=0:!0===a.keepAlive&&(this.keepalives=1),"number"==typeof a.keepAliveInitialDelayMillis&&(this.keepalives_idle=Math.floor(a.keepAliveInitialDelayMillis/1e3))}getLibpqConnectionString(a){var b=[];i(b,this,"user"),i(b,this,"password"),i(b,this,"port"),i(b,this,"application_name"),i(b,this,"fallback_application_name"),i(b,this,"connect_timeout"),i(b,this,"options");var d="object"==typeof this.ssl?this.ssl:this.ssl?{sslmode:this.ssl}:{};if(i(b,d,"sslmode"),i(b,d,"sslca"),i(b,d,"sslkey"),i(b,d,"sslcert"),i(b,d,"sslrootcert"),this.database&&b.push("dbname="+h(this.database)),this.replication&&b.push("replication="+h(this.replication)),this.host&&b.push("host="+h(this.host)),this.isDomainSocket)return a(null,b.join(" "));this.client_encoding&&b.push("client_encoding="+h(this.client_encoding)),c.lookup(this.host,function(c,d){return c?a(c,null):(b.push("hostaddr="+h(d)),a(null,b.join(" ")))})}};ii(j,"ConnectionParameters"),b.exports=j}),jr=ik((a,b)=>{iu();var c=iQ(),d=/^([A-Za-z]+)(?: (\d+))?(?: (\d+))?/,e=class{constructor(a,b){this.command=null,this.rowCount=null,this.oid=null,this.rows=[],this.fields=[],this._parsers=void 0,this._types=b,this.RowCtor=null,this.rowAsArray="array"===a,this.rowAsArray&&(this.parseRow=this._parseRowAsArray)}addCommandComplete(a){var b;(b=a.text?d.exec(a.text):d.exec(a.command))&&(this.command=b[1],b[3]?(this.oid=parseInt(b[2],10),this.rowCount=parseInt(b[3],10)):b[2]&&(this.rowCount=parseInt(b[2],10)))}_parseRowAsArray(a){for(var b=Array(a.length),c=0,d=a.length;c<d;c++){var e=a[c];null!==e?b[c]=this._parsers[c](e):b[c]=null}return b}parseRow(a){for(var b={},c=0,d=a.length;c<d;c++){var e=a[c],f=this.fields[c].name;null!==e?b[f]=this._parsers[c](e):b[f]=null}return b}addRow(a){this.rows.push(a)}addFields(a){this.fields=a,this.fields.length&&(this._parsers=Array(a.length));for(var b=0;b<a.length;b++){var d=a[b];this._types?this._parsers[b]=this._types.getTypeParser(d.dataTypeID,d.format||"text"):this._parsers[b]=c.getTypeParser(d.dataTypeID,d.format||"text")}}};ii(e,"Result"),b.exports=e}),js=ik((a,b)=>{iu();var{EventEmitter:c}=iv(),d=jr(),e=i1(),f=class extends c{constructor(a,b,c){super(),a=e.normalizeQueryConfig(a,b,c),this.text=a.text,this.values=a.values,this.rows=a.rows,this.types=a.types,this.name=a.name,this.binary=a.binary,this.portal=a.portal||"",this.callback=a.callback,this._rowMode=a.rowMode,ia.domain&&a.callback&&(this.callback=ia.domain.bind(a.callback)),this._result=new d(this._rowMode,this.types),this._results=this._result,this.isPreparedStatement=!1,this._canceledDueToError=!1,this._promise=null}requiresPreparation(){return!!this.name||!!this.rows||!!this.text&&!!this.values&&this.values.length>0}_checkForMultirow(){this._result.command&&(Array.isArray(this._results)||(this._results=[this._result]),this._result=new d(this._rowMode,this.types),this._results.push(this._result))}handleRowDescription(a){this._checkForMultirow(),this._result.addFields(a.fields),this._accumulateRows=this.callback||!this.listeners("row").length}handleDataRow(a){let b;if(!this._canceledDueToError){try{b=this._result.parseRow(a.fields)}catch(a){this._canceledDueToError=a;return}this.emit("row",b,this._result),this._accumulateRows&&this._result.addRow(b)}}handleCommandComplete(a,b){this._checkForMultirow(),this._result.addCommandComplete(a),this.rows&&b.sync()}handleEmptyQuery(a){this.rows&&a.sync()}handleError(a,b){if(this._canceledDueToError&&(a=this._canceledDueToError,this._canceledDueToError=!1),this.callback)return this.callback(a);this.emit("error",a)}handleReadyForQuery(a){if(this._canceledDueToError)return this.handleError(this._canceledDueToError,a);if(this.callback)try{this.callback(null,this._results)}catch(a){ia.nextTick(()=>{throw a})}this.emit("end",this._results)}submit(a){if("string"!=typeof this.text&&"string"!=typeof this.name)return Error("A query must have either text or a name. Supplying neither is unsupported.");let b=a.parsedStatements[this.name];return this.text&&b&&this.text!==b?Error(`Prepared statements must be unique - '${this.name}\
' was used for a different statement`):this.values&&!Array.isArray(this.values)?Error("Query values must be an array"):(this.requiresPreparation()?this.prepare(a):a.query(this.text),null)}hasBeenParsed(a){return this.name&&a.parsedStatements[this.name]}handlePortalSuspended(a){this._getRows(a,this.rows)}_getRows(a,b){a.execute({portal:this.portal,rows:b}),b?a.flush():a.sync()}prepare(a){this.isPreparedStatement=!0,this.hasBeenParsed(a)||a.parse({text:this.text,name:this.name,types:this.types});try{a.bind({portal:this.portal,statement:this.name,values:this.values,binary:this.binary,valueMapper:e.prepareValue})}catch(b){this.handleError(b,a);return}a.describe({type:"P",name:this.portal||""}),this._getRows(a,this.rows)}handleCopyInResponse(a){a.sendCopyFail("No source stream defined")}handleCopyData(a,b){}};ii(f,"Query"),b.exports=f}),jt=ik(a=>{iu(),Object.defineProperty(a,"__esModule",{value:!0}),a.NoticeMessage=a.DataRowMessage=a.CommandCompleteMessage=a.ReadyForQueryMessage=a.NotificationResponseMessage=a.BackendKeyDataMessage=a.AuthenticationMD5Password=a.ParameterStatusMessage=a.ParameterDescriptionMessage=a.RowDescriptionMessage=a.Field=a.CopyResponse=a.CopyDataMessage=a.DatabaseError=a.copyDone=a.emptyQuery=a.replicationStart=a.portalSuspended=a.noData=a.closeComplete=a.bindComplete=a.parseComplete=void 0,a.parseComplete={name:"parseComplete",length:5},a.bindComplete={name:"bindComplete",length:5},a.closeComplete={name:"closeComplete",length:5},a.noData={name:"noData",length:5},a.portalSuspended={name:"portalSuspended",length:5},a.replicationStart={name:"replicationStart",length:4},a.emptyQuery={name:"emptyQuery",length:4},a.copyDone={name:"copyDone",length:4};var b=class extends Error{constructor(a,b,c){super(a),this.length=b,this.name=c}};ii(b,"DatabaseError"),a.DatabaseError=b;var c=class{constructor(a,b){this.length=a,this.chunk=b,this.name="copyData"}};ii(c,"CopyDataMessage"),a.CopyDataMessage=c;var d=class{constructor(a,b,c,d){this.length=a,this.name=b,this.binary=c,this.columnTypes=Array(d)}};ii(d,"CopyResponse"),a.CopyResponse=d;var e=class{constructor(a,b,c,d,e,f,g){this.name=a,this.tableID=b,this.columnID=c,this.dataTypeID=d,this.dataTypeSize=e,this.dataTypeModifier=f,this.format=g}};ii(e,"Field"),a.Field=e;var f=class{constructor(a,b){this.length=a,this.fieldCount=b,this.name="rowDescription",this.fields=Array(this.fieldCount)}};ii(f,"RowDescriptionMessage"),a.RowDescriptionMessage=f;var g=class{constructor(a,b){this.length=a,this.parameterCount=b,this.name="parameterDescription",this.dataTypeIDs=Array(this.parameterCount)}};ii(g,"ParameterDescriptionMessage"),a.ParameterDescriptionMessage=g;var h=class{constructor(a,b,c){this.length=a,this.parameterName=b,this.parameterValue=c,this.name="parameterStatus"}};ii(h,"ParameterStatusMessage"),a.ParameterStatusMessage=h;var i=class{constructor(a,b){this.length=a,this.salt=b,this.name="authenticationMD5Password"}};ii(i,"AuthenticationMD5Password"),a.AuthenticationMD5Password=i;var j=class{constructor(a,b,c){this.length=a,this.processID=b,this.secretKey=c,this.name="backendKeyData"}};ii(j,"BackendKeyDataMessage"),a.BackendKeyDataMessage=j;var k=class{constructor(a,b,c,d){this.length=a,this.processId=b,this.channel=c,this.payload=d,this.name="notification"}};ii(k,"NotificationResponseMessage"),a.NotificationResponseMessage=k;var l=class{constructor(a,b){this.length=a,this.status=b,this.name="readyForQuery"}};ii(l,"ReadyForQueryMessage"),a.ReadyForQueryMessage=l;var m=class{constructor(a,b){this.length=a,this.text=b,this.name="commandComplete"}};ii(m,"CommandCompleteMessage"),a.CommandCompleteMessage=m;var n=class{constructor(a,b){this.length=a,this.fields=b,this.name="dataRow",this.fieldCount=b.length}};ii(n,"DataRowMessage"),a.DataRowMessage=n;var o=class{constructor(a,b){this.length=a,this.message=b,this.name="notice"}};ii(o,"NoticeMessage"),a.NoticeMessage=o}),ju=ik(a=>{iu(),Object.defineProperty(a,"__esModule",{value:!0}),a.Writer=void 0;var b=class{constructor(a=256){this.size=a,this.offset=5,this.headerPosition=0,this.buffer=h9.allocUnsafe(a)}ensure(a){if(this.buffer.length-this.offset<a){let b=this.buffer,c=b.length+(b.length>>1)+a;this.buffer=h9.allocUnsafe(c),b.copy(this.buffer)}}addInt32(a){return this.ensure(4),this.buffer[this.offset++]=a>>>24&255,this.buffer[this.offset++]=a>>>16&255,this.buffer[this.offset++]=a>>>8&255,this.buffer[this.offset++]=a>>>0&255,this}addInt16(a){return this.ensure(2),this.buffer[this.offset++]=a>>>8&255,this.buffer[this.offset++]=a>>>0&255,this}addCString(a){if(a){let b=h9.byteLength(a);this.ensure(b+1),this.buffer.write(a,this.offset,"utf-8"),this.offset+=b}else this.ensure(1);return this.buffer[this.offset++]=0,this}addString(a=""){let b=h9.byteLength(a);return this.ensure(b),this.buffer.write(a,this.offset),this.offset+=b,this}add(a){return this.ensure(a.length),a.copy(this.buffer,this.offset),this.offset+=a.length,this}join(a){if(a){this.buffer[this.headerPosition]=a;let b=this.offset-(this.headerPosition+1);this.buffer.writeInt32BE(b,this.headerPosition+1)}return this.buffer.slice(5*!a,this.offset)}flush(a){let b=this.join(a);return this.offset=5,this.headerPosition=0,this.buffer=h9.allocUnsafe(this.size),b}};ii(b,"Writer"),a.Writer=b}),jv=ik(a=>{iu(),Object.defineProperty(a,"__esModule",{value:!0}),a.serialize=void 0;var b=ju(),c=new b.Writer,d=ii(a=>{for(let b of(c.addInt16(3).addInt16(0),Object.keys(a)))c.addCString(b).addCString(a[b]);c.addCString("client_encoding").addCString("UTF8");let d=c.addCString("").flush(),e=d.length+4;return new b.Writer().addInt32(e).add(d).flush()},"startup"),e=ii(()=>{let a=h9.allocUnsafe(8);return a.writeInt32BE(8,0),a.writeInt32BE(0x4d2162f,4),a},"requestSsl"),f=ii(a=>c.addCString(a).flush(112),"password"),g=ii(function(a,b){return c.addCString(a).addInt32(h9.byteLength(b)).addString(b),c.flush(112)},"sendSASLInitialResponseMessage"),h=ii(function(a){return c.addString(a).flush(112)},"sendSCRAMClientFinalMessage"),i=ii(a=>c.addCString(a).flush(81),"query"),j=[],k=ii(a=>{let b=a.name||"";b.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",b,b.length),console.error("This can cause conflicts and silent errors executing queries"));let d=a.types||j,e=d.length,f=c.addCString(b).addCString(a.text).addInt16(e);for(let a=0;a<e;a++)f.addInt32(d[a]);return c.flush(80)},"parse"),l=new b.Writer,m=ii(function(a,b){for(let d=0;d<a.length;d++){let e=b?b(a[d],d):a[d];null==e?(c.addInt16(0),l.addInt32(-1)):e instanceof h9?(c.addInt16(1),l.addInt32(e.length),l.add(e)):(c.addInt16(0),l.addInt32(h9.byteLength(e)),l.addString(e))}},"writeValues"),n=ii((a={})=>{let b=a.portal||"",d=a.statement||"",e=a.binary||!1,f=a.values||j,g=f.length;return c.addCString(b).addCString(d),c.addInt16(g),m(f,a.valueMapper),c.addInt16(g),c.add(l.flush()),c.addInt16(+!!e),c.flush(66)},"bind"),o=h9.from([69,0,0,0,9,0,0,0,0,0]),p=ii(a=>{if(!a||!a.portal&&!a.rows)return o;let b=a.portal||"",c=a.rows||0,d=h9.byteLength(b),e=4+d+1+4,f=h9.allocUnsafe(1+e);return f[0]=69,f.writeInt32BE(e,1),f.write(b,5,"utf-8"),f[d+5]=0,f.writeUInt32BE(c,f.length-4),f},"execute"),q=ii((a,b)=>{let c=h9.allocUnsafe(16);return c.writeInt32BE(16,0),c.writeInt16BE(1234,4),c.writeInt16BE(5678,6),c.writeInt32BE(a,8),c.writeInt32BE(b,12),c},"cancel"),r=ii((a,b)=>{let c=4+h9.byteLength(b)+1,d=h9.allocUnsafe(1+c);return d[0]=a,d.writeInt32BE(c,1),d.write(b,5,"utf-8"),d[c]=0,d},"cstringMessage"),s=c.addCString("P").flush(68),t=c.addCString("S").flush(68),u=ii(a=>a.name?r(68,`${a.type}${a.name||""}`):"P"===a.type?s:t,"describe"),v=ii(a=>r(67,`${a.type}${a.name||""}`),"close"),w=ii(a=>c.add(a).flush(100),"copyData"),x=ii(a=>r(102,a),"copyFail"),y=ii(a=>h9.from([a,0,0,0,4]),"codeOnlyBuffer"),z=y(72),A=y(83),B=y(88),C=y(99);a.serialize={startup:d,password:f,requestSsl:e,sendSASLInitialResponseMessage:g,sendSCRAMClientFinalMessage:h,query:i,parse:k,bind:n,execute:p,describe:u,close:v,flush:ii(()=>z,"flush"),sync:ii(()=>A,"sync"),end:ii(()=>B,"end"),copyData:w,copyDone:ii(()=>C,"copyDone"),copyFail:x,cancel:q}}),jw=ik(a=>{iu(),Object.defineProperty(a,"__esModule",{value:!0}),a.BufferReader=void 0;var b=h9.allocUnsafe(0),c=class{constructor(a=0){this.offset=a,this.buffer=b,this.encoding="utf-8"}setBuffer(a,b){this.offset=a,this.buffer=b}int16(){let a=this.buffer.readInt16BE(this.offset);return this.offset+=2,a}byte(){let a=this.buffer[this.offset];return this.offset++,a}int32(){let a=this.buffer.readInt32BE(this.offset);return this.offset+=4,a}uint32(){let a=this.buffer.readUInt32BE(this.offset);return this.offset+=4,a}string(a){let b=this.buffer.toString(this.encoding,this.offset,this.offset+a);return this.offset+=a,b}cstring(){let a=this.offset,b=a;for(;0!==this.buffer[b++];);return this.offset=b,this.buffer.toString(this.encoding,a,b-1)}bytes(a){let b=this.buffer.slice(this.offset,this.offset+a);return this.offset+=a,b}};ii(c,"BufferReader"),a.BufferReader=c}),jx=ik(a=>{iu(),Object.defineProperty(a,"__esModule",{value:!0}),a.Parser=void 0;var b=jt(),c=jw(),d=h9.allocUnsafe(0),e=class{constructor(a){if(this.buffer=d,this.bufferLength=0,this.bufferOffset=0,this.reader=new c.BufferReader,a?.mode==="binary")throw Error("Binary mode not supported yet");this.mode=a?.mode||"text"}parse(a,b){this.mergeBuffer(a);let c=this.bufferOffset+this.bufferLength,e=this.bufferOffset;for(;e+5<=c;){let a=this.buffer[e],d=this.buffer.readUInt32BE(e+1),f=1+d;if(f+e<=c)b(this.handlePacket(e+5,a,d,this.buffer)),e+=f;else break}e===c?(this.buffer=d,this.bufferLength=0,this.bufferOffset=0):(this.bufferLength=c-e,this.bufferOffset=e)}mergeBuffer(a){if(this.bufferLength>0){let b=this.bufferLength+a.byteLength;if(b+this.bufferOffset>this.buffer.byteLength){let a;if(b<=this.buffer.byteLength&&this.bufferOffset>=this.bufferLength)a=this.buffer;else{let c=2*this.buffer.byteLength;for(;b>=c;)c*=2;a=h9.allocUnsafe(c)}this.buffer.copy(a,0,this.bufferOffset,this.bufferOffset+this.bufferLength),this.buffer=a,this.bufferOffset=0}a.copy(this.buffer,this.bufferOffset+this.bufferLength),this.bufferLength=b}else this.buffer=a,this.bufferOffset=0,this.bufferLength=a.byteLength}handlePacket(a,c,d,e){switch(c){case 50:return b.bindComplete;case 49:return b.parseComplete;case 51:return b.closeComplete;case 110:return b.noData;case 115:return b.portalSuspended;case 99:return b.copyDone;case 87:return b.replicationStart;case 73:return b.emptyQuery;case 68:return this.parseDataRowMessage(a,d,e);case 67:return this.parseCommandCompleteMessage(a,d,e);case 90:return this.parseReadyForQueryMessage(a,d,e);case 65:return this.parseNotificationMessage(a,d,e);case 82:return this.parseAuthenticationResponse(a,d,e);case 83:return this.parseParameterStatusMessage(a,d,e);case 75:return this.parseBackendKeyData(a,d,e);case 69:return this.parseErrorMessage(a,d,e,"error");case 78:return this.parseErrorMessage(a,d,e,"notice");case 84:return this.parseRowDescriptionMessage(a,d,e);case 116:return this.parseParameterDescriptionMessage(a,d,e);case 71:return this.parseCopyInMessage(a,d,e);case 72:return this.parseCopyOutMessage(a,d,e);case 100:return this.parseCopyData(a,d,e);default:return new b.DatabaseError("received invalid response: "+c.toString(16),d,"error")}}parseReadyForQueryMessage(a,c,d){this.reader.setBuffer(a,d);let e=this.reader.string(1);return new b.ReadyForQueryMessage(c,e)}parseCommandCompleteMessage(a,c,d){this.reader.setBuffer(a,d);let e=this.reader.cstring();return new b.CommandCompleteMessage(c,e)}parseCopyData(a,c,d){let e=d.slice(a,a+(c-4));return new b.CopyDataMessage(c,e)}parseCopyInMessage(a,b,c){return this.parseCopyMessage(a,b,c,"copyInResponse")}parseCopyOutMessage(a,b,c){return this.parseCopyMessage(a,b,c,"copyOutResponse")}parseCopyMessage(a,c,d,e){this.reader.setBuffer(a,d);let f=0!==this.reader.byte(),g=this.reader.int16(),h=new b.CopyResponse(c,e,f,g);for(let a=0;a<g;a++)h.columnTypes[a]=this.reader.int16();return h}parseNotificationMessage(a,c,d){this.reader.setBuffer(a,d);let e=this.reader.int32(),f=this.reader.cstring(),g=this.reader.cstring();return new b.NotificationResponseMessage(c,e,f,g)}parseRowDescriptionMessage(a,c,d){this.reader.setBuffer(a,d);let e=this.reader.int16(),f=new b.RowDescriptionMessage(c,e);for(let a=0;a<e;a++)f.fields[a]=this.parseField();return f}parseField(){let a=this.reader.cstring(),c=this.reader.uint32(),d=this.reader.int16(),e=this.reader.uint32(),f=this.reader.int16(),g=this.reader.int32(),h=0===this.reader.int16()?"text":"binary";return new b.Field(a,c,d,e,f,g,h)}parseParameterDescriptionMessage(a,c,d){this.reader.setBuffer(a,d);let e=this.reader.int16(),f=new b.ParameterDescriptionMessage(c,e);for(let a=0;a<e;a++)f.dataTypeIDs[a]=this.reader.int32();return f}parseDataRowMessage(a,c,d){this.reader.setBuffer(a,d);let e=this.reader.int16(),f=Array(e);for(let a=0;a<e;a++){let b=this.reader.int32();f[a]=-1===b?null:this.reader.string(b)}return new b.DataRowMessage(c,f)}parseParameterStatusMessage(a,c,d){this.reader.setBuffer(a,d);let e=this.reader.cstring(),f=this.reader.cstring();return new b.ParameterStatusMessage(c,e,f)}parseBackendKeyData(a,c,d){this.reader.setBuffer(a,d);let e=this.reader.int32(),f=this.reader.int32();return new b.BackendKeyDataMessage(c,e,f)}parseAuthenticationResponse(a,c,d){this.reader.setBuffer(a,d);let e=this.reader.int32(),f={name:"authenticationOk",length:c};switch(e){case 0:break;case 3:8===f.length&&(f.name="authenticationCleartextPassword");break;case 5:if(12===f.length){f.name="authenticationMD5Password";let a=this.reader.bytes(4);return new b.AuthenticationMD5Password(c,a)}break;case 10:{let a;f.name="authenticationSASL",f.mechanisms=[];do(a=this.reader.cstring())&&f.mechanisms.push(a);while(a)}break;case 11:f.name="authenticationSASLContinue",f.data=this.reader.string(c-8);break;case 12:f.name="authenticationSASLFinal",f.data=this.reader.string(c-8);break;default:throw Error("Unknown authenticationOk message type "+e)}return f}parseErrorMessage(a,c,d,e){this.reader.setBuffer(a,d);let f={},g=this.reader.string(1);for(;"\0"!==g;)f[g]=this.reader.cstring(),g=this.reader.string(1);let h=f.M,i="notice"===e?new b.NoticeMessage(c,h):new b.DatabaseError(h,c,e);return i.severity=f.S,i.code=f.C,i.detail=f.D,i.hint=f.H,i.position=f.P,i.internalPosition=f.p,i.internalQuery=f.q,i.where=f.W,i.schema=f.s,i.table=f.t,i.column=f.c,i.dataType=f.d,i.constraint=f.n,i.file=f.F,i.line=f.L,i.routine=f.R,i}};ii(e,"Parser"),a.Parser=e}),jy=ik(a=>{iu(),Object.defineProperty(a,"__esModule",{value:!0}),a.DatabaseError=a.serialize=a.parse=void 0;var b=jt();Object.defineProperty(a,"DatabaseError",{enumerable:!0,get:ii(function(){return b.DatabaseError},"get")});var c=jv();Object.defineProperty(a,"serialize",{enumerable:!0,get:ii(function(){return c.serialize},"get")});var d=jx();function e(a,b){let c=new d.Parser;return a.on("data",a=>c.parse(a,b)),new Promise(b=>a.on("end",()=>b()))}ii(e,"parse"),a.parse=e}),jz={};function jA({socket:a,servername:b}){return a.startTls(b),a}il(jz,{connect:()=>jA});var jB=ij(()=>{iu(),ii(jA,"connect")}),jC=ik((a,b)=>{iu();var c=(iC(),ip(iw)),d=iv().EventEmitter,{parse:e,serialize:f}=jy(),g=f.flush(),h=f.sync(),i=f.end(),j=class extends d{constructor(a){super(),a=a||{},this.stream=a.stream||new c.Socket,this._keepAlive=a.keepAlive,this._keepAliveInitialDelayMillis=a.keepAliveInitialDelayMillis,this.lastBuffer=!1,this.parsedStatements={},this.ssl=a.ssl||!1,this._ending=!1,this._emitMessage=!1;var b=this;this.on("newListener",function(a){"message"===a&&(b._emitMessage=!0)})}connect(a,b){var d=this;this._connecting=!0,this.stream.setNoDelay(!0),this.stream.connect(a,b),this.stream.once("connect",function(){d._keepAlive&&d.stream.setKeepAlive(!0,d._keepAliveInitialDelayMillis),d.emit("connect")});let e=ii(function(a){d._ending&&("ECONNRESET"===a.code||"EPIPE"===a.code)||d.emit("error",a)},"reportStreamError");if(this.stream.on("error",e),this.stream.on("close",function(){d.emit("end")}),!this.ssl)return this.attachListeners(this.stream);this.stream.once("data",function(a){switch(a.toString("utf8")){case"S":break;case"N":return d.stream.end(),d.emit("error",Error("The server does not support SSL connections"));default:return d.stream.end(),d.emit("error",Error("There was an error establishing an SSL connection"))}var f=(jB(),ip(jz));let g={socket:d.stream};!0!==d.ssl&&(Object.assign(g,d.ssl),"key"in d.ssl&&(g.key=d.ssl.key)),0===c.isIP(b)&&(g.servername=b);try{d.stream=f.connect(g)}catch(a){return d.emit("error",a)}d.attachListeners(d.stream),d.stream.on("error",e),d.emit("sslconnect")})}attachListeners(a){a.on("end",()=>{this.emit("end")}),e(a,a=>{var b="error"===a.name?"errorMessage":a.name;this._emitMessage&&this.emit("message",a),this.emit(b,a)})}requestSsl(){this.stream.write(f.requestSsl())}startup(a){this.stream.write(f.startup(a))}cancel(a,b){this._send(f.cancel(a,b))}password(a){this._send(f.password(a))}sendSASLInitialResponseMessage(a,b){this._send(f.sendSASLInitialResponseMessage(a,b))}sendSCRAMClientFinalMessage(a){this._send(f.sendSCRAMClientFinalMessage(a))}_send(a){return!!this.stream.writable&&this.stream.write(a)}query(a){this._send(f.query(a))}parse(a){this._send(f.parse(a))}bind(a){this._send(f.bind(a))}execute(a){this._send(f.execute(a))}flush(){this.stream.writable&&this.stream.write(g)}sync(){this._ending=!0,this._send(g),this._send(h)}ref(){this.stream.ref()}unref(){this.stream.unref()}end(){return(this._ending=!0,this._connecting&&this.stream.writable)?this.stream.write(i,()=>{this.stream.end()}):void this.stream.end()}close(a){this._send(f.close(a))}describe(a){this._send(f.describe(a))}sendCopyFromChunk(a){this._send(f.copyData(a))}endCopyFrom(){this._send(f.copyDone())}sendCopyFail(a){this._send(f.copyFail(a))}};ii(j,"Connection"),b.exports=j}),jD=ik((a,b)=>{iu();var c=iv().EventEmitter,d=(i4(),ip(i2),i1()),e=i5(),f=jl(),g=iR(),h=jq(),i=js(),j=i0(),k=jC(),l=class extends c{constructor(a){super(),this.connectionParameters=new h(a),this.user=this.connectionParameters.user,this.database=this.connectionParameters.database,this.port=this.connectionParameters.port,this.host=this.connectionParameters.host,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:this.connectionParameters.password}),this.replication=this.connectionParameters.replication;var b=a||{};this._Promise=b.Promise||h7.Promise,this._types=new g(b.types),this._ending=!1,this._connecting=!1,this._connected=!1,this._connectionError=!1,this._queryable=!0,this.connection=b.connection||new k({stream:b.stream,ssl:this.connectionParameters.ssl,keepAlive:b.keepAlive||!1,keepAliveInitialDelayMillis:b.keepAliveInitialDelayMillis||0,encoding:this.connectionParameters.client_encoding||"utf8"}),this.queryQueue=[],this.binary=b.binary||j.binary,this.processID=null,this.secretKey=null,this.ssl=this.connectionParameters.ssl||!1,this.ssl&&this.ssl.key&&Object.defineProperty(this.ssl,"key",{enumerable:!1}),this._connectionTimeoutMillis=b.connectionTimeoutMillis||0}_errorAllQueries(a){let b=ii(b=>{ia.nextTick(()=>{b.handleError(a,this.connection)})},"enqueueError");this.activeQuery&&(b(this.activeQuery),this.activeQuery=null),this.queryQueue.forEach(b),this.queryQueue.length=0}_connect(a){var b=this,c=this.connection;if(this._connectionCallback=a,this._connecting||this._connected){let b=Error("Client has already been connected. You cannot reuse a client.");ia.nextTick(()=>{a(b)});return}this._connecting=!0,this.connectionTimeoutHandle,this._connectionTimeoutMillis>0&&(this.connectionTimeoutHandle=setTimeout(()=>{c._ending=!0,c.stream.destroy(Error("timeout expired"))},this._connectionTimeoutMillis)),this.host&&0===this.host.indexOf("/")?c.connect(this.host+"/.s.PGSQL."+this.port):c.connect(this.port,this.host),c.on("connect",function(){b.ssl?c.requestSsl():c.startup(b.getStartupConf())}),c.on("sslconnect",function(){c.startup(b.getStartupConf())}),this._attachListeners(c),c.once("end",()=>{let a=this._ending?Error("Connection terminated"):Error("Connection terminated unexpectedly");clearTimeout(this.connectionTimeoutHandle),this._errorAllQueries(a),this._ending||(this._connecting&&!this._connectionError?this._connectionCallback?this._connectionCallback(a):this._handleErrorEvent(a):this._connectionError||this._handleErrorEvent(a)),ia.nextTick(()=>{this.emit("end")})})}connect(a){return a?void this._connect(a):new this._Promise((a,b)=>{this._connect(c=>{c?b(c):a()})})}_attachListeners(a){a.on("authenticationCleartextPassword",this._handleAuthCleartextPassword.bind(this)),a.on("authenticationMD5Password",this._handleAuthMD5Password.bind(this)),a.on("authenticationSASL",this._handleAuthSASL.bind(this)),a.on("authenticationSASLContinue",this._handleAuthSASLContinue.bind(this)),a.on("authenticationSASLFinal",this._handleAuthSASLFinal.bind(this)),a.on("backendKeyData",this._handleBackendKeyData.bind(this)),a.on("error",this._handleErrorEvent.bind(this)),a.on("errorMessage",this._handleErrorMessage.bind(this)),a.on("readyForQuery",this._handleReadyForQuery.bind(this)),a.on("notice",this._handleNotice.bind(this)),a.on("rowDescription",this._handleRowDescription.bind(this)),a.on("dataRow",this._handleDataRow.bind(this)),a.on("portalSuspended",this._handlePortalSuspended.bind(this)),a.on("emptyQuery",this._handleEmptyQuery.bind(this)),a.on("commandComplete",this._handleCommandComplete.bind(this)),a.on("parseComplete",this._handleParseComplete.bind(this)),a.on("copyInResponse",this._handleCopyInResponse.bind(this)),a.on("copyData",this._handleCopyData.bind(this)),a.on("notification",this._handleNotification.bind(this))}_checkPgPass(a){let b=this.connection;"function"==typeof this.password?this._Promise.resolve().then(()=>this.password()).then(c=>{if(void 0!==c){if("string"!=typeof c)return void b.emit("error",TypeError("Password must be a string"));this.connectionParameters.password=this.password=c}else this.connectionParameters.password=this.password=null;a()}).catch(a=>{b.emit("error",a)}):null!==this.password?a():f(this.connectionParameters,b=>{void 0!==b&&(this.connectionParameters.password=this.password=b),a()})}_handleAuthCleartextPassword(a){this._checkPgPass(()=>{this.connection.password(this.password)})}_handleAuthMD5Password(a){this._checkPgPass(()=>{let b=d.postgresMd5PasswordHash(this.user,this.password,a.salt);this.connection.password(b)})}_handleAuthSASL(a){this._checkPgPass(()=>{this.saslSession=e.startSession(a.mechanisms),this.connection.sendSASLInitialResponseMessage(this.saslSession.mechanism,this.saslSession.response)})}_handleAuthSASLContinue(a){e.continueSession(this.saslSession,this.password,a.data),this.connection.sendSCRAMClientFinalMessage(this.saslSession.response)}_handleAuthSASLFinal(a){e.finalizeSession(this.saslSession,a.data),this.saslSession=null}_handleBackendKeyData(a){this.processID=a.processID,this.secretKey=a.secretKey}_handleReadyForQuery(a){this._connecting&&(this._connecting=!1,this._connected=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback&&(this._connectionCallback(null,this),this._connectionCallback=null),this.emit("connect"));let{activeQuery:b}=this;this.activeQuery=null,this.readyForQuery=!0,b&&b.handleReadyForQuery(this.connection),this._pulseQueryQueue()}_handleErrorWhileConnecting(a){if(!this._connectionError){if(this._connectionError=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback)return this._connectionCallback(a);this.emit("error",a)}}_handleErrorEvent(a){if(this._connecting)return this._handleErrorWhileConnecting(a);this._queryable=!1,this._errorAllQueries(a),this.emit("error",a)}_handleErrorMessage(a){if(this._connecting)return this._handleErrorWhileConnecting(a);let b=this.activeQuery;if(!b)return void this._handleErrorEvent(a);this.activeQuery=null,b.handleError(a,this.connection)}_handleRowDescription(a){this.activeQuery.handleRowDescription(a)}_handleDataRow(a){this.activeQuery.handleDataRow(a)}_handlePortalSuspended(a){this.activeQuery.handlePortalSuspended(this.connection)}_handleEmptyQuery(a){this.activeQuery.handleEmptyQuery(this.connection)}_handleCommandComplete(a){this.activeQuery.handleCommandComplete(a,this.connection)}_handleParseComplete(a){this.activeQuery.name&&(this.connection.parsedStatements[this.activeQuery.name]=this.activeQuery.text)}_handleCopyInResponse(a){this.activeQuery.handleCopyInResponse(this.connection)}_handleCopyData(a){this.activeQuery.handleCopyData(a,this.connection)}_handleNotification(a){this.emit("notification",a)}_handleNotice(a){this.emit("notice",a)}getStartupConf(){var a=this.connectionParameters,b={user:a.user,database:a.database},c=a.application_name||a.fallback_application_name;return c&&(b.application_name=c),a.replication&&(b.replication=""+a.replication),a.statement_timeout&&(b.statement_timeout=String(parseInt(a.statement_timeout,10))),a.lock_timeout&&(b.lock_timeout=String(parseInt(a.lock_timeout,10))),a.idle_in_transaction_session_timeout&&(b.idle_in_transaction_session_timeout=String(parseInt(a.idle_in_transaction_session_timeout,10))),a.options&&(b.options=a.options),b}cancel(a,b){if(a.activeQuery===b){var c=this.connection;this.host&&0===this.host.indexOf("/")?c.connect(this.host+"/.s.PGSQL."+this.port):c.connect(this.port,this.host),c.on("connect",function(){c.cancel(a.processID,a.secretKey)})}else -1!==a.queryQueue.indexOf(b)&&a.queryQueue.splice(a.queryQueue.indexOf(b),1)}setTypeParser(a,b,c){return this._types.setTypeParser(a,b,c)}getTypeParser(a,b){return this._types.getTypeParser(a,b)}escapeIdentifier(a){return'"'+a.replace(/"/g,'""')+'"'}escapeLiteral(a){for(var b=!1,c="'",d=0;d<a.length;d++){var e=a[d];"'"===e?c+=e+e:"\\"===e?(c+=e+e,b=!0):c+=e}return c+="'",!0===b&&(c=" E"+c),c}_pulseQueryQueue(){if(!0===this.readyForQuery)if(this.activeQuery=this.queryQueue.shift(),this.activeQuery){this.readyForQuery=!1,this.hasExecuted=!0;let a=this.activeQuery.submit(this.connection);a&&ia.nextTick(()=>{this.activeQuery.handleError(a,this.connection),this.readyForQuery=!0,this._pulseQueryQueue()})}else this.hasExecuted&&(this.activeQuery=null,this.emit("drain"))}query(a,b,c){var d,e,f,g,h;if(null==a)throw TypeError("Client was passed a null or undefined query");return"function"==typeof a.submit?(f=a.query_timeout||this.connectionParameters.query_timeout,e=d=a,"function"==typeof b&&(d.callback=d.callback||b)):(f=this.connectionParameters.query_timeout,(d=new i(a,b,c)).callback||(e=new this._Promise((a,b)=>{d.callback=(c,d)=>c?b(c):a(d)}))),f&&(h=d.callback,g=setTimeout(()=>{var a=Error("Query read timeout");ia.nextTick(()=>{d.handleError(a,this.connection)}),h(a),d.callback=()=>{};var b=this.queryQueue.indexOf(d);b>-1&&this.queryQueue.splice(b,1),this._pulseQueryQueue()},f),d.callback=(a,b)=>{clearTimeout(g),h(a,b)}),this.binary&&!d.binary&&(d.binary=!0),d._result&&!d._result._types&&(d._result._types=this._types),this._queryable?this._ending?ia.nextTick(()=>{d.handleError(Error("Client was closed and is not queryable"),this.connection)}):(this.queryQueue.push(d),this._pulseQueryQueue()):ia.nextTick(()=>{d.handleError(Error("Client has encountered a connection error and is not queryable"),this.connection)}),e}ref(){this.connection.ref()}unref(){this.connection.unref()}end(a){if(this._ending=!0,!this.connection._connecting)if(!a)return this._Promise.resolve();else a();if(this.activeQuery||!this._queryable?this.connection.stream.destroy():this.connection.end(),!a)return new this._Promise(a=>{this.connection.once("end",a)});this.connection.once("end",a)}};ii(l,"Client"),l.Query=i,b.exports=l}),jE=ik((a,b)=>{iu();var c=iv().EventEmitter,d=ii(function(){},"NOOP"),e=ii((a,b)=>{let c=a.findIndex(b);return -1===c?void 0:a.splice(c,1)[0]},"removeWhere"),f=class{constructor(a,b,c){this.client=a,this.idleListener=b,this.timeoutId=c}};ii(f,"IdleItem");var g=class{constructor(a){this.callback=a}};function h(){throw Error("Release called on client which has already been released to the pool.")}function i(a,b){let c,d;return b?{callback:b,result:void 0}:{callback:ii(function(a,b){a?c(a):d(b)},"cb"),result:new a(function(a,b){d=a,c=b}).catch(a=>{throw Error.captureStackTrace(a),a})}}function j(a,b){return ii(function c(d){d.client=b,b.removeListener("error",c),b.on("error",()=>{a.log("additional client error after disconnection due to error",d)}),a._remove(b),a.emit("error",d,b)},"idleListener")}ii(g,"PendingItem"),ii(h,"throwOnDoubleRelease"),ii(i,"promisify"),ii(j,"makeIdleListener");var k=class extends c{constructor(a,b){super(),this.options=Object.assign({},a),null!=a&&"password"in a&&Object.defineProperty(this.options,"password",{configurable:!0,enumerable:!1,writable:!0,value:a.password}),null!=a&&a.ssl&&a.ssl.key&&Object.defineProperty(this.options.ssl,"key",{enumerable:!1}),this.options.max=this.options.max||this.options.poolSize||10,this.options.min=this.options.min||0,this.options.maxUses=this.options.maxUses||1/0,this.options.allowExitOnIdle=this.options.allowExitOnIdle||!1,this.options.maxLifetimeSeconds=this.options.maxLifetimeSeconds||0,this.log=this.options.log||function(){},this.Client=this.options.Client||b||jM().Client,this.Promise=this.options.Promise||h7.Promise,typeof this.options.idleTimeoutMillis>"u"&&(this.options.idleTimeoutMillis=1e4),this._clients=[],this._idle=[],this._expired=new WeakSet,this._pendingQueue=[],this._endCallback=void 0,this.ending=!1,this.ended=!1}_isFull(){return this._clients.length>=this.options.max}_isAboveMin(){return this._clients.length>this.options.min}_pulseQueue(){if(this.log("pulse queue"),this.ended)return void this.log("pulse queue ended");if(this.ending){this.log("pulse queue on ending"),this._idle.length&&this._idle.slice().map(a=>{this._remove(a.client)}),this._clients.length||(this.ended=!0,this._endCallback());return}if(!this._pendingQueue.length)return void this.log("no queued requests");if(!this._idle.length&&this._isFull())return;let a=this._pendingQueue.shift();if(this._idle.length){let b=this._idle.pop();clearTimeout(b.timeoutId);let c=b.client;c.ref&&c.ref();let d=b.idleListener;return this._acquireClient(c,a,d,!1)}if(!this._isFull())return this.newClient(a);throw Error("unexpected condition")}_remove(a){let b=e(this._idle,b=>b.client===a);void 0!==b&&clearTimeout(b.timeoutId),this._clients=this._clients.filter(b=>b!==a),a.end(),this.emit("remove",a)}connect(a){if(this.ending){let b=Error("Cannot use a pool after calling end on the pool");return a?a(b):this.Promise.reject(b)}let b=i(this.Promise,a),c=b.result;if(this._isFull()||this._idle.length){if(this._idle.length&&ia.nextTick(()=>this._pulseQueue()),!this.options.connectionTimeoutMillis)return this._pendingQueue.push(new g(b.callback)),c;let a=ii((a,c,d)=>{clearTimeout(f),b.callback(a,c,d)},"queueCallback"),d=new g(a),f=setTimeout(()=>{e(this._pendingQueue,b=>b.callback===a),d.timedOut=!0,b.callback(Error("timeout exceeded when trying to connect"))},this.options.connectionTimeoutMillis);return f.unref&&f.unref(),this._pendingQueue.push(d),c}return this.newClient(new g(b.callback)),c}newClient(a){let b=new this.Client(this.options);this._clients.push(b);let c=j(this,b);this.log("checking client timeout");let e,f=!1;this.options.connectionTimeoutMillis&&(e=setTimeout(()=>{this.log("ending client due to timeout"),f=!0,b.connection?b.connection.stream.destroy():b.end()},this.options.connectionTimeoutMillis)),this.log("connecting new client"),b.connect(h=>{if(e&&clearTimeout(e),b.on("error",c),h)this.log("client failed to connect",h),this._clients=this._clients.filter(a=>a!==b),f&&(h=Error("Connection terminated due to connection timeout",{cause:h})),this._pulseQueue(),a.timedOut||a.callback(h,void 0,d);else{if(this.log("new client connected"),0!==this.options.maxLifetimeSeconds){let a=setTimeout(()=>{this.log("ending client due to expired lifetime"),this._expired.add(b),-1!==this._idle.findIndex(a=>a.client===b)&&this._acquireClient(b,new g((a,b,c)=>c()),c,!1)},1e3*this.options.maxLifetimeSeconds);a.unref(),b.once("end",()=>clearTimeout(a))}return this._acquireClient(b,a,c,!0)}})}_acquireClient(a,b,c,e){e&&this.emit("connect",a),this.emit("acquire",a),a.release=this._releaseOnce(a,c),a.removeListener("error",c),b.timedOut?e&&this.options.verify?this.options.verify(a,a.release):a.release():e&&this.options.verify?this.options.verify(a,c=>{if(c)return a.release(c),b.callback(c,void 0,d);b.callback(void 0,a,a.release)}):b.callback(void 0,a,a.release)}_releaseOnce(a,b){let c=!1;return d=>{c&&h(),c=!0,this._release(a,b,d)}}_release(a,b,c){let d;if(a.on("error",b),a._poolUseCount=(a._poolUseCount||0)+1,this.emit("release",c,a),c||this.ending||!a._queryable||a._ending||a._poolUseCount>=this.options.maxUses){a._poolUseCount>=this.options.maxUses&&this.log("remove expended client"),this._remove(a),this._pulseQueue();return}if(this._expired.has(a)){this.log("remove expired client"),this._expired.delete(a),this._remove(a),this._pulseQueue();return}this.options.idleTimeoutMillis&&this._isAboveMin()&&(d=setTimeout(()=>{this.log("remove idle client"),this._remove(a)},this.options.idleTimeoutMillis),this.options.allowExitOnIdle&&d.unref()),this.options.allowExitOnIdle&&a.unref(),this._idle.push(new f(a,b,d)),this._pulseQueue()}query(a,b,c){if("function"==typeof a){let b=i(this.Promise,a);return h8(function(){return b.callback(Error("Passing a function as the first parameter to pool.query is not supported"))}),b.result}"function"==typeof b&&(c=b,b=void 0);let d=i(this.Promise,c);return c=d.callback,this.connect((d,e)=>{if(d)return c(d);let f=!1,g=ii(a=>{f||(f=!0,e.release(a),c(a))},"onError");e.once("error",g),this.log("dispatching query");try{e.query(a,b,(a,b)=>{if(this.log("query dispatched"),e.removeListener("error",g),!f)return f=!0,e.release(a),a?c(a):c(void 0,b)})}catch(a){return e.release(a),c(a)}}),d.result}end(a){if(this.log("ending"),this.ending){let b=Error("Called end on pool more than once");return a?a(b):this.Promise.reject(b)}this.ending=!0;let b=i(this.Promise,a);return this._endCallback=b.callback,this._pulseQueue(),b.result}get waitingCount(){return this._pendingQueue.length}get idleCount(){return this._idle.length}get expiredCount(){return this._clients.reduce((a,b)=>a+ +!!this._expired.has(b),0)}get totalCount(){return this._clients.length}};ii(k,"Pool"),b.exports=k}),jF={};il(jF,{default:()=>jG});var jG,jH=ij(()=>{iu(),jG={}}),jI=ik((a,b)=>{b.exports={name:"pg",version:"8.8.0",description:"PostgreSQL client - pure javascript & libpq with the same API",keywords:["database","libpq","pg","postgre","postgres","postgresql","rdbms"],homepage:"https://github.com/brianc/node-postgres",repository:{type:"git",url:"git://github.com/brianc/node-postgres.git",directory:"packages/pg"},author:"Brian Carlson <brian.m.carlson@gmail.com>",main:"./lib",dependencies:{"buffer-writer":"2.0.0","packet-reader":"1.0.0","pg-connection-string":"^2.5.0","pg-pool":"^3.5.2","pg-protocol":"^1.5.0","pg-types":"^2.1.0",pgpass:"1.x"},devDependencies:{async:"2.6.4",bluebird:"3.5.2",co:"4.6.0","pg-copy-streams":"0.3.0"},peerDependencies:{"pg-native":">=3.0.1"},peerDependenciesMeta:{"pg-native":{optional:!0}},scripts:{test:"make test-all"},files:["lib","SPONSORS.md"],license:"MIT",engines:{node:">= 8.0.0"},gitHead:"c99fb2c127ddf8d712500db2c7b9a5491a178655"}}),jJ=ik((a,b)=>{iu();var c=iv().EventEmitter,d=(i4(),ip(i2)),e=i1(),f=b.exports=function(a,b,d){c.call(this),a=e.normalizeQueryConfig(a,b,d),this.text=a.text,this.values=a.values,this.name=a.name,this.callback=a.callback,this.state="new",this._arrayMode="array"===a.rowMode,this._emitRowEvents=!1,this.on("newListener",(function(a){"row"===a&&(this._emitRowEvents=!0)}).bind(this))};d.inherits(f,c);var g={sqlState:"code",statementPosition:"position",messagePrimary:"message",context:"where",schemaName:"schema",tableName:"table",columnName:"column",dataTypeName:"dataType",constraintName:"constraint",sourceFile:"file",sourceLine:"line",sourceFunction:"routine"};f.prototype.handleError=function(a){var b=this.native.pq.resultErrorFields();if(b)for(var c in b)a[g[c]||c]=b[c];this.callback?this.callback(a):this.emit("error",a),this.state="error"},f.prototype.then=function(a,b){return this._getPromise().then(a,b)},f.prototype.catch=function(a){return this._getPromise().catch(a)},f.prototype._getPromise=function(){return this._promise||(this._promise=new Promise((function(a,b){this._once("end",a),this._once("error",b)}).bind(this))),this._promise},f.prototype.submit=function(a){this.state="running";var b=this;this.native=a.native,a.native.arrayMode=this._arrayMode;var c=ii(function(c,d,e){if(a.native.arrayMode=!1,h8(function(){b.emit("_done")}),c)return b.handleError(c);b._emitRowEvents&&(e.length>1?d.forEach((a,c)=>{a.forEach(a=>{b.emit("row",a,e[c])})}):d.forEach(function(a){b.emit("row",a,e)})),b.state="end",b.emit("end",e),b.callback&&b.callback(null,e)},"after");if(ia.domain&&(c=ia.domain.bind(c)),this.name){this.name.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",this.name,this.name.length),console.error("This can cause conflicts and silent errors executing queries"));var d=(this.values||[]).map(e.prepareValue);if(a.namedQueries[this.name]){if(this.text&&a.namedQueries[this.name]!==this.text){let a=Error(`Prepa\
red statements must be unique - '${this.name}' was used for a different statement`);return c(a)}return a.native.execute(this.name,d,c)}return a.native.prepare(this.name,this.text,d.length,function(e){return e?c(e):(a.namedQueries[b.name]=b.text,b.native.execute(b.name,d,c))})}if(this.values){if(!Array.isArray(this.values)){let a=Error("Query values must be an array");return c(a)}var f=this.values.map(e.prepareValue);a.native.query(this.text,f,c)}else a.native.query(this.text,c)}}),jK=ik((a,b)=>{iu();var c=(jH(),ip(jF)),d=iR(),e=(jI(),iv().EventEmitter),f=(i4(),ip(i2)),g=jq(),h=jJ(),i=b.exports=function(a){e.call(this),a=a||{},this._Promise=a.Promise||h7.Promise,this._types=new d(a.types),this.native=new c({types:this._types}),this._queryQueue=[],this._ending=!1,this._connecting=!1,this._connected=!1,this._queryable=!0;var b=this.connectionParameters=new g(a);this.user=b.user,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:b.password}),this.database=b.database,this.host=b.host,this.port=b.port,this.namedQueries={}};i.Query=h,f.inherits(i,e),i.prototype._errorAllQueries=function(a){let b=ii(b=>{ia.nextTick(()=>{b.native=this.native,b.handleError(a)})},"enqueueError");this._hasActiveQuery()&&(b(this._activeQuery),this._activeQuery=null),this._queryQueue.forEach(b),this._queryQueue.length=0},i.prototype._connect=function(a){var b=this;if(this._connecting)return void ia.nextTick(()=>a(Error("Client has already been connected. You cannot reuse a client.")));this._connecting=!0,this.connectionParameters.getLibpqConnectionString(function(c,d){if(c)return a(c);b.native.connect(d,function(c){if(c)return b.native.end(),a(c);b._connected=!0,b.native.on("error",function(a){b._queryable=!1,b._errorAllQueries(a),b.emit("error",a)}),b.native.on("notification",function(a){b.emit("notification",{channel:a.relname,payload:a.extra})}),b.emit("connect"),b._pulseQueryQueue(!0),a()})})},i.prototype.connect=function(a){return a?void this._connect(a):new this._Promise((a,b)=>{this._connect(c=>{c?b(c):a()})})},i.prototype.query=function(a,b,c){var d,e,f,g,i;if(null==a)throw TypeError("Client was passed a null or undefined query");if("function"==typeof a.submit)f=a.query_timeout||this.connectionParameters.query_timeout,e=d=a,"function"==typeof b&&(a.callback=b);else if(f=this.connectionParameters.query_timeout,!(d=new h(a,b,c)).callback){let a,b;e=new this._Promise((c,d)=>{a=c,b=d}),d.callback=(c,d)=>c?b(c):a(d)}return f&&(i=d.callback,g=setTimeout(()=>{var a=Error("Query read timeout");ia.nextTick(()=>{d.handleError(a,this.connection)}),i(a),d.callback=()=>{};var b=this._queryQueue.indexOf(d);b>-1&&this._queryQueue.splice(b,1),this._pulseQueryQueue()},f),d.callback=(a,b)=>{clearTimeout(g),i(a,b)}),this._queryable?this._ending?(d.native=this.native,ia.nextTick(()=>{d.handleError(Error("Client was closed and is not queryable"))})):(this._queryQueue.push(d),this._pulseQueryQueue()):(d.native=this.native,ia.nextTick(()=>{d.handleError(Error("Client has encountered a connection error and is not queryable"))})),e},i.prototype.end=function(a){var b,c=this;return this._ending=!0,this._connected||this.once("connect",this.end.bind(this,a)),a||(b=new this._Promise(function(b,c){a=ii(a=>a?c(a):b(),"cb")})),this.native.end(function(){c._errorAllQueries(Error("Connection terminated")),ia.nextTick(()=>{c.emit("end"),a&&a()})}),b},i.prototype._hasActiveQuery=function(){return this._activeQuery&&"error"!==this._activeQuery.state&&"end"!==this._activeQuery.state},i.prototype._pulseQueryQueue=function(a){if(this._connected&&!this._hasActiveQuery()){var b=this._queryQueue.shift();if(!b){a||this.emit("drain");return}this._activeQuery=b,b.submit(this);var c=this;b.once("_done",function(){c._pulseQueryQueue()})}},i.prototype.cancel=function(a){this._activeQuery===a?this.native.cancel(function(){}):-1!==this._queryQueue.indexOf(a)&&this._queryQueue.splice(this._queryQueue.indexOf(a),1)},i.prototype.ref=function(){},i.prototype.unref=function(){},i.prototype.setTypeParser=function(a,b,c){return this._types.setTypeParser(a,b,c)},i.prototype.getTypeParser=function(a,b){return this._types.getTypeParser(a,b)}}),jL=ik((a,b)=>{iu(),b.exports=jK()}),jM=ik((a,b)=>{iu();var c=jD(),d=i0(),e=jC(),f=jE(),{DatabaseError:g}=jy(),h=ii(a=>{var b;return ii(b=class extends f{constructor(b){super(b,a)}},"BoundPool"),b},"poolFactory"),i=ii(function(a){this.defaults=d,this.Client=a,this.Query=this.Client.Query,this.Pool=h(this.Client),this._pools=[],this.Connection=e,this.types=iQ(),this.DatabaseError=g},"PG");"u">typeof ia.env.NODE_PG_FORCE_NATIVE?b.exports=new i(jL()):(b.exports=new i(c),Object.defineProperty(b.exports,"native",{configurable:!0,enumerable:!1,get(){var a=null;try{a=new i(jL())}catch(a){if("MODULE_NOT_FOUND"!==a.code)throw a}return Object.defineProperty(b.exports,"native",{value:a}),a}}))});iu(),iu(),iC(),iF(),iu();var jN=Object.defineProperty,jO=Object.defineProperties,jP=Object.getOwnPropertyDescriptors,jQ=Object.getOwnPropertySymbols,jR=Object.prototype.hasOwnProperty,jS=Object.prototype.propertyIsEnumerable,jT=ii((a,b,c)=>b in a?jN(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c,"__defNormalProp"),jU=ii((a,b)=>{for(var c in b||(b={}))jR.call(b,c)&&jT(a,c,b[c]);if(jQ)for(var c of jQ(b))jS.call(b,c)&&jT(a,c,b[c]);return a},"__spreadValues"),jV=ii((a,b)=>jO(a,jP(b)),"__spreadProps"),jW=2===new Uint8Array(new Uint16Array([258]).buffer)[0],jX=new TextDecoder,jY=new TextEncoder,jZ=jY.encode("0123456789abcdef"),j$=jY.encode("0123456789ABCDEF"),j_=jY.encode("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/").slice();function j0(a,{alphabet:b,scratchArr:c}={}){if(!i)if(i=new Uint16Array(256),j=new Uint16Array(256),jW)for(let a=0;a<256;a++)i[a]=jZ[15&a]<<8|jZ[a>>>4],j[a]=j$[15&a]<<8|j$[a>>>4];else for(let a=0;a<256;a++)i[a]=jZ[15&a]|jZ[a>>>4]<<8,j[a]=j$[15&a]|j$[a>>>4]<<8;a.byteOffset%4!=0&&(a=new Uint8Array(a));let d=a.length,e=d>>>2,f=c||new Uint16Array(d),g=new Uint32Array(a.buffer,a.byteOffset,e),h=new Uint32Array(f.buffer,f.byteOffset,d>>>1),k="upper"===b?j:i,l=0,m=0,n;if(jW)for(;l<e;)n=g[l++],h[m++]=k[n>>>8&255]<<16|k[255&n],h[m++]=k[n>>>24]<<16|k[n>>>16&255];else for(;l<e;)n=g[l++],h[m++]=k[n>>>24]<<16|k[n>>>16&255],h[m++]=k[n>>>8&255]<<16|k[255&n];for(l<<=2;l<d;)f[l]=k[a[l++]];return jX.decode(f.subarray(0,d))}function j1(a,b={}){let c="",d=a.length,e=Math.ceil(d/504e3),f=new Uint16Array(e>1?504e3:d);for(let d=0;d<e;d++){let e=504e3*d,g=e+504e3;c+=j0(a.subarray(e,g),jV(jU({},b),{scratchArr:f}))}return c}function j2(a,b={}){return"upper"!==b.alphabet&&"function"==typeof a.toHex?a.toHex():j1(a,b)}j_[62]=45,j_[63]=95,ii(j0,"_toHex"),ii(j1,"_toHexChunked"),ii(j2,"toHex"),iu();var j3=class a{constructor(a,b){this.strings=a,this.values=b}toParameterizedQuery(b={query:"",params:[]}){let{strings:c,values:d}=this;for(let e=0,f=c.length;e<f;e++)if(b.query+=c[e],e<d.length){let c=d[e];if(c instanceof j5)b.query+=c.sql;else if(c instanceof kg)if(c.queryData instanceof a)c.queryData.toParameterizedQuery(b);else{if(c.queryData.params?.length)throw Error("This query is not composable");b.query+=c.queryData.query}else{let{params:a}=b;a.push(c),b.query+="$"+a.length,(c instanceof h9||ArrayBuffer.isView(c))&&(b.query+="::bytea")}}return b}};ii(j3,"SqlTemplate");var j4=class{constructor(a){this.sql=a}};ii(j4,"UnsafeRawSql");var j5=j4;function j6(){"u">typeof window&&"u">typeof document&&"u">typeof console&&"function"==typeof console.warn&&console.warn(`          
        ************************************************************
        *                                                          *
        *  WARNING: Running SQL directly from the browser can have *
        *  security implications. Even if your database is         *
        *  protected by Row-Level Security (RLS), use it at your   *
        *  own risk. This approach is great for fast prototyping,  *
        *  but ensure proper safeguards are in place to prevent    *
        *  misuse or execution of expensive SQL queries by your    *
        *  end users.                                              *
        *                                                          *
        *  If you've assessed the risks, suppress this message     *
        *  using the disableWarningInBrowsers configuration        *
        *  parameter.                                              *
        *                                                          *
        ************************************************************`)}iu(),ii(j6,"warnIfBrowser"),iC();var j7=io(iR()),j8=io(i1()),j9=class a extends Error{constructor(b){super(b),iq(this,"name","NeonDbError"),iq(this,"severity"),iq(this,"code"),iq(this,"detail"),iq(this,"hint"),iq(this,"position"),iq(this,"internalPosition"),iq(this,"internalQuery"),iq(this,"where"),iq(this,"schema"),iq(this,"table"),iq(this,"column"),iq(this,"dataType"),iq(this,"constraint"),iq(this,"file"),iq(this,"line"),iq(this,"routine"),iq(this,"sourceError"),"captureStackTrace"in Error&&"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,a)}};ii(j9,"NeonDbError");var ka="transaction() expects an array of queries, or a function returning an array of queries",kb=["severity","code","detail","hint","position","internalPosition","internalQuery","where","schema","table","column","dataType","constraint","file","line","routine"];function kc(a){return a instanceof h9?"\\x"+j2(a):a}function kd(a){let{query:b,params:c}=a instanceof j3?a.toParameterizedQuery():a;return{query:b,params:c.map(a=>kc((0,j8.prepareValue)(a)))}}function ke(a,{arrayMode:b,fullResults:c,fetchOptions:d,isolationLevel:e,readOnly:f,deferrable:g,authToken:h,disableWarningInBrowsers:i}={}){let j;if(!a)throw Error("No database connection string was provided to `neon()`. Perhaps an environment variable has not been set?");try{j=iE(a)}catch{throw Error("Database connection string provided to `neon()` is not a valid URL. Connection string: "+String(a))}let{protocol:k,username:l,hostname:m,port:n,pathname:o}=j;if("postgres:"!==k&&"postgresql:"!==k||!l||!m||!o)throw Error("Database connection string format for `neon()` should be: postgresql://user:password@host.tld/dbname?option=value");function p(a,...b){if(!(Array.isArray(a)&&Array.isArray(a.raw)&&Array.isArray(b)))throw Error('This function can now be called only as a tagged-template function: sql`SELECT ${value}`, not sql("SELECT $1", [value], options). For a conventional function call with value placeholders ($1, $2, etc.), use sql.query("SELECT $1", [value], options).');return new kg(q,new j3(a,b))}async function q(j,k,l){let o,{fetchEndpoint:p,fetchFunction:q}=iB,r=Array.isArray(j)?{queries:j.map(a=>kd(a))}:kd(j),s=d??{},t=b??!1,u=c??!1,v=e,w=f,x=g;void 0!==l&&(void 0!==l.fetchOptions&&(s={...s,...l.fetchOptions}),void 0!==l.arrayMode&&(t=l.arrayMode),void 0!==l.fullResults&&(u=l.fullResults),void 0!==l.isolationLevel&&(v=l.isolationLevel),void 0!==l.readOnly&&(w=l.readOnly),void 0!==l.deferrable&&(x=l.deferrable)),void 0===k||Array.isArray(k)||void 0===k.fetchOptions||(s={...s,...k.fetchOptions});let y=h;Array.isArray(k)||k?.authToken===void 0||(y=k.authToken);let z="function"==typeof p?p(m,n,{jwtAuth:void 0!==y}):p,A={"Neon-Connection-String":a,"Neon-Raw-Text-Output":"true","Neon-Array-Mode":"true"},B=await ki(y);B&&(A.Authorization=`Bearer ${B}`),Array.isArray(j)&&(void 0!==v&&(A["Neon-Batch-Isolation-Level"]=v),void 0!==w&&(A["Neon-Batch-Read-Only"]=String(w)),void 0!==x&&(A["Neon-Batch-Deferrable"]=String(x))),i||iB.disableWarningInBrowsers||j6();try{o=await (q??fetch)(z,{method:"POST",body:JSON.stringify(r),headers:A,...s})}catch(b){let a=new j9(`Error connecting to database: ${b}`);throw a.sourceError=b,a}if(o.ok){let a=await o.json();if(Array.isArray(j)){let b=a.results;if(!Array.isArray(b))throw new j9("Neon internal error: unexpected result format");return b.map((a,b)=>{let c=k[b]??{};return kh(a,{arrayMode:c.arrayMode??t,fullResults:c.fullResults??u,types:c.types})})}{let b=k??{};return kh(a,{arrayMode:b.arrayMode??t,fullResults:b.fullResults??u,types:b.types})}}{let{status:a}=o;if(400===a){let a=await o.json(),b=new j9(a.message);for(let c of kb)b[c]=a[c]??void 0;throw b}{let b=await o.text();throw new j9(`Server error (HTTP status ${a}): ${b}`)}}}return ii(p,"templateFn"),p.query=(a,b,c)=>new kg(q,{query:a,params:b??[]},c),p.unsafe=a=>new j5(a),p.transaction=async(a,b)=>{if("function"==typeof a&&(a=a(p)),!Array.isArray(a))throw Error(ka);return a.forEach(a=>{if(!(a instanceof kg))throw Error(ka)}),q(a.map(a=>a.queryData),a.map(a=>a.opts??{}),b)},ii(q,"execute"),p}ii(kc,"encodeBuffersAsBytea"),ii(kd,"prepareQuery"),ii(ke,"neon");var kf=class{constructor(a,b,c){this.execute=a,this.queryData=b,this.opts=c}then(a,b){return this.execute(this.queryData,this.opts).then(a,b)}catch(a){return this.execute(this.queryData,this.opts).catch(a)}finally(a){return this.execute(this.queryData,this.opts).finally(a)}};ii(kf,"NeonQueryPromise");var kg=kf;function kh(a,{arrayMode:b,fullResults:c,types:d}){let e=new j7.default(d),f=a.fields.map(a=>a.name),g=a.fields.map(a=>e.getTypeParser(a.dataTypeID)),h=!0===b?a.rows.map(a=>a.map((a,b)=>null===a?null:g[b](a))):a.rows.map(a=>Object.fromEntries(a.map((a,b)=>[f[b],null===a?null:g[b](a)])));return c?(a.viaNeonFetch=!0,a.rowAsArray=b,a.rows=h,a._parsers=g,a._types=e,a):h}async function ki(a){if("string"==typeof a)return a;if("function"==typeof a)try{return await Promise.resolve(a())}catch(b){let a=new j9("Error getting auth token.");throw b instanceof Error&&(a=new j9(`Error getting auth token: ${b.message}`)),a}}ii(kh,"processQueryResult"),ii(ki,"getAuthToken"),iu();var kj=io(jM());iu();var kk=io(jM()),kl=class extends kk.Client{constructor(a){super(a),this.config=a}get neonConfig(){return this.connection.stream}connect(a){let{neonConfig:b}=this;b.forceDisablePgSSL&&(this.ssl=this.connection.ssl=!1),this.ssl&&b.useSecureWebSocket&&console.warn("SSL is enabled for both Postgres (e.g. ?sslmode=require in the connection string + forceDisablePgSSL = false) and the WebSocket tunnel (useSecureWebSocket = true). Double encryption will increase latency and CPU usage. It may be appropriate to disable SSL in the Postgres connection parameters or set forceDisablePgSSL = true.");let c="string"!=typeof this.config&&this.config?.host!==void 0||"string"!=typeof this.config&&this.config?.connectionString!==void 0||void 0!==ia.env.PGHOST,d=ia.env.USER??ia.env.USERNAME;if(!c&&"localhost"===this.host&&this.user===d&&this.database===d&&null===this.password)throw Error(`No database host or connection string wa\
s set, and key parameters have default values (host: localhost, user: ${d}, db: ${d}, password: null\
). Is an environment variable missing? Alternatively, if you intended to connect with these paramete\
rs, please set the host to 'localhost' explicitly.`);let e=super.connect(a),f=b.pipelineTLS&&this.ssl,g="password"===b.pipelineConnect;if(!f&&!b.pipelineConnect)return e;let h=this.connection;if(f&&h.on("connect",()=>h.stream.emit("data","S")),g){h.removeAllListeners("authenticationCleartextPassword"),h.removeAllListeners("readyForQuery"),h.once("readyForQuery",()=>h.on("readyForQuery",this._handleReadyForQuery.bind(this)));let a=this.ssl?"sslconnect":"connect";h.on(a,()=>{this.neonConfig.disableWarningInBrowsers||j6(),this._handleAuthCleartextPassword(),this._handleReadyForQuery()})}return e}async _handleAuthSASLContinue(a){if(typeof crypto>"u"||void 0===crypto.subtle||void 0===crypto.subtle.importKey)throw Error("Cannot use SASL auth when `crypto.subtle` is not defined");let b=crypto.subtle,c=this.saslSession,d=this.password,e=a.data;if("SASLInitialResponse"!==c.message||"string"!=typeof d||"string"!=typeof e)throw Error("SASL: protocol error");let f=Object.fromEntries(e.split(",").map(a=>{if(!/^.=/.test(a))throw Error("SASL: Invalid attribute pair entry");return[a[0],a.substring(2)]})),g=f.r,h=f.s,i=f.i;if(!g||!/^[!-+--~]+$/.test(g))throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce missing/unprintable");if(!h||!/^(?:[a-zA-Z0-9+/]{4})*(?:[a-zA-Z0-9+/]{2}==|[a-zA-Z0-9+/]{3}=)?$/.test(h))throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing/not base64");if(!i||!/^[1-9][0-9]*$/.test(i))throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: missing/invalid iteration count");if(!g.startsWith(c.clientNonce))throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not start with client nonce");if(g.length===c.clientNonce.length)throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce is too short");let j=parseInt(i,10),k=h9.from(h,"base64"),l=new TextEncoder,m=l.encode(d),n=await b.importKey("raw",m,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),o=new Uint8Array(await b.sign("HMAC",n,h9.concat([k,h9.from([0,0,0,1])]))),p=o;for(var q=0;q<j-1;q++)o=new Uint8Array(await b.sign("HMAC",n,o)),p=h9.from(p.map((a,b)=>p[b]^o[b]));let r=p,s=await b.importKey("raw",r,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),t=new Uint8Array(await b.sign("HMAC",s,l.encode("Client Key"))),u=await b.digest("SHA-256",t),v="n=*,r="+c.clientNonce,w="r="+g+",s="+h+",i="+j,x="c=biws,r="+g,y=v+","+w+","+x,z=await b.importKey("raw",u,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);var A=new Uint8Array(await b.sign("HMAC",z,l.encode(y))),B=h9.from(t.map((a,b)=>t[b]^A[b])).toString("base64");let C=await b.importKey("raw",r,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),D=await b.sign("HMAC",C,l.encode("Server Key")),E=await b.importKey("raw",D,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);var F=h9.from(await b.sign("HMAC",E,l.encode(y)));c.message="SASLResponse",c.serverSignature=F.toString("base64"),c.response=x+",p="+B,this.connection.sendSCRAMClientFinalMessage(this.saslSession.response)}};ii(kl,"NeonClient"),iC();var km=io(jq());function kn(a,b){let c,d;return b?{callback:b,result:void 0}:{callback:ii(function(a,b){a?c(a):d(b)},"cb"),result:new a(function(a,b){d=a,c=b})}}ii(kn,"promisify");var ko=class extends kj.Pool{constructor(){super(...arguments),iq(this,"Client",kl),iq(this,"hasFetchUnsupportedListeners",!1),iq(this,"addListener",this.on)}on(a,b){return"error"!==a&&(this.hasFetchUnsupportedListeners=!0),super.on(a,b)}query(a,b,c){if(!iB.poolQueryViaFetch||this.hasFetchUnsupportedListeners||"function"==typeof a)return super.query(a,b,c);"function"==typeof b&&(c=b,b=void 0);let d=kn(this.Promise,c);c=d.callback;try{let d=new km.default(this.options),e=encodeURIComponent,f=encodeURI,g=`postgresql://${e(d.user)}:${e(d.password)}@${e(d.host)}\
/${f(d.database)}`,h="string"==typeof a?a:a.text,i=b??a.values??[];ke(g,{fullResults:!0,arrayMode:"array"===a.rowMode}).query(h,i,{types:a.types??this.options?.types}).then(a=>c(void 0,a)).catch(a=>c(a))}catch(a){c(a)}return d.result}};ii(ko,"NeonPool"),iC();var kp=io(jM());kp.DatabaseError,kp.defaults,kp.escapeIdentifier,kp.escapeLiteral;var kq=kp.types,kr=Object.defineProperty,ks={};((a,b)=>{for(var c in b)kr(a,c,{get:b[c],enumerable:!0})})(ks,{$:()=>ku,bgBlack:()=>kO,bgBlue:()=>kS,bgCyan:()=>kU,bgGreen:()=>kQ,bgMagenta:()=>kT,bgRed:()=>kP,bgWhite:()=>kV,bgYellow:()=>kR,black:()=>kE,blue:()=>kI,bold:()=>kx,cyan:()=>kK,dim:()=>ky,gray:()=>kM,green:()=>kG,grey:()=>kN,hidden:()=>kC,inverse:()=>kB,italic:()=>kz,magenta:()=>kJ,red:()=>kF,reset:()=>kw,strikethrough:()=>kD,underline:()=>kA,white:()=>kL,yellow:()=>kH});var kt=!0;"undefined"!=typeof process&&({FORCE_COLOR:k,NODE_DISABLE_COLORS:l,NO_COLOR:m,TERM:n}=process.env||{},kt=process.stdout&&process.stdout.isTTY);var ku={enabled:!l&&null==m&&"dumb"!==n&&(null!=k&&"0"!==k||kt)};function kv(a,b){let c=RegExp(`\\x1b\\[${b}m`,"g"),d=`\x1b[${a}m`,e=`\x1b[${b}m`;return function(a){return ku.enabled&&null!=a?d+(~(""+a).indexOf(e)?a.replace(c,e+d):a)+e:a}}var kw=kv(0,0),kx=kv(1,22),ky=kv(2,22),kz=kv(3,23),kA=kv(4,24),kB=kv(7,27),kC=kv(8,28),kD=kv(9,29),kE=kv(30,39),kF=kv(31,39),kG=kv(32,39),kH=kv(33,39),kI=kv(34,39),kJ=kv(35,39),kK=kv(36,39),kL=kv(37,39),kM=kv(90,39),kN=kv(90,39),kO=kv(40,49),kP=kv(41,49),kQ=kv(42,49),kR=kv(43,49),kS=kv(44,49),kT=kv(45,49),kU=kv(46,49),kV=kv(47,49),kW=["green","yellow","blue","magenta","cyan","red"],kX=[],kY=Date.now(),kZ=0,k$="undefined"!=typeof process?process.env:{};globalThis.DEBUG??=k$.DEBUG??"",globalThis.DEBUG_COLORS??=!k$.DEBUG_COLORS||"true"===k$.DEBUG_COLORS;var k_={enable(a){"string"==typeof a&&(globalThis.DEBUG=a)},disable(){let a=globalThis.DEBUG;return globalThis.DEBUG="",a},enabled(a){let b=globalThis.DEBUG.split(",").map(a=>a.replace(/[.+?^${}()|[\]\\]/g,"\\$&")),c=b.some(b=>""!==b&&"-"!==b[0]&&a.match(RegExp(b.split("*").join(".*")+"$"))),d=b.some(b=>""!==b&&"-"===b[0]&&a.match(RegExp(b.slice(1).split("*").join(".*")+"$")));return c&&!d},log:(...a)=>{let[b,c,...d]=a;(console.warn??console.log)(`${b} ${c}`,...d)},formatters:{}},k0=new Proxy(function(a){let b={color:kW[kZ++%kW.length],enabled:k_.enabled(a),namespace:a,log:k_.log,extend:()=>{}};return new Proxy((...a)=>{let{enabled:c,namespace:d,color:e,log:f}=b;if(0!==a.length&&kX.push([d,...a]),kX.length>100&&kX.shift(),k_.enabled(d)||c){let b=a.map(a=>"string"==typeof a?a:function(a,b=2){let c=new Set;return JSON.stringify(a,(a,b)=>{if("object"==typeof b&&null!==b){if(c.has(b))return"[Circular *]";c.add(b)}else if("bigint"==typeof b)return b.toString();return b},b)}(a)),c=`+${Date.now()-kY}ms`;kY=Date.now(),globalThis.DEBUG_COLORS?f(ks[e](kx(d)),...b,ks[e](c)):f(d,...b,c)}},{get:(a,c)=>b[c],set:(a,c,d)=>b[c]=d})},{get:(a,b)=>k_[b],set:(a,b,c)=>k_[b]=c}),k1=Object.defineProperty,k2=(a,b,c)=>((a,b,c)=>b in a?k1(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c)(a,"symbol"!=typeof b?b+"":b,c),k3=class extends Error{constructor(a){super("string"==typeof a.message?a.message:a.kind),k2(this,"name","DriverAdapterError"),k2(this,"cause"),this.cause=a}},k4={Int32:0,Int64:1,Float:2,Double:3,Numeric:4,Boolean:5,Text:7,Date:8,Time:9,DateTime:10,Json:11,Bytes:13,Uuid:15,Int32Array:64,Int64Array:65,FloatArray:66,DoubleArray:67,NumericArray:68,BooleanArray:69,CharacterArray:70,TextArray:71,DateArray:72,TimeArray:73,DateTimeArray:74,JsonArray:75,BytesArray:77,UuidArray:78},k5=c(911),k6=c(356).Buffer,k7=Object.defineProperty,k8=(a,b,c)=>((a,b,c)=>b in a?k7(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c)(a,"symbol"!=typeof b?b+"":b,c),{builtins:k9,getTypeParser:la}=kq,lb={BIT_ARRAY:1561,BOOL_ARRAY:1e3,BYTEA_ARRAY:1001,BPCHAR_ARRAY:1014,CHAR_ARRAY:1002,CIDR_ARRAY:651,DATE_ARRAY:1182,FLOAT4_ARRAY:1021,FLOAT8_ARRAY:1022,INET_ARRAY:1041,INT2_ARRAY:1005,INT4_ARRAY:1007,INT8_ARRAY:1016,JSONB_ARRAY:3807,JSON_ARRAY:199,MONEY_ARRAY:791,NUMERIC_ARRAY:1231,OID_ARRAY:1028,TEXT_ARRAY:1009,TIMESTAMP_ARRAY:1115,TIME_ARRAY:1183,UUID_ARRAY:2951,VARBIT_ARRAY:1563,VARCHAR_ARRAY:1015,XML_ARRAY:143},lc=class a extends Error{constructor(b){super(),k8(this,"type"),this.type=a.typeNames[b]||"Unknown",this.message=`Unsupported column type ${this.type}`}};function ld(a){return b=>(0,k5.q)(b,a)}function le(a){return a}function lf(a){return a}function lg(a){return a}function lh(a){return a}function li(a){return a.slice(1)}function lj(a){return a}function lk(a){return Array.from(new Uint8Array(a))}k8(lc,"typeNames",{16:"bool",17:"bytea",18:"char",19:"name",20:"int8",21:"int2",22:"int2vector",23:"int4",24:"regproc",25:"text",26:"oid",27:"tid",28:"xid",29:"cid",30:"oidvector",32:"pg_ddl_command",71:"pg_type",75:"pg_attribute",81:"pg_proc",83:"pg_class",114:"json",142:"xml",194:"pg_node_tree",269:"table_am_handler",325:"index_am_handler",600:"point",601:"lseg",602:"path",603:"box",604:"polygon",628:"line",650:"cidr",700:"float4",701:"float8",705:"unknown",718:"circle",774:"macaddr8",790:"money",829:"macaddr",869:"inet",1033:"aclitem",1042:"bpchar",1043:"varchar",1082:"date",1083:"time",1114:"timestamp",1184:"timestamptz",1186:"interval",1266:"timetz",1560:"bit",1562:"varbit",1700:"numeric",1790:"refcursor",2202:"regprocedure",2203:"regoper",2204:"regoperator",2205:"regclass",2206:"regtype",2249:"record",2275:"cstring",2276:"any",2277:"anyarray",2278:"void",2279:"trigger",2280:"language_handler",2281:"internal",2283:"anyelement",2287:"_record",2776:"anynonarray",2950:"uuid",2970:"txid_snapshot",3115:"fdw_handler",3220:"pg_lsn",3310:"tsm_handler",3361:"pg_ndistinct",3402:"pg_dependencies",3500:"anyenum",3614:"tsvector",3615:"tsquery",3642:"gtsvector",3734:"regconfig",3769:"regdictionary",3802:"jsonb",3831:"anyrange",3838:"event_trigger",3904:"int4range",3906:"numrange",3908:"tsrange",3910:"tstzrange",3912:"daterange",3926:"int8range",4072:"jsonpath",4089:"regnamespace",4096:"regrole",4191:"regcollation",4451:"int4multirange",4532:"nummultirange",4533:"tsmultirange",4534:"tstzmultirange",4535:"datemultirange",4536:"int8multirange",4537:"anymultirange",4538:"anycompatiblemultirange",4600:"pg_brin_bloom_summary",4601:"pg_brin_minmax_multi_summary",5017:"pg_mcv_list",5038:"pg_snapshot",5069:"xid8",5077:"anycompatible",5078:"anycompatiblearray",5079:"anycompatiblenonarray",5080:"anycompatiblerange"});var ll=la(k9.BYTEA),lm=la(lb.BYTEA_ARRAY);function ln(a){return a}var lo={[k9.NUMERIC]:le,[lb.NUMERIC_ARRAY]:ld(le),[k9.TIME]:lh,[lb.TIME_ARRAY]:ld(lh),[k9.TIMETZ]:function(a){return a.split("+")[0]},[k9.DATE]:lf,[lb.DATE_ARRAY]:ld(lf),[k9.TIMESTAMP]:lg,[lb.TIMESTAMP_ARRAY]:ld(lg),[k9.TIMESTAMPTZ]:function(a){return a.split("+")[0]},[k9.MONEY]:li,[lb.MONEY_ARRAY]:ld(li),[k9.JSON]:lj,[k9.JSONB]:lj,[k9.BYTEA]:function(a){return lk(ll(a))},[lb.BYTEA_ARRAY]:function(a){return lm(a).map(a=>a?lk(a):null)},[lb.BIT_ARRAY]:ld(ln),[lb.VARBIT_ARRAY]:ld(ln),[lb.XML_ARRAY]:ld(function(a){return a})};function lp(a){for(let b=0;b<a.length;b++){let c=a[b];if(Array.isArray(c))for(let a=0;a<c.length;a++){let b=c[a];ArrayBuffer.isView(b)&&(c[a]=k6.from(b.buffer,b.byteOffset,b.byteLength))}}return a}var lq=k0("prisma:driver-adapter:neon"),lr=class{constructor(){k8(this,"provider","postgres"),k8(this,"adapterName","@prisma/adapter-neon")}async queryRaw(a){lq("[js::query_raw] %O",a);let{fields:b,rows:c}=await this.performIO(a),d=b.map(a=>a.name),e=[];try{e=b.map(a=>(function(a){switch(a){case k9.INT2:case k9.INT4:return k4.Int32;case k9.INT8:return k4.Int64;case k9.FLOAT4:return k4.Float;case k9.FLOAT8:return k4.Double;case k9.BOOL:return k4.Boolean;case k9.DATE:return k4.Date;case k9.TIME:case k9.TIMETZ:return k4.Time;case k9.TIMESTAMP:case k9.TIMESTAMPTZ:return k4.DateTime;case k9.NUMERIC:case k9.MONEY:return k4.Numeric;case k9.JSON:case k9.JSONB:return k4.Json;case k9.UUID:return k4.Uuid;case k9.OID:return k4.Int64;case k9.BPCHAR:case k9.TEXT:case k9.VARCHAR:case k9.BIT:case k9.VARBIT:case k9.INET:case k9.CIDR:case k9.XML:return k4.Text;case k9.BYTEA:return k4.Bytes;case lb.INT2_ARRAY:case lb.INT4_ARRAY:return k4.Int32Array;case lb.FLOAT4_ARRAY:return k4.FloatArray;case lb.FLOAT8_ARRAY:return k4.DoubleArray;case lb.NUMERIC_ARRAY:case lb.MONEY_ARRAY:return k4.NumericArray;case lb.BOOL_ARRAY:return k4.BooleanArray;case lb.CHAR_ARRAY:return k4.CharacterArray;case lb.BPCHAR_ARRAY:case lb.TEXT_ARRAY:case lb.VARCHAR_ARRAY:case lb.VARBIT_ARRAY:case lb.BIT_ARRAY:case lb.INET_ARRAY:case lb.CIDR_ARRAY:case lb.XML_ARRAY:return k4.TextArray;case lb.DATE_ARRAY:return k4.DateArray;case lb.TIME_ARRAY:return k4.TimeArray;case lb.TIMESTAMP_ARRAY:return k4.DateTimeArray;case lb.JSON_ARRAY:case lb.JSONB_ARRAY:return k4.JsonArray;case lb.BYTEA_ARRAY:return k4.BytesArray;case lb.UUID_ARRAY:return k4.UuidArray;case lb.INT8_ARRAY:case lb.OID_ARRAY:return k4.Int64Array;default:if(a>=1e4)return k4.Text;throw new lc(a)}})(a.dataTypeID))}catch(a){if(a instanceof lc)throw new k3({kind:"UnsupportedNativeDataType",type:a.type});throw a}return{columnNames:d,columnTypes:e,rows:c}}async executeRaw(a){return lq("[js::execute_raw] %O",a),(await this.performIO(a)).rowCount??0}},ls=class extends lr{constructor(a){super(),this.client=a}async performIO(a){let{sql:b,args:c}=a;try{return await this.client.query({text:b,values:lp(c),rowMode:"array",types:{getTypeParser:(a,b)=>"text"===b&&lo[a]?lo[a]:kq.getTypeParser(a,b)}},lp(c))}catch(a){this.onError(a)}}onError(a){if(lq("Error in onError: %O",a),a&&"string"==typeof a.code&&"string"==typeof a.severity&&"string"==typeof a.message)throw new k3({kind:"postgres",code:a.code,severity:a.severity,message:a.message,detail:a.detail,column:a.column,hint:a.hint});throw a}},lt=class extends ls{constructor(a,b){super(a),this.options=b}async commit(){lq("[js::commit]"),this.client.release()}async rollback(){lq("[js::rollback]"),this.client.release()}},lu=class extends ls{constructor(a){super(a),this.conn=a}async startTransaction(){let a={usePhantomQuery:!1};return lq("%s options: %O","[js::startTransaction]",a),new lt(this.conn,a)}},lv=class extends ls{constructor(a,b){if(!(a instanceof ko))throw TypeError(`PrismaNeon must be initialized with an instance of Pool:
import { Pool } from '@neondatabase/serverless'
const pool = new Pool({ connectionString: url })
const adapter = new PrismaNeon(pool)
`);super(a),this.options=b,k8(this,"isRunning",!0)}executeScript(a){throw Error("Not implemented yet")}getConnectionInfo(){return{schemaName:this.options?.schema}}async transactionContext(){return new lu(await this.client.connect())}async dispose(){this.isRunning&&(await this.client.end(),this.isRunning=!1)}},lw=c(743),lx=c(856),ly=c.n(lx);iB.webSocketConstructor=ly();let lz=new lv(new ko({connectionString:`${process.env.DATABASE_URL}`})),lA=new lw.PrismaClient({adapter:lz}).$extends({result:{product:{price:{compute:a=>a.price.toString()},rating:{compute:a=>a.rating.toString()}}}}),lB="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),lC=Array.from({length:64},(a,b)=>b),lD=a=>Array(a).fill(-1),lE=[...lD(46),0,1,...lC.slice(54,64),...lD(7),...lC.slice(2,28),...lD(6),...lC.slice(28,54),...lD(5)],lF=[0x243f6a88,0x85a308d3,0x13198a2e,0x3707344,0xa4093822,0x299f31d0,0x82efa98,0xec4e6c89,0x452821e6,0x38d01377,0xbe5466cf,0x34e90c6c,0xc0ac29b7,0xc97c50dd,0x3f84d5b5,0xb5470917,0x9216d5d9,0x8979fb1b],lG=[0xd1310ba6,0x98dfb5ac,0x2ffd72db,0xd01adfb7,0xb8e1afed,0x6a267e96,0xba7c9045,0xf12c7f99,0x24a19947,0xb3916cf7,0x801f2e2,0x858efc16,0x636920d8,0x71574e69,0xa458fea3,0xf4933d7e,0xd95748f,0x728eb658,0x718bcd58,0x82154aee,0x7b54a41d,0xc25a59b5,0x9c30d539,0x2af26013,0xc5d1b023,0x286085f0,0xca417918,0xb8db38ef,0x8e79dcb0,0x603a180e,0x6c9e0e8b,0xb01e8a3e,0xd71577c1,0xbd314b27,0x78af2fda,0x55605c60,0xe65525f3,0xaa55ab94,0x57489862,0x63e81440,0x55ca396a,0x2aab10b6,0xb4cc5c34,0x1141e8ce,0xa15486af,0x7c72e993,0xb3ee1411,0x636fbc2a,0x2ba9c55d,0x741831f6,0xce5c3e16,0x9b87931e,0xafd6ba33,0x6c24cf5c,0x7a325381,0x28958677,0x3b8f4898,0x6b4bb9af,0xc4bfe81b,0x66282193,0x61d809cc,0xfb21a991,0x487cac60,0x5dec8032,0xef845d5d,0xe98575b1,0xdc262302,0xeb651b88,0x23893e81,0xd396acc5,0xf6d6ff3,0x83f44239,0x2e0b4482,0xa4842004,0x69c8f04a,0x9e1f9b5e,0x21c66842,0xf6e96c9a,0x670c9c61,0xabd388f0,0x6a51a0d2,0xd8542f68,0x960fa728,0xab5133a3,0x6eef0b6c,0x137a3be4,0xba3bf050,0x7efb2a98,0xa1f1651d,0x39af0176,0x66ca593e,0x82430e88,0x8cee8619,0x456f9fb4,0x7d84a5c3,0x3b8b5ebe,0xe06f75d8,0x85c12073,0x401a449f,0x56c16aa6,0x4ed3aa62,0x363f7706,0x1bfedf72,0x429b023d,0x37d0d724,0xd00a1248,0xdb0fead3,0x49f1c09b,0x75372c9,0x80991b7b,0x25d479d8,0xf6e8def7,0xe3fe501a,0xb6794c3b,0x976ce0bd,0x4c006ba,0xc1a94fb6,0x409f60c4,0x5e5c9ec2,0x196a2463,0x68fb6faf,0x3e6c53b5,0x1339b2eb,0x3b52ec6f,0x6dfc511f,0x9b30952c,0xcc814544,0xaf5ebd09,0xbee3d004,0xde334afd,0x660f2807,0x192e4bb3,0xc0cba857,0x45c8740f,0xd20b5f39,0xb9d3fbdb,0x5579c0bd,0x1a60320a,0xd6a100c6,0x402c7279,0x679f25fe,0xfb1fa3cc,0x8ea5e9f8,0xdb3222f8,0x3c7516df,0xfd616b15,0x2f501ec8,0xad0552ab,0x323db5fa,0xfd238760,0x53317b48,0x3e00df82,0x9e5c57bb,0xca6f8ca0,0x1a87562e,0xdf1769db,0xd542a8f6,0x287effc3,0xac6732c6,0x8c4f5573,0x695b27b0,0xbbca58c8,0xe1ffa35d,0xb8f011a0,0x10fa3d98,0xfd2183b8,0x4afcb56c,0x2dd1d35b,0x9a53e479,0xb6f84565,0xd28e49bc,0x4bfb9790,0xe1ddf2da,0xa4cb7e33,0x62fb1341,0xcee4c6e8,0xef20cada,0x36774c01,0xd07e9efe,0x2bf11fb4,0x95dbda4d,0xae909198,0xeaad8e71,0x6b93d5a0,0xd08ed1d0,0xafc725e0,0x8e3c5b2f,0x8e7594b7,0x8ff6e2fb,0xf2122b64,0x8888b812,0x900df01c,0x4fad5ea0,0x688fc31c,0xd1cff191,0xb3a8c1ad,0x2f2f2218,0xbe0e1777,0xea752dfe,0x8b021fa1,0xe5a0cc0f,0xb56f74e8,0x18acf3d6,0xce89e299,0xb4a84fe0,0xfd13e0b7,0x7cc43b81,0xd2ada8d9,0x165fa266,0x80957705,0x93cc7314,0x211a1477,0xe6ad2065,0x77b5fa86,0xc75442f5,0xfb9d35cf,0xebcdaf0c,0x7b3e89a0,0xd6411bd3,0xae1e7e49,2428461,0x2071b35e,0x226800bb,0x57b8e0af,0x2464369b,0xf009b91e,0x5563911d,0x59dfa6aa,0x78c14389,0xd95a537f,0x207d5ba2,0x2e5b9c5,0x83260376,0x6295cfa9,0x11c81968,0x4e734a41,0xb3472dca,0x7b14a94a,0x1b510052,0x9a532915,0xd60f573f,0xbc9bc6e4,0x2b60a476,0x81e67400,0x8ba6fb5,0x571be91f,0xf296ec6b,0x2a0dd915,0xb6636521,0xe7b9f9b6,0xff34052e,0xc5855664,0x53b02d5d,0xa99f8fa1,0x8ba4799,0x6e85076a,0x4b7a70e9,0xb5b32944,0xdb75092e,0xc4192623,290971e4,0x49a7df7d,0x9cee60b8,0x8fedb266,0xecaa8c71,0x699a17ff,0x5664526c,0xc2b19ee1,0x193602a5,0x75094c29,0xa0591340,0xe4183a3e,0x3f54989a,0x5b429d65,0x6b8fe4d6,0x99f73fd6,0xa1d29c07,0xefe830f5,0x4d2d38e6,0xf0255dc1,0x4cdd2086,0x8470eb26,0x6382e9c6,0x21ecc5e,0x9686b3f,0x3ebaefc9,0x3c971814,0x6b6a70a1,0x687f3584,0x52a0e286,0xb79c5305,0xaa500737,0x3e07841c,0x7fdeae5c,0x8e7d44ec,0x5716f2b8,0xb03ada37,0xf0500c0d,0xf01c1f04,0x200b3ff,0xae0cf51a,0x3cb574b2,0x25837a58,0xdc0921bd,0xd19113f9,0x7ca92ff6,0x94324773,0x22f54701,0x3ae5e581,0x37c2dadc,0xc8b57634,0x9af3dda7,0xa9446146,0xfd0030e,0xecc8c73e,0xa4751e41,0xe238cd99,0x3bea0e2f,0x3280bba1,0x183eb331,0x4e548b38,0x4f6db908,0x6f420d03,0xf60a04bf,0x2cb81290,0x24977c79,0x5679b072,0xbcaf89af,0xde9a771f,0xd9930810,0xb38bae12,0xdccf3f2e,0x5512721f,0x2e6b7124,0x501adde6,0x9f84cd87,0x7a584718,0x7408da17,0xbc9f9abc,0xe94b7d8c,0xec7aec3a,0xdb851dfa,0x63094366,0xc464c3d2,0xef1c1847,0x3215d908,0xdd433b37,0x24c2ba16,0x12a14d43,0x2a65c451,0x50940002,0x133ae4dd,0x71dff89e,0x10314e55,0x81ac77d6,0x5f11199b,0x43556f1,0xd7a3c76b,0x3c11183b,0x5924a509,0xf28fe6ed,0x97f1fbfa,0x9ebabf2c,0x1e153c6e,0x86e34570,0xeae96fb1,0x860e5e0a,0x5a3e2ab3,0x771fe71c,0x4e3d06fa,0x2965dcb9,0x99e71d0f,0x803e89d6,0x5266c825,0x2e4cc978,0x9c10b36a,0xc6150eba,0x94e2ea78,0xa5fc3c53,0x1e0a2df4,0xf2f74ea7,0x361d2b3d,0x1939260f,0x19c27960,0x5223a708,0xf71312b6,0xebadfe6e,0xeac31f66,0xe3bc4595,0xa67bc883,0xb17f37d1,0x18cff28,0xc332ddef,0xbe6c5aa5,0x65582185,0x68ab9802,0xeecea50f,0xdb2f953b,0x2aef7dad,0x5b6e2f84,0x1521b628,0x29076170,0xecdd4775,0x619f1510,0x13cca830,0xeb61bd96,0x334fe1e,0xaa0363cf,0xb5735c90,0x4c70a239,0xd59e9e0b,0xcbaade14,0xeecc86bc,0x60622ca7,0x9cab5cab,0xb2f3846e,0x648b1eaf,0x19bdf0ca,0xa02369b9,0x655abb50,0x40685a32,0x3c2ab4b3,0x319ee9d5,0xc021b8f7,0x9b540b19,0x875fa099,0x95f7997e,0x623d7da8,0xf837889a,0x97e32d77,0x11ed935f,0x16681281,0xe358829,0xc7e61fd6,0x96dedfa1,0x7858ba99,0x57f584a5,0x1b227263,0x9b83c3ff,0x1ac24696,0xcdb30aeb,0x532e3054,0x8fd948e4,0x6dbc3128,0x58ebf2ef,0x34c6ffea,0xfe28ed61,0xee7c3c73,0x5d4a14d9,0xe864b7e3,0x42105d14,0x203e13e0,0x45eee2b6,0xa3aaabea,0xdb6c4f15,0xfacb4fd0,0xc742f442,0xef6abbb5,0x654f3b1d,0x41cd2105,0xd81e799e,0x86854dc7,0xe44b476a,0x3d816250,0xcf62a1f2,0x5b8d2646,0xfc8883a0,0xc1c7b6a3,0x7f1524c3,0x69cb7492,0x47848a0b,0x5692b285,0x95bbf00,0xad19489d,0x1462b174,0x23820e00,0x58428d2a,0xc55f5ea,0x1dadf43e,0x233f7061,0x3372f092,0x8d937e41,0xd65fecf1,0x6c223bdb,0x7cde3759,0xcbee7460,0x4085f2a7,0xce77326e,0xa6078084,0x19f8509e,0xe8efd855,0x61d99735,0xa969a7aa,0xc50c06c2,0x5a04abfc,0x800bcadc,0x9e447a2e,0xc3453484,0xfdd56705,0xe1e9ec9,0xdb73dbd3,0x105588cd,0x675fda79,0xe3674340,0xc5c43465,0x713e38d8,0x3d28f89e,0xf16dff20,0x153e21e7,0x8fb03d4a,0xe6e39f2b,0xdb83adf7,0xe93d5a68,0x948140f7,0xf64c261c,0x94692934,0x411520f7,0x7602d4f7,0xbcf46b2e,0xd4a20068,0xd4082471,0x3320f46a,0x43b7d4b7,0x500061af,0x1e39f62e,0x97244546,0x14214f74,0xbf8b8840,0x4d95fc1d,0x96b591af,0x70f4ddd3,0x66a02f45,0xbfbc09ec,0x3bd9785,0x7fac6dd0,0x31cb8504,0x96eb27b3,0x55fd3941,0xda2547e6,0xabca0a9a,0x28507825,0x530429f4,0xa2c86da,0xe9b66dfb,0x68dc1462,0xd7486900,0x680ec0a4,0x27a18dee,0x4f3ffea2,0xe887ad8c,0xb58ce006,0x7af4d6b6,0xaace1e7c,0xd3375fec,0xce78a399,0x406b2a42,0x20fe9e35,0xd9f385b9,0xee39d7ab,0x3b124e8b,0x1dc9faf7,0x4b6d1856,0x26a36631,0xeae397b2,0x3a6efa74,0xdd5b4332,0x6841e7f7,0xca7820fb,0xfb0af54e,0xd8feb397,0x454056ac,0xba489527,0x55533a3a,0x20838d87,0xfe6ba9b7,0xd096954b,0x55a867bc,0xa1159a58,0xcca92963,0x99e1db33,0xa62a4a56,0x3f3125f9,0x5ef47e1c,0x9029317c,0xfdf8e802,0x4272f70,0x80bb155c,0x5282ce3,0x95c11548,0xe4c66d22,0x48c1133f,0xc70f86dc,0x7f9c9ee,0x41041f0f,0x404779a4,0x5d886e17,0x325f51eb,0xd59bc0d1,0xf2bcc18f,0x41113564,0x257b7834,0x602a9c60,0xdff8e8a3,0x1f636c1b,0xe12b4c2,0x2e1329e,0xaf664fd1,0xcad18115,0x6b2395e0,0x333e92e1,0x3b240b62,0xeebeb922,0x85b2a20e,0xe6ba0d99,0xde720c8c,0x2da2f728,0xd0127845,0x95b794fd,0x647d0862,0xe7ccf5f0,0x5449a36f,0x877d48fa,0xc39dfd27,0xf33e8d1e,0xa476341,0x992eff74,0x3a6f6eab,0xf4f8fd37,0xa812dc60,0xa1ebddf8,0x991be14c,0xdb6e6b0d,0xc67b5510,0x6d672c37,0x2765d43b,0xdcd0e804,0xf1290dc7,0xcc00ffa3,0xb5390f92,0x690fed0b,0x667b9ffb,0xcedb7d9c,0xa091cf0b,0xd9155ea3,0xbb132f88,0x515bad24,0x7b9479bf,0x763bd6eb,0x37392eb3,0xcc115979,0x8026e297,0xf42e312d,0x6842ada7,0xc66a2b3b,0x12754ccc,0x782ef11c,0x6a124237,0xb79251e7,0x6a1bbe6,0x4bfb6350,0x1a6b1018,0x11caedfa,0x3d25bdd8,0xe2e1c3c9,0x44421659,0xa121386,0xd90cec6e,0xd5abea2a,0x64af674e,0xda86a85f,0xbebfe988,0x64e4c3fe,0x9dbc8057,0xf0f7c086,0x60787bf8,0x6003604d,0xd1fd8346,0xf6381fb0,0x7745ae04,0xd736fccc,0x83426b33,0xf01eab71,0xb0804187,0x3c005e5f,0x77a057be,0xbde8ae24,0x55464299,0xbf582e61,0x4e58f48f,0xf2ddfda2,0xf474ef38,0x8789bdc2,0x5366f9c3,0xc8b38e74,0xb475f255,0x46fcd9b9,0x7aeb2661,0x8b1ddf84,0x846a0e79,0x915f95e2,0x466e598e,0x20b45770,0x8cd55591,0xc902de4c,0xb90bace1,0xbb8205d0,0x11a86248,0x7574a99e,0xb77f19b6,0xe0a9dc09,0x662d09a1,0xc4324633,0xe85a1f02,0x9f0be8c,0x4a99a025,0x1d6efe10,0x1ab93d1d,0xba5a4df,0xa186f20f,0x2868f169,0xdcb7da83,0x573906fe,0xa1e2ce9b,0x4fcd7f52,0x50115e01,0xa70683fa,0xa002b5c4,0xde6d027,0x9af88c27,0x773f8641,0xc3604c06,0x61a806b5,0xf0177a28,0xc0f586e0,6314154,0x30dc7d62,0x11e69ed7,0x2338ea63,0x53c2dd94,0xc2c21634,0xbbcbee56,0x90bcb6de,0xebfc7da1,0xce591d76,0x6f05e409,0x4b7c0188,0x39720a3d,0x7c927c24,0x86e3725f,0x724d9db9,0x1ac15bb4,0xd39eb8fc,0xed545578,0x8fca5b5,0xd83d7cd3,0x4dad0fc4,0x1e50ef5e,0xb161e6f8,0xa28514d9,0x6c51133c,0x6fd5c7e7,0x56e14ec4,0x362abfce,0xddc6c837,0xd79a3234,0x92638212,0x670efa8e,0x406000e0,0x3a39ce37,0xd3faf5cf,0xabc27737,0x5ac52d1b,0x5cb0679e,0x4fa33742,0xd3822740,0x99bc9bbe,0xd5118e9d,0xbf0f7315,0xd62d1c7e,0xc700c47b,0xb78c1b6b,0x21a19045,0xb26eb1be,0x6a366eb4,0x5748ab2f,0xbc946e79,0xc6a376d2,0x6549c2c8,0x530ff8ee,0x468dde7d,0xd5730a1d,0x4cd04dc6,0x2939bbdb,0xa9ba4650,0xac9526e8,0xbe5ee304,0xa1fad5f0,0x6a2d519a,0x63ef8ce2,0x9a86ee22,0xc089c2b8,0x43242ef6,0xa51e03aa,0x9cf2d0a4,0x83c061ba,0x9be96a4d,0x8fe51550,0xba645bd6,0x2826a2f9,0xa73a3ae1,0x4ba99586,0xef5562e9,0xc72fefd3,0xf752f7da,0x3f046f69,0x77fa0a59,0x80e4a915,0x87b08601,0x9b09e6ad,0x3b3ee593,0xe990fd5a,0x9e34d797,0x2cf0b7d9,0x22b8b51,0x96d5ac3a,0x17da67d,0xd1cf3ed6,0x7c7d2d28,0x1f9f25cf,0xadf2b89b,0x5ad6b472,0x5a88f54c,0xe029ac71,0xe019a5e6,0x47b0acfd,0xed93fa9b,0xe8d3c48d,0x283b57cc,0xf8d56629,0x79132e28,0x785f0191,0xed756055,0xf7960e44,0xe3d35e8c,0x15056dd4,0x88f46dba,0x3a16125,0x564f0bd,0xc3eb9e15,0x3c9057a2,0x97271aec,0xa93a072a,0x1b3f6d9b,0x1e6321f5,0xf59c66fb,0x26dcf319,0x7533d928,0xb155fdf5,0x3563482,0x8aba3cbb,0x28517711,0xc20ad9f8,0xabcc5167,0xccad925f,0x4de81751,0x3830dc8e,0x379d5862,0x9320f991,0xea7a90c2,0xfb3e7bce,0x5121ce64,0x774fbe32,0xa8b6e37e,0xc3293d46,0x48de5369,0x6413e680,0xa2ae0810,0xdd6db224,0x69852dfd,0x9072166,0xb39a460a,0x6445c0dd,0x586cdecf,0x1c20c8ae,0x5bbef7dd,0x1b588d40,0xccd2017f,0x6bb4e3bb,0xdda26a7e,0x3a59ff45,0x3e350a44,0xbcb4cdd5,0x72eacea8,0xfa6484bb,0x8d6612ae,0xbf3c6f47,0xd29be463,0x542f5d9e,0xaec2771b,0xf64e6370,0x740e0d8d,0xe75b1357,0xf8721671,0xaf537d5d,0x4040cb08,0x4eb4e2cc,0x34d2466a,0x115af84,3786409e3,0x95983a1d,0x6b89fb4,0xce6ea048,0x6f3f3b82,0x3520ab82,0x11a1d4b,0x277227f8,0x611560b1,0xe7933fdc,0xbb3a792b,0x344525bd,0xa08839e1,0x51ce794b,0x2f32c9b7,0xa01fbac9,0xe01cc87e,0xbcc7d1f6,0xcf0111c3,0xa1e8aac7,0x1a908749,0xd44fbd9a,0xd0dadecb,0xd50ada38,0x339c32a,0xc6913667,0x8df9317c,0xe0b12b4f,0xf79e59b7,0x43f5bb3a,0xf2d519ff,0x27d9459c,0xbf97222c,0x15e6fc2a,0xf91fc71,0x9b941525,0xfae59361,0xceb69ceb,0xc2a86459,0x12baa8d1,0xb6c1075e,0xe3056a0c,0x10d25065,0xcb03a442,0xe0ec6e0e,0x1698db3b,0x4c98a0be,0x3278e964,0x9f1f9532,0xe0d392df,0xd3a0342b,0x8971f21e,0x1b0a7441,0x4ba3348c,0xc5be7120,0xc37632d8,0xdf359f8d,0x9b992f2e,0xe60b6f47,0xfe3f11d,0xe54cda54,0x1edad891,0xce6279cf,0xcd3e7e6f,0x1618b166,0xfd2c1d05,0x848fd2c5,0xf6fb2299,0xf523f357,0xa6327623,0x93a83531,0x56cccd02,0xacf08162,0x5a75ebb5,0x6e163697,0x88d273cc,0xde966292,0x81b949d0,0x4c50901b,0x71c65614,0xe6c6c7bd,0x327a140a,0x45e1d006,0xc3f27b9a,0xc9aa53fd,0x62a80f00,0xbb25bfe2,0x35bdd2f6,0x71126905,0xb2040222,0xb6cbcf7c,0xcd769c2b,0x53113ec0,0x1640e3d3,0x38abbd60,0x2547adf0,0xba38209c,0xf746ce76,0x77afa1c5,0x20756060,0x85cbfe4e,0x8ae88dd8,0x7aaaf9b0,0x4cf9aa7e,0x1948c25c,0x2fb8a8c,0x1c36ae4,0xd6ebe1f9,0x90d4f869,0xa65cdea0,0x3f09252d,0xc208e69f,0xb74e6132,0xce77e25b,0x578fdfe3,0x3ac372e6],lH=[0x4f727068,0x65616e42,0x65686f6c,0x64657253,0x63727944,0x6f756274],lI=(a,b)=>{if(b<=0||b>a.length)throw Error(`Illegal len: ${b}`);let c=0,d,e,f=[];for(;c<b;){if(d=255&a[c++],f.push(lB[d>>2&63]),d=(3&d)<<4,c>=b||(d|=(e=255&a[c++])>>4&15,f.push(lB[63&d]),d=(15&e)<<2,c>=b)){f.push(lB[63&d]);break}d|=(e=255&a[c++])>>6&3,f.push(lB[63&d]),f.push(lB[63&e])}return f.join("")},lJ=setTimeout,lK=(a,b,c,d)=>{let e=a[b],f=a[b+1];return e^=c[0],f^=(d[e>>>24]+d[256|e>>16&255]^d[512|e>>8&255])+d[768|255&e]^c[1],e^=(d[f>>>24]+d[256|f>>16&255]^d[512|f>>8&255])+d[768|255&f]^c[2],f^=(d[e>>>24]+d[256|e>>16&255]^d[512|e>>8&255])+d[768|255&e]^c[3],e^=(d[f>>>24]+d[256|f>>16&255]^d[512|f>>8&255])+d[768|255&f]^c[4],f^=(d[e>>>24]+d[256|e>>16&255]^d[512|e>>8&255])+d[768|255&e]^c[5],e^=(d[f>>>24]+d[256|f>>16&255]^d[512|f>>8&255])+d[768|255&f]^c[6],f^=(d[e>>>24]+d[256|e>>16&255]^d[512|e>>8&255])+d[768|255&e]^c[7],e^=(d[f>>>24]+d[256|f>>16&255]^d[512|f>>8&255])+d[768|255&f]^c[8],f^=(d[e>>>24]+d[256|e>>16&255]^d[512|e>>8&255])+d[768|255&e]^c[9],e^=(d[f>>>24]+d[256|f>>16&255]^d[512|f>>8&255])+d[768|255&f]^c[10],f^=(d[e>>>24]+d[256|e>>16&255]^d[512|e>>8&255])+d[768|255&e]^c[11],e^=(d[f>>>24]+d[256|f>>16&255]^d[512|f>>8&255])+d[768|255&f]^c[12],f^=(d[e>>>24]+d[256|e>>16&255]^d[512|e>>8&255])+d[768|255&e]^c[13],e^=(d[f>>>24]+d[256|f>>16&255]^d[512|f>>8&255])+d[768|255&f]^c[14],f^=(d[e>>>24]+d[256|e>>16&255]^d[512|e>>8&255])+d[768|255&e]^c[15],e^=(d[f>>>24]+d[256|f>>16&255]^d[512|f>>8&255])+d[768|255&f]^c[16],a[b]=f^c[17],a[b+1]=e,a},lL=(a,b)=>{let c=0;for(let d=0;d<4;++d)c=c<<8|255&a[b],b=(b+1)%a.length;return{key:c,offp:b}},lM=(a,b,c)=>{let d=b.length,e=c.length,f=0,g=[0,0],h;for(let c=0;c<d;c++)f=(h=lL(a,f)).offp,b[c]=b[c]^h.key;for(let a=0;a<d;a+=2)g=lK(g,0,b,c),b[a]=g[0],b[a+1]=g[1];for(let a=0;a<e;a+=2)g=lK(g,0,b,c),c[a]=g[0],c[a+1]=g[1]},lN=(a,b,c,d,e)=>{let f=lH.slice(),g=f.length;if(c<4||c>31){let a=Error(`Illegal number of rounds (4-31): ${c}`);if(!1===d)return Promise.reject(a);throw a}if(16!==b.length){let a=Error(`Illegal salt length: ${b.length} != 16`);if(!1===d)return Promise.reject(a);throw a}c=1<<c>>>0;let h,i,j=0,k;Int32Array?(h=new Int32Array(lF),i=new Int32Array(lG)):(h=lF.slice(),i=lG.slice()),((a,b,c,d)=>{let e=c.length,f=d.length,g=0,h=[0,0],i;for(let a=0;a<e;a++)g=(i=lL(b,g)).offp,c[a]=c[a]^i.key;g=0;for(let b=0;b<e;b+=2)g=(i=lL(a,g)).offp,h[0]^=i.key,g=(i=lL(a,g)).offp,h[1]^=i.key,h=lK(h,0,c,d),c[b]=h[0],c[b+1]=h[1];for(let b=0;b<f;b+=2)g=(i=lL(a,g)).offp,h[0]^=i.key,g=(i=lL(a,g)).offp,h[1]^=i.key,h=lK(h,0,c,d),d[b]=h[0],d[b+1]=h[1]})(b,a,h,i);let l=()=>{if(e&&e(j/c),j<c){let d=Date.now();for(;j<c&&(j+=1,lM(a,h,i),lM(b,h,i),!(Date.now()-d>100)););}else{for(j=0;j<64;j++)for(k=0;k<g>>1;k++)lK(f,k<<1,h,i);let a=[];for(j=0;j<g;j++)a.push((f[j]>>24&255)>>>0),a.push((f[j]>>16&255)>>>0),a.push((f[j]>>8&255)>>>0),a.push((255&f[j])>>>0);return!1===d?Promise.resolve(a):a}if(!1===d)return new Promise(a=>lJ(()=>{l().then(a)}))};if(!1===d)return l();{let a;for(;;)if("u">typeof(a=l()))return a||[]}},{handlers:lO,auth:lP,signIn:lQ,signOut:lR}=function(a){if("function"==typeof a){let b=async b=>{let c=await a(b);return hG(c),hp(hF(b),c)};return{handlers:{GET:b,POST:b},auth:hW(a,a=>hG(a)),signIn:async(b,c,d)=>{let e=await a(void 0);return hG(e),h2(b,c,d,e)},signOut:async b=>{let c=await a(void 0);return hG(c),h3(b,c)},unstable_update:async b=>{let c=await a(void 0);return hG(c),h4(b,c)}}}hG(a);let b=b=>hp(hF(b),a);return{handlers:{GET:b,POST:b},auth:hW(a),signIn:(b,c,d)=>h2(b,c,d,a),signOut:b=>h3(b,a),unstable_update:b=>h4(b,a)}}({pages:{signIn:"/sign-in",error:"/sign-in"},session:{strategy:"jwt",maxAge:2592e3},adapter:function(a){return{createUser:({id:b,...c})=>a.user.create(h5(c)),getUser:b=>a.user.findUnique({where:{id:b}}),getUserByEmail:b=>a.user.findUnique({where:{email:b}}),async getUserByAccount(b){let c=await a.account.findUnique({where:{provider_providerAccountId:b},include:{user:!0}});return c?.user??null},updateUser:({id:b,...c})=>a.user.update({where:{id:b},...h5(c)}),deleteUser:b=>a.user.delete({where:{id:b}}),linkAccount:b=>a.account.create({data:b}),unlinkAccount:b=>a.account.delete({where:{provider_providerAccountId:b}}),async getSessionAndUser(b){let c=await a.session.findUnique({where:{sessionToken:b},include:{user:!0}});if(!c)return null;let{user:d,...e}=c;return{user:d,session:e}},createSession:b=>a.session.create(h5(b)),updateSession:b=>a.session.update({where:{sessionToken:b.sessionToken},...h5(b)}),deleteSession:b=>a.session.delete({where:{sessionToken:b}}),async createVerificationToken(b){let c=await a.verificationToken.create(h5(b));return"id"in c&&c.id&&delete c.id,c},async useVerificationToken(b){try{let c=await a.verificationToken.delete({where:{identifier_token:b}});return"id"in c&&c.id&&delete c.id,c}catch(a){if(a&&"object"==typeof a&&"code"in a&&"P2025"===a.code)return null;throw a}},getAccount:async(b,c)=>a.account.findFirst({where:{providerAccountId:b,provider:c}}),createAuthenticator:async b=>a.authenticator.create(h5(b)),getAuthenticator:async b=>a.authenticator.findUnique({where:{credentialID:b}}),listAuthenticatorsByUserId:async b=>a.authenticator.findMany({where:{userId:b}}),updateAuthenticatorCounter:async(b,c)=>a.authenticator.update({where:{credentialID:b},data:{counter:c}})}}(lA),providers:[{id:"credentials",name:"Credentials",type:"credentials",credentials:{},authorize:()=>null,options:{credentials:{email:{type:"email"},password:{type:"password"}},async authorize(a){if(null==a)return null;let b=await lA.user.findFirst({where:{email:a.email}});return b&&b.password&&((a,b)=>{if("string"!=typeof a||"string"!=typeof b)throw Error("Illegal arguments: "+typeof a+", "+typeof b);return 60===b.length&&((a,b=10)=>{if("number"==typeof b&&(b=((a=10)=>{if("number"!=typeof a)throw Error("Illegal arguments: "+typeof a);a<4?a=4:a>31&&(a=31);let b=[];return b.push("$2a$"),a<10&&b.push("0"),b.push(a.toString()),b.push("$"),b.push(lI((a=>{try{let b;return(self.crypto||self.msCrypto).getRandomValues(b=new Uint32Array(a)),Array.prototype.slice.call(b)}catch{throw Error("WebCryptoAPI is not available")}})(16),16)),b.join("")})(b)),"string"!=typeof a||"string"!=typeof b)throw Error("Illegal arguments: "+typeof a+", "+typeof b);return function(a,b,c,d){let e,f;if("string"!=typeof a||"string"!=typeof b){let a=Error("Invalid string / salt: Not a string");if(!1===c)return Promise.reject(a);throw a}if("$"!==b.charAt(0)||"2"!==b.charAt(1)){let a=Error("Invalid salt version: "+b.substring(0,2));if(!1===c)return Promise.reject(a);throw a}if("$"===b.charAt(2))e="\0",f=3;else{if("a"!==(e=b.charAt(2))&&"b"!==e&&"y"!==e||"$"!==b.charAt(3)){let a=Error("Invalid salt revision: "+b.substring(2,4));if(!1===c)return Promise.reject(a);throw a}f=4}if(b.charAt(f+2)>"$"){let a=Error("Missing salt rounds");if(!1===c)return Promise.reject(a);throw a}let g=10*parseInt(b.substring(f,f+1),10)+parseInt(b.substring(f+1,f+2),10),h=b.substring(f+3,f+25),i=(a=>{var b,c;let d=[],e=0;return b=()=>e>=a.length?null:a.charCodeAt(e++),c=a=>{d.push(a)},((a,b)=>{let c,d=null;for(;null!==(c=null!==d?d:a());){if(c>=55296&&c<=57343&&null!==(d=a())&&d>=56320&&d<=57343){b((c-55296)*1024+d-56320+65536),d=null;continue}b(c)}null!==d&&b(d)})(b,function(a){var b=a;let d=null;for("number"==typeof b&&(d=b,b=()=>null);null!==d||null!==(d=b());)d<128?c(127&d):(d<2048?c(d>>6&31|192):(d<65536?c(d>>12&15|224):(c(d>>18&7|240),c(d>>12&63|128)),c(d>>6&63|128)),c(63&d|128)),d=null}),d})(a+=e>="a"?"\0":""),j=((a,b)=>{if(b<=0)throw Error(`Illegal len: ${b}`);let c=a.length,d=0,e=0,f,g,h,i,j=[];for(;d<c-1&&e<b&&(f=(i=a.charCodeAt(d++))<lE.length?lE[i]:-1,g=(i=a.charCodeAt(d++))<lE.length?lE[i]:-1,!(-1==f||-1==g||(j.push(String.fromCharCode(f<<2>>>0|(48&g)>>4)),++e>=b||d>=c)||-1==(h=(i=a.charCodeAt(d++))<lE.length?lE[i]:-1)||(j.push(String.fromCharCode((15&g)<<4>>>0|(60&h)>>2)),++e>=b||d>=c)));)j.push(String.fromCharCode((3&h)<<6>>>0|((i=a.charCodeAt(d++))<lE.length?lE[i]:-1))),++e;return j.map(a=>a.charCodeAt(0))})(h,16),k=a=>{let b=[];return b.push("$2"),e>="a"&&b.push(e),b.push("$"),g<10&&b.push("0"),b.push(g.toString()),b.push("$"),b.push(lI(j,j.length)),b.push(lI(a,4*lH.length-1)),b.join("")};return!1===c?lN(i,j,g,!1,void 0).then(a=>k(a)):k(lN(i,j,g,!0,void 0))}(a,b,!0)})(a,b.substring(0,b.length-31))===b})(a.password,b.password)?{id:b.id,name:b.name,email:b.email,role:b.role}:null}}}],callbacks:{session:async({session:a,user:b,trigger:c,token:d})=>(a.user.id=d.sub,a.user.role=d.role,a.user.name=d.name,"update"===c&&(a.user.name=d.name),a),async jwt({token:a,user:b,trigger:c,session:d}){if(b&&(a.id=b.id,a.role=b.role,"NO_NAME"===b.name&&(a.name=b.email.split("@")[0],await lA.user.update({where:{id:b.id},data:{name:a.name}})),"signIn"===c||"signUp"===c)){let a=await hM(),c=a.get("sessionCartId")?.value;if(c){let a=await lA.cart.findFirst({where:{sessionCartId:c}});a&&(await lA.cart.deleteMany({where:{userId:b.id}}),await lA.cart.update({where:{id:a.id},data:{userId:b.id}}))}}return d?.user.name&&"update"===c&&(a.name=d.user.name),a},authorized({request:a,auth:b}){let{pathname:c}=a.nextUrl;if(!b&&[/\/shipping-address/,/\/payment-method/,/\/place-order/,/\/profile/,/\/user\/(.*)/,/\/order\/(.*)/,/\/admin/].some(a=>a.test(c)))return!1;if(a.cookies.get("sessionCartId"))return!0;{let b=crypto.randomUUID(),c=new Headers(a.headers),d=aa.next({request:{headers:c}});return d.cookies.set("sessionCartId",b),d}}}});c(747);let lS={...p},lT=lS.middleware||lS.default,lU="/middleware";if("function"!=typeof lT)throw Object.defineProperty(Error(`The Middleware "${lU}" must export a \`middleware\` or a \`default\` function`),"__NEXT_ERROR_CODE",{value:"E120",enumerable:!1,configurable:!0});function lV(a){return bm({...a,page:lU,handler:async(...a)=>{try{return await lT(...a)}catch(e){let b=a[0],c=new URL(b.url),d=c.pathname+c.search;throw await t(e,{path:d,method:b.method,headers:Object.fromEntries(b.headers.entries())},{routerKind:"Pages Router",routePath:"/middleware",routeType:"middleware",revalidateReason:void 0}),e}}})}},521:a=>{"use strict";a.exports=require("node:async_hooks")},640:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0});let{PrismaClientKnownRequestError:d,PrismaClientUnknownRequestError:e,PrismaClientRustPanicError:f,PrismaClientInitializationError:g,PrismaClientValidationError:h,getPrismaClient:i,sqltag:j,empty:k,join:l,raw:m,skip:n,Decimal:o,Debug:p,objectEnumValues:q,makeStrictEnum:r,Extensions:s,warnOnce:t,defineDmmfProperty:u,Public:v,getRuntime:w,createParam:x}=c(269),y={};b.Prisma=y,b.$Enums={},y.prismaVersion={client:"6.5.0",engine:"173f8d54f8d52e692c7e27e72a88314ec7aeff60"},y.PrismaClientKnownRequestError=d,y.PrismaClientUnknownRequestError=e,y.PrismaClientRustPanicError=f,y.PrismaClientInitializationError=g,y.PrismaClientValidationError=h,y.Decimal=o,y.sql=j,y.empty=k,y.join=l,y.raw=m,y.validator=v.validator,y.getExtensionContext=s.getExtensionContext,y.defineExtension=s.defineExtension,y.DbNull=q.instances.DbNull,y.JsonNull=q.instances.JsonNull,y.AnyNull=q.instances.AnyNull,y.NullTypes={DbNull:q.classes.DbNull,JsonNull:q.classes.JsonNull,AnyNull:q.classes.AnyNull},b.Prisma.TransactionIsolationLevel=r({ReadUncommitted:"ReadUncommitted",ReadCommitted:"ReadCommitted",RepeatableRead:"RepeatableRead",Serializable:"Serializable"}),b.Prisma.ProductScalarFieldEnum={id:"id",name:"name",slug:"slug",category:"category",images:"images",brand:"brand",description:"description",stock:"stock",price:"price",rating:"rating",numReviews:"numReviews",isFeatured:"isFeatured",banner:"banner",createdAt:"createdAt"},b.Prisma.UserScalarFieldEnum={id:"id",name:"name",email:"email",emailVerified:"emailVerified",image:"image",password:"password",role:"role",address:"address",paymentMethod:"paymentMethod",createdAt:"createdAt",updatedAt:"updatedAt"},b.Prisma.AccountScalarFieldEnum={userId:"userId",type:"type",provider:"provider",providerAccountId:"providerAccountId",refresh_token:"refresh_token",access_token:"access_token",expires_at:"expires_at",token_type:"token_type",scope:"scope",id_token:"id_token",session_state:"session_state",createdAt:"createdAt",updatedAt:"updatedAt"},b.Prisma.SessionScalarFieldEnum={sessionToken:"sessionToken",userId:"userId",expires:"expires",createdAt:"createdAt",updatedAt:"updatedAt"},b.Prisma.VerificationTokenScalarFieldEnum={identifier:"identifier",token:"token",expires:"expires"},b.Prisma.CartScalarFieldEnum={id:"id",userId:"userId",sessionCartId:"sessionCartId",items:"items",itemsPrice:"itemsPrice",totalPrice:"totalPrice",shippingPrice:"shippingPrice",taxPrice:"taxPrice",creadetAt:"creadetAt"},b.Prisma.SortOrder={asc:"asc",desc:"desc"},b.Prisma.NullableJsonNullValueInput={DbNull:y.DbNull,JsonNull:y.JsonNull},b.Prisma.QueryMode={default:"default",insensitive:"insensitive"},b.Prisma.NullsOrder={first:"first",last:"last"},b.Prisma.JsonNullValueFilter={DbNull:y.DbNull,JsonNull:y.JsonNull,AnyNull:y.AnyNull},b.Prisma.ModelName={Product:"Product",User:"User",Account:"Account",Session:"Session",VerificationToken:"VerificationToken",Cart:"Cart"};let z={generator:{name:"client",provider:{fromEnvVar:null,value:"prisma-client-js"},output:{value:"C:\\Users\\teodo\\Desktop\\prostore\\node_modules\\@prisma\\client",fromEnvVar:null},config:{engineType:"library"},binaryTargets:[{fromEnvVar:null,value:"windows",native:!0}],previewFeatures:["driverAdapters"],sourceFilePath:"C:\\Users\\teodo\\Desktop\\prostore\\prisma\\schema.prisma"},relativeEnvPaths:{rootEnvPath:null,schemaEnvPath:"../../../.env"},relativePath:"../../../prisma",clientVersion:"6.5.0",engineVersion:"173f8d54f8d52e692c7e27e72a88314ec7aeff60",datasourceNames:["db"],activeProvider:"postgresql",inlineDatasources:{db:{url:{fromEnvVar:"DATABASE_URL",value:null}}},inlineSchema:'generator client {\n  provider        = "prisma-client-js"\n  previewFeatures = ["driverAdapters"]\n}\n\ndatasource db {\n  provider = "postgresql"\n  url      = env("DATABASE_URL")\n}\n\nmodel Product {\n  id          String   @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid\n  name        String\n  slug        String   @unique(map: "product_slug_idx")\n  category    String\n  images      String[]\n  brand       String\n  description String\n  stock       Int\n  price       Decimal  @default(0) @db.Decimal(12, 2)\n  rating      Decimal  @default(0) @db.Decimal(3, 2)\n  numReviews  Int      @default(0)\n  isFeatured  Boolean  @default(false)\n  banner      String?\n  createdAt   DateTime @default(now()) @db.Timestamp(6)\n}\n\nmodel User {\n  id            String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid\n  name          String    @default("NO_NAME")\n  email         String    @unique(map: "user_email_idx")\n  emailVerified DateTime? @db.Timestamp(6)\n  image         String?\n  password      String?\n  role          String    @default("user")\n  address       Json?     @db.Json\n  paymentMethod String?\n  createdAt     DateTime  @default(now()) @db.Timestamp(6)\n  updatedAt     DateTime  @updatedAt\n  account       Account[]\n  Session       Session[]\n  Cart          Cart[]\n}\n\nmodel Account {\n  userId            String  @map("user_id") @db.Uuid\n  type              String\n  provider          String\n  providerAccountId String  @map("provider_account_id")\n  refresh_token     String? @db.Text\n  access_token      String? @db.Text\n  expires_at        Int?\n  token_type        String?\n  scope             String?\n  id_token          String? @db.Text\n  session_state     String?\n\n  createdAt DateTime @default(now()) @db.Timestamp(6)\n  updatedAt DateTime @updatedAt\n\n  user User @relation(fields: [userId], references: [id], onDelete: Cascade)\n\n  @@id([provider, providerAccountId]) // ok to keep composite PK\n}\n\nmodel Session {\n  sessionToken String   @id\n  userId       String   @db.Uuid\n  expires      DateTime @db.Timestamp(6)\n  user         User     @relation(fields: [userId], references: [id], onDelete: Cascade)\n\n  createdAt DateTime @default(now()) @db.Timestamp(6)\n  updatedAt DateTime @updatedAt\n}\n\nmodel VerificationToken {\n  identifier String\n  token      String\n  expires    DateTime\n\n  @@id([identifier, token])\n}\n\nmodel Cart {\n  id            String   @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid\n  userId        String?  @db.Uuid\n  sessionCartId String\n  items         Json[]   @default([]) @db.Json\n  itemsPrice    Decimal  @db.Decimal(12, 2)\n  totalPrice    Decimal  @db.Decimal(12, 2)\n  shippingPrice Decimal  @db.Decimal(12, 2)\n  taxPrice      Decimal  @db.Decimal(12, 2)\n  creadetAt     DateTime @default(now()) @db.Timestamp(6)\n  user          User?    @relation(fields: [userId], references: [id], onDelete: Cascade)\n}\n',inlineSchemaHash:"e4d8cdb0d3e7f932ebaa2665a4276c9a98d11be9b599d36335f53a41ad60fb07",copyEngine:!0};z.dirname="/",z.runtimeDataModel=JSON.parse('{"models":{"Product":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"name","kind":"scalar","type":"String"},{"name":"slug","kind":"scalar","type":"String"},{"name":"category","kind":"scalar","type":"String"},{"name":"images","kind":"scalar","type":"String"},{"name":"brand","kind":"scalar","type":"String"},{"name":"description","kind":"scalar","type":"String"},{"name":"stock","kind":"scalar","type":"Int"},{"name":"price","kind":"scalar","type":"Decimal"},{"name":"rating","kind":"scalar","type":"Decimal"},{"name":"numReviews","kind":"scalar","type":"Int"},{"name":"isFeatured","kind":"scalar","type":"Boolean"},{"name":"banner","kind":"scalar","type":"String"},{"name":"createdAt","kind":"scalar","type":"DateTime"}],"dbName":null},"User":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"name","kind":"scalar","type":"String"},{"name":"email","kind":"scalar","type":"String"},{"name":"emailVerified","kind":"scalar","type":"DateTime"},{"name":"image","kind":"scalar","type":"String"},{"name":"password","kind":"scalar","type":"String"},{"name":"role","kind":"scalar","type":"String"},{"name":"address","kind":"scalar","type":"Json"},{"name":"paymentMethod","kind":"scalar","type":"String"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"account","kind":"object","type":"Account","relationName":"AccountToUser"},{"name":"Session","kind":"object","type":"Session","relationName":"SessionToUser"},{"name":"Cart","kind":"object","type":"Cart","relationName":"CartToUser"}],"dbName":null},"Account":{"fields":[{"name":"userId","kind":"scalar","type":"String","dbName":"user_id"},{"name":"type","kind":"scalar","type":"String"},{"name":"provider","kind":"scalar","type":"String"},{"name":"providerAccountId","kind":"scalar","type":"String","dbName":"provider_account_id"},{"name":"refresh_token","kind":"scalar","type":"String"},{"name":"access_token","kind":"scalar","type":"String"},{"name":"expires_at","kind":"scalar","type":"Int"},{"name":"token_type","kind":"scalar","type":"String"},{"name":"scope","kind":"scalar","type":"String"},{"name":"id_token","kind":"scalar","type":"String"},{"name":"session_state","kind":"scalar","type":"String"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"},{"name":"user","kind":"object","type":"User","relationName":"AccountToUser"}],"dbName":null},"Session":{"fields":[{"name":"sessionToken","kind":"scalar","type":"String"},{"name":"userId","kind":"scalar","type":"String"},{"name":"expires","kind":"scalar","type":"DateTime"},{"name":"user","kind":"object","type":"User","relationName":"SessionToUser"},{"name":"createdAt","kind":"scalar","type":"DateTime"},{"name":"updatedAt","kind":"scalar","type":"DateTime"}],"dbName":null},"VerificationToken":{"fields":[{"name":"identifier","kind":"scalar","type":"String"},{"name":"token","kind":"scalar","type":"String"},{"name":"expires","kind":"scalar","type":"DateTime"}],"dbName":null},"Cart":{"fields":[{"name":"id","kind":"scalar","type":"String"},{"name":"userId","kind":"scalar","type":"String"},{"name":"sessionCartId","kind":"scalar","type":"String"},{"name":"items","kind":"scalar","type":"Json"},{"name":"itemsPrice","kind":"scalar","type":"Decimal"},{"name":"totalPrice","kind":"scalar","type":"Decimal"},{"name":"shippingPrice","kind":"scalar","type":"Decimal"},{"name":"taxPrice","kind":"scalar","type":"Decimal"},{"name":"creadetAt","kind":"scalar","type":"DateTime"},{"name":"user","kind":"object","type":"User","relationName":"CartToUser"}],"dbName":null}},"enums":{},"types":{}}'),u(b.Prisma,z.runtimeDataModel),z.engineWasm={getRuntime:()=>c(939),getQueryEngineWasmModule:async()=>{let a=(await Promise.resolve().then(c.bind(c,782))).default;return(await a).default}},z.compilerWasm=void 0,z.injectableEdgeEnv=()=>({parsed:{DATABASE_URL:"undefined"!=typeof globalThis&&globalThis.DATABASE_URL||"undefined"!=typeof process&&process.env&&process.env.DATABASE_URL||void 0}}),("undefined"!=typeof globalThis&&globalThis.DEBUG||"undefined"!=typeof process&&process.env&&process.env.DEBUG)&&p.enable("undefined"!=typeof globalThis&&globalThis.DEBUG||"undefined"!=typeof process&&process.env&&process.env.DEBUG||void 0),b.PrismaClient=i(z),Object.assign(b,y)},663:a=>{(()=>{"use strict";"undefined"!=typeof __nccwpck_require__&&(__nccwpck_require__.ab="//");var b={};(()=>{b.parse=function(b,c){if("string"!=typeof b)throw TypeError("argument str must be a string");for(var e={},f=b.split(d),g=(c||{}).decode||a,h=0;h<f.length;h++){var i=f[h],j=i.indexOf("=");if(!(j<0)){var k=i.substr(0,j).trim(),l=i.substr(++j,i.length).trim();'"'==l[0]&&(l=l.slice(1,-1)),void 0==e[k]&&(e[k]=function(a,b){try{return b(a)}catch(b){return a}}(l,g))}}return e},b.serialize=function(a,b,d){var f=d||{},g=f.encode||c;if("function"!=typeof g)throw TypeError("option encode is invalid");if(!e.test(a))throw TypeError("argument name is invalid");var h=g(b);if(h&&!e.test(h))throw TypeError("argument val is invalid");var i=a+"="+h;if(null!=f.maxAge){var j=f.maxAge-0;if(isNaN(j)||!isFinite(j))throw TypeError("option maxAge is invalid");i+="; Max-Age="+Math.floor(j)}if(f.domain){if(!e.test(f.domain))throw TypeError("option domain is invalid");i+="; Domain="+f.domain}if(f.path){if(!e.test(f.path))throw TypeError("option path is invalid");i+="; Path="+f.path}if(f.expires){if("function"!=typeof f.expires.toUTCString)throw TypeError("option expires is invalid");i+="; Expires="+f.expires.toUTCString()}if(f.httpOnly&&(i+="; HttpOnly"),f.secure&&(i+="; Secure"),f.sameSite)switch("string"==typeof f.sameSite?f.sameSite.toLowerCase():f.sameSite){case!0:case"strict":i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"none":i+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return i};var a=decodeURIComponent,c=encodeURIComponent,d=/; */,e=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/})(),a.exports=b})()},720:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{interceptTestApis:function(){return f},wrapRequestHandler:function(){return g}});let d=c(392),e=c(165);function f(){return(0,e.interceptFetch)(c.g.fetch)}function g(a){return(b,c)=>(0,d.withRequest)(b,e.reader,()=>a(b,c))}},743:(a,b,c)=>{a.exports={...c(902)}},747:(a,b,c)=>{"use strict";c.d(b,{p:()=>f});var d=c(66),e=c(944);function f(a){return(0,e.nJ)(a)||(0,d.RM)(a)}},770:(a,b,c)=>{"use strict";function d(a){return"object"==typeof a&&null!==a&&"digest"in a&&a.digest===e}c.d(b,{Ts:()=>d,W5:()=>h});let e="HANGING_PROMISE_REJECTION";class f extends Error{constructor(a,b){super(`During prerendering, ${b} rejects when the prerender is complete. Typically these errors are handled by React but if you move ${b} to a different context by using \`setTimeout\`, \`after\`, or similar functions you may observe this error and you should handle it in that context. This occurred at route "${a}".`),this.route=a,this.expression=b,this.digest=e}}let g=new WeakMap;function h(a,b,c){if(a.aborted)return Promise.reject(new f(b,c));{let d=new Promise((d,e)=>{let h=e.bind(null,new f(b,c)),i=g.get(a);if(i)i.push(h);else{let b=[h];g.set(a,b),a.addEventListener("abort",()=>{for(let a=0;a<b.length;a++)b[a]()},{once:!0})}});return d.catch(i),d}}function i(){}},782:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>d});let d=Promise.resolve().then(c.t.bind(c,339,19))},809:(a,b,c)=>{"use strict";c.d(b,{z:()=>d});class d extends Error{constructor(a,b){super("Invariant: "+(a.endsWith(".")?a:a+".")+" This is a bug in Next.js.",b),this.name="InvariantError"}}},814:(a,b,c)=>{"use strict";a.exports=c(440)},817:(a,b,c)=>{(()=>{"use strict";var b={491:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.ContextAPI=void 0;let d=c(223),e=c(172),f=c(930),g="context",h=new d.NoopContextManager;class i{constructor(){}static getInstance(){return this._instance||(this._instance=new i),this._instance}setGlobalContextManager(a){return(0,e.registerGlobal)(g,a,f.DiagAPI.instance())}active(){return this._getContextManager().active()}with(a,b,c,...d){return this._getContextManager().with(a,b,c,...d)}bind(a,b){return this._getContextManager().bind(a,b)}_getContextManager(){return(0,e.getGlobal)(g)||h}disable(){this._getContextManager().disable(),(0,e.unregisterGlobal)(g,f.DiagAPI.instance())}}b.ContextAPI=i},930:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.DiagAPI=void 0;let d=c(56),e=c(912),f=c(957),g=c(172);class h{constructor(){function a(a){return function(...b){let c=(0,g.getGlobal)("diag");if(c)return c[a](...b)}}let b=this;b.setLogger=(a,c={logLevel:f.DiagLogLevel.INFO})=>{var d,h,i;if(a===b){let a=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return b.error(null!=(d=a.stack)?d:a.message),!1}"number"==typeof c&&(c={logLevel:c});let j=(0,g.getGlobal)("diag"),k=(0,e.createLogLevelDiagLogger)(null!=(h=c.logLevel)?h:f.DiagLogLevel.INFO,a);if(j&&!c.suppressOverrideMessage){let a=null!=(i=Error().stack)?i:"<failed to generate stacktrace>";j.warn(`Current logger will be overwritten from ${a}`),k.warn(`Current logger will overwrite one already registered from ${a}`)}return(0,g.registerGlobal)("diag",k,b,!0)},b.disable=()=>{(0,g.unregisterGlobal)("diag",b)},b.createComponentLogger=a=>new d.DiagComponentLogger(a),b.verbose=a("verbose"),b.debug=a("debug"),b.info=a("info"),b.warn=a("warn"),b.error=a("error")}static instance(){return this._instance||(this._instance=new h),this._instance}}b.DiagAPI=h},653:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.MetricsAPI=void 0;let d=c(660),e=c(172),f=c(930),g="metrics";class h{constructor(){}static getInstance(){return this._instance||(this._instance=new h),this._instance}setGlobalMeterProvider(a){return(0,e.registerGlobal)(g,a,f.DiagAPI.instance())}getMeterProvider(){return(0,e.getGlobal)(g)||d.NOOP_METER_PROVIDER}getMeter(a,b,c){return this.getMeterProvider().getMeter(a,b,c)}disable(){(0,e.unregisterGlobal)(g,f.DiagAPI.instance())}}b.MetricsAPI=h},181:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.PropagationAPI=void 0;let d=c(172),e=c(874),f=c(194),g=c(277),h=c(369),i=c(930),j="propagation",k=new e.NoopTextMapPropagator;class l{constructor(){this.createBaggage=h.createBaggage,this.getBaggage=g.getBaggage,this.getActiveBaggage=g.getActiveBaggage,this.setBaggage=g.setBaggage,this.deleteBaggage=g.deleteBaggage}static getInstance(){return this._instance||(this._instance=new l),this._instance}setGlobalPropagator(a){return(0,d.registerGlobal)(j,a,i.DiagAPI.instance())}inject(a,b,c=f.defaultTextMapSetter){return this._getGlobalPropagator().inject(a,b,c)}extract(a,b,c=f.defaultTextMapGetter){return this._getGlobalPropagator().extract(a,b,c)}fields(){return this._getGlobalPropagator().fields()}disable(){(0,d.unregisterGlobal)(j,i.DiagAPI.instance())}_getGlobalPropagator(){return(0,d.getGlobal)(j)||k}}b.PropagationAPI=l},997:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.TraceAPI=void 0;let d=c(172),e=c(846),f=c(139),g=c(607),h=c(930),i="trace";class j{constructor(){this._proxyTracerProvider=new e.ProxyTracerProvider,this.wrapSpanContext=f.wrapSpanContext,this.isSpanContextValid=f.isSpanContextValid,this.deleteSpan=g.deleteSpan,this.getSpan=g.getSpan,this.getActiveSpan=g.getActiveSpan,this.getSpanContext=g.getSpanContext,this.setSpan=g.setSpan,this.setSpanContext=g.setSpanContext}static getInstance(){return this._instance||(this._instance=new j),this._instance}setGlobalTracerProvider(a){let b=(0,d.registerGlobal)(i,this._proxyTracerProvider,h.DiagAPI.instance());return b&&this._proxyTracerProvider.setDelegate(a),b}getTracerProvider(){return(0,d.getGlobal)(i)||this._proxyTracerProvider}getTracer(a,b){return this.getTracerProvider().getTracer(a,b)}disable(){(0,d.unregisterGlobal)(i,h.DiagAPI.instance()),this._proxyTracerProvider=new e.ProxyTracerProvider}}b.TraceAPI=j},277:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.deleteBaggage=b.setBaggage=b.getActiveBaggage=b.getBaggage=void 0;let d=c(491),e=(0,c(780).createContextKey)("OpenTelemetry Baggage Key");function f(a){return a.getValue(e)||void 0}b.getBaggage=f,b.getActiveBaggage=function(){return f(d.ContextAPI.getInstance().active())},b.setBaggage=function(a,b){return a.setValue(e,b)},b.deleteBaggage=function(a){return a.deleteValue(e)}},993:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.BaggageImpl=void 0;class c{constructor(a){this._entries=a?new Map(a):new Map}getEntry(a){let b=this._entries.get(a);if(b)return Object.assign({},b)}getAllEntries(){return Array.from(this._entries.entries()).map(([a,b])=>[a,b])}setEntry(a,b){let d=new c(this._entries);return d._entries.set(a,b),d}removeEntry(a){let b=new c(this._entries);return b._entries.delete(a),b}removeEntries(...a){let b=new c(this._entries);for(let c of a)b._entries.delete(c);return b}clear(){return new c}}b.BaggageImpl=c},830:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.baggageEntryMetadataSymbol=void 0,b.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")},369:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.baggageEntryMetadataFromString=b.createBaggage=void 0;let d=c(930),e=c(993),f=c(830),g=d.DiagAPI.instance();b.createBaggage=function(a={}){return new e.BaggageImpl(new Map(Object.entries(a)))},b.baggageEntryMetadataFromString=function(a){return"string"!=typeof a&&(g.error(`Cannot create baggage metadata from unknown type: ${typeof a}`),a=""),{__TYPE__:f.baggageEntryMetadataSymbol,toString:()=>a}}},67:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.context=void 0,b.context=c(491).ContextAPI.getInstance()},223:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.NoopContextManager=void 0;let d=c(780);class e{active(){return d.ROOT_CONTEXT}with(a,b,c,...d){return b.call(c,...d)}bind(a,b){return b}enable(){return this}disable(){return this}}b.NoopContextManager=e},780:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.ROOT_CONTEXT=b.createContextKey=void 0,b.createContextKey=function(a){return Symbol.for(a)};class c{constructor(a){let b=this;b._currentContext=a?new Map(a):new Map,b.getValue=a=>b._currentContext.get(a),b.setValue=(a,d)=>{let e=new c(b._currentContext);return e._currentContext.set(a,d),e},b.deleteValue=a=>{let d=new c(b._currentContext);return d._currentContext.delete(a),d}}}b.ROOT_CONTEXT=new c},506:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.diag=void 0,b.diag=c(930).DiagAPI.instance()},56:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.DiagComponentLogger=void 0;let d=c(172);class e{constructor(a){this._namespace=a.namespace||"DiagComponentLogger"}debug(...a){return f("debug",this._namespace,a)}error(...a){return f("error",this._namespace,a)}info(...a){return f("info",this._namespace,a)}warn(...a){return f("warn",this._namespace,a)}verbose(...a){return f("verbose",this._namespace,a)}}function f(a,b,c){let e=(0,d.getGlobal)("diag");if(e)return c.unshift(b),e[a](...c)}b.DiagComponentLogger=e},972:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.DiagConsoleLogger=void 0;let c=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}];class d{constructor(){for(let a=0;a<c.length;a++)this[c[a].n]=function(a){return function(...b){if(console){let c=console[a];if("function"!=typeof c&&(c=console.log),"function"==typeof c)return c.apply(console,b)}}}(c[a].c)}}b.DiagConsoleLogger=d},912:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.createLogLevelDiagLogger=void 0;let d=c(957);b.createLogLevelDiagLogger=function(a,b){function c(c,d){let e=b[c];return"function"==typeof e&&a>=d?e.bind(b):function(){}}return a<d.DiagLogLevel.NONE?a=d.DiagLogLevel.NONE:a>d.DiagLogLevel.ALL&&(a=d.DiagLogLevel.ALL),b=b||{},{error:c("error",d.DiagLogLevel.ERROR),warn:c("warn",d.DiagLogLevel.WARN),info:c("info",d.DiagLogLevel.INFO),debug:c("debug",d.DiagLogLevel.DEBUG),verbose:c("verbose",d.DiagLogLevel.VERBOSE)}}},957:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.DiagLogLevel=void 0,function(a){a[a.NONE=0]="NONE",a[a.ERROR=30]="ERROR",a[a.WARN=50]="WARN",a[a.INFO=60]="INFO",a[a.DEBUG=70]="DEBUG",a[a.VERBOSE=80]="VERBOSE",a[a.ALL=9999]="ALL"}(b.DiagLogLevel||(b.DiagLogLevel={}))},172:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.unregisterGlobal=b.getGlobal=b.registerGlobal=void 0;let d=c(200),e=c(521),f=c(130),g=e.VERSION.split(".")[0],h=Symbol.for(`opentelemetry.js.api.${g}`),i=d._globalThis;b.registerGlobal=function(a,b,c,d=!1){var f;let g=i[h]=null!=(f=i[h])?f:{version:e.VERSION};if(!d&&g[a]){let b=Error(`@opentelemetry/api: Attempted duplicate registration of API: ${a}`);return c.error(b.stack||b.message),!1}if(g.version!==e.VERSION){let b=Error(`@opentelemetry/api: Registration of version v${g.version} for ${a} does not match previously registered API v${e.VERSION}`);return c.error(b.stack||b.message),!1}return g[a]=b,c.debug(`@opentelemetry/api: Registered a global for ${a} v${e.VERSION}.`),!0},b.getGlobal=function(a){var b,c;let d=null==(b=i[h])?void 0:b.version;if(d&&(0,f.isCompatible)(d))return null==(c=i[h])?void 0:c[a]},b.unregisterGlobal=function(a,b){b.debug(`@opentelemetry/api: Unregistering a global for ${a} v${e.VERSION}.`);let c=i[h];c&&delete c[a]}},130:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.isCompatible=b._makeCompatibilityCheck=void 0;let d=c(521),e=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function f(a){let b=new Set([a]),c=new Set,d=a.match(e);if(!d)return()=>!1;let f={major:+d[1],minor:+d[2],patch:+d[3],prerelease:d[4]};if(null!=f.prerelease)return function(b){return b===a};function g(a){return c.add(a),!1}return function(a){if(b.has(a))return!0;if(c.has(a))return!1;let d=a.match(e);if(!d)return g(a);let h={major:+d[1],minor:+d[2],patch:+d[3],prerelease:d[4]};if(null!=h.prerelease||f.major!==h.major)return g(a);if(0===f.major)return f.minor===h.minor&&f.patch<=h.patch?(b.add(a),!0):g(a);return f.minor<=h.minor?(b.add(a),!0):g(a)}}b._makeCompatibilityCheck=f,b.isCompatible=f(d.VERSION)},886:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.metrics=void 0,b.metrics=c(653).MetricsAPI.getInstance()},901:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.ValueType=void 0,function(a){a[a.INT=0]="INT",a[a.DOUBLE=1]="DOUBLE"}(b.ValueType||(b.ValueType={}))},102:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.createNoopMeter=b.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=b.NOOP_OBSERVABLE_GAUGE_METRIC=b.NOOP_OBSERVABLE_COUNTER_METRIC=b.NOOP_UP_DOWN_COUNTER_METRIC=b.NOOP_HISTOGRAM_METRIC=b.NOOP_COUNTER_METRIC=b.NOOP_METER=b.NoopObservableUpDownCounterMetric=b.NoopObservableGaugeMetric=b.NoopObservableCounterMetric=b.NoopObservableMetric=b.NoopHistogramMetric=b.NoopUpDownCounterMetric=b.NoopCounterMetric=b.NoopMetric=b.NoopMeter=void 0;class c{constructor(){}createHistogram(a,c){return b.NOOP_HISTOGRAM_METRIC}createCounter(a,c){return b.NOOP_COUNTER_METRIC}createUpDownCounter(a,c){return b.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(a,c){return b.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(a,c){return b.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(a,c){return b.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(a,b){}removeBatchObservableCallback(a){}}b.NoopMeter=c;class d{}b.NoopMetric=d;class e extends d{add(a,b){}}b.NoopCounterMetric=e;class f extends d{add(a,b){}}b.NoopUpDownCounterMetric=f;class g extends d{record(a,b){}}b.NoopHistogramMetric=g;class h{addCallback(a){}removeCallback(a){}}b.NoopObservableMetric=h;class i extends h{}b.NoopObservableCounterMetric=i;class j extends h{}b.NoopObservableGaugeMetric=j;class k extends h{}b.NoopObservableUpDownCounterMetric=k,b.NOOP_METER=new c,b.NOOP_COUNTER_METRIC=new e,b.NOOP_HISTOGRAM_METRIC=new g,b.NOOP_UP_DOWN_COUNTER_METRIC=new f,b.NOOP_OBSERVABLE_COUNTER_METRIC=new i,b.NOOP_OBSERVABLE_GAUGE_METRIC=new j,b.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new k,b.createNoopMeter=function(){return b.NOOP_METER}},660:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.NOOP_METER_PROVIDER=b.NoopMeterProvider=void 0;let d=c(102);class e{getMeter(a,b,c){return d.NOOP_METER}}b.NoopMeterProvider=e,b.NOOP_METER_PROVIDER=new e},200:function(a,b,c){var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c),Object.defineProperty(a,d,{enumerable:!0,get:function(){return b[c]}})}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(46),b)},651:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b._globalThis=void 0,b._globalThis="object"==typeof globalThis?globalThis:c.g},46:function(a,b,c){var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c),Object.defineProperty(a,d,{enumerable:!0,get:function(){return b[c]}})}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(651),b)},939:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.propagation=void 0,b.propagation=c(181).PropagationAPI.getInstance()},874:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.NoopTextMapPropagator=void 0;class c{inject(a,b){}extract(a,b){return a}fields(){return[]}}b.NoopTextMapPropagator=c},194:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.defaultTextMapSetter=b.defaultTextMapGetter=void 0,b.defaultTextMapGetter={get(a,b){if(null!=a)return a[b]},keys:a=>null==a?[]:Object.keys(a)},b.defaultTextMapSetter={set(a,b,c){null!=a&&(a[b]=c)}}},845:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.trace=void 0,b.trace=c(997).TraceAPI.getInstance()},403:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.NonRecordingSpan=void 0;let d=c(476);class e{constructor(a=d.INVALID_SPAN_CONTEXT){this._spanContext=a}spanContext(){return this._spanContext}setAttribute(a,b){return this}setAttributes(a){return this}addEvent(a,b){return this}setStatus(a){return this}updateName(a){return this}end(a){}isRecording(){return!1}recordException(a,b){}}b.NonRecordingSpan=e},614:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.NoopTracer=void 0;let d=c(491),e=c(607),f=c(403),g=c(139),h=d.ContextAPI.getInstance();class i{startSpan(a,b,c=h.active()){var d;if(null==b?void 0:b.root)return new f.NonRecordingSpan;let i=c&&(0,e.getSpanContext)(c);return"object"==typeof(d=i)&&"string"==typeof d.spanId&&"string"==typeof d.traceId&&"number"==typeof d.traceFlags&&(0,g.isSpanContextValid)(i)?new f.NonRecordingSpan(i):new f.NonRecordingSpan}startActiveSpan(a,b,c,d){let f,g,i;if(arguments.length<2)return;2==arguments.length?i=b:3==arguments.length?(f=b,i=c):(f=b,g=c,i=d);let j=null!=g?g:h.active(),k=this.startSpan(a,f,j),l=(0,e.setSpan)(j,k);return h.with(l,i,void 0,k)}}b.NoopTracer=i},124:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.NoopTracerProvider=void 0;let d=c(614);class e{getTracer(a,b,c){return new d.NoopTracer}}b.NoopTracerProvider=e},125:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.ProxyTracer=void 0;let d=new(c(614)).NoopTracer;class e{constructor(a,b,c,d){this._provider=a,this.name=b,this.version=c,this.options=d}startSpan(a,b,c){return this._getTracer().startSpan(a,b,c)}startActiveSpan(a,b,c,d){let e=this._getTracer();return Reflect.apply(e.startActiveSpan,e,arguments)}_getTracer(){if(this._delegate)return this._delegate;let a=this._provider.getDelegateTracer(this.name,this.version,this.options);return a?(this._delegate=a,this._delegate):d}}b.ProxyTracer=e},846:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.ProxyTracerProvider=void 0;let d=c(125),e=new(c(124)).NoopTracerProvider;class f{getTracer(a,b,c){var e;return null!=(e=this.getDelegateTracer(a,b,c))?e:new d.ProxyTracer(this,a,b,c)}getDelegate(){var a;return null!=(a=this._delegate)?a:e}setDelegate(a){this._delegate=a}getDelegateTracer(a,b,c){var d;return null==(d=this._delegate)?void 0:d.getTracer(a,b,c)}}b.ProxyTracerProvider=f},996:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.SamplingDecision=void 0,function(a){a[a.NOT_RECORD=0]="NOT_RECORD",a[a.RECORD=1]="RECORD",a[a.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(b.SamplingDecision||(b.SamplingDecision={}))},607:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.getSpanContext=b.setSpanContext=b.deleteSpan=b.setSpan=b.getActiveSpan=b.getSpan=void 0;let d=c(780),e=c(403),f=c(491),g=(0,d.createContextKey)("OpenTelemetry Context Key SPAN");function h(a){return a.getValue(g)||void 0}function i(a,b){return a.setValue(g,b)}b.getSpan=h,b.getActiveSpan=function(){return h(f.ContextAPI.getInstance().active())},b.setSpan=i,b.deleteSpan=function(a){return a.deleteValue(g)},b.setSpanContext=function(a,b){return i(a,new e.NonRecordingSpan(b))},b.getSpanContext=function(a){var b;return null==(b=h(a))?void 0:b.spanContext()}},325:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.TraceStateImpl=void 0;let d=c(564);class e{constructor(a){this._internalState=new Map,a&&this._parse(a)}set(a,b){let c=this._clone();return c._internalState.has(a)&&c._internalState.delete(a),c._internalState.set(a,b),c}unset(a){let b=this._clone();return b._internalState.delete(a),b}get(a){return this._internalState.get(a)}serialize(){return this._keys().reduce((a,b)=>(a.push(b+"="+this.get(b)),a),[]).join(",")}_parse(a){!(a.length>512)&&(this._internalState=a.split(",").reverse().reduce((a,b)=>{let c=b.trim(),e=c.indexOf("=");if(-1!==e){let f=c.slice(0,e),g=c.slice(e+1,b.length);(0,d.validateKey)(f)&&(0,d.validateValue)(g)&&a.set(f,g)}return a},new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let a=new e;return a._internalState=new Map(this._internalState),a}}b.TraceStateImpl=e},564:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.validateValue=b.validateKey=void 0;let c="[_0-9a-z-*/]",d=`[a-z]${c}{0,255}`,e=`[a-z0-9]${c}{0,240}@[a-z]${c}{0,13}`,f=RegExp(`^(?:${d}|${e})$`),g=/^[ -~]{0,255}[!-~]$/,h=/,|=/;b.validateKey=function(a){return f.test(a)},b.validateValue=function(a){return g.test(a)&&!h.test(a)}},98:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.createTraceState=void 0;let d=c(325);b.createTraceState=function(a){return new d.TraceStateImpl(a)}},476:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.INVALID_SPAN_CONTEXT=b.INVALID_TRACEID=b.INVALID_SPANID=void 0;let d=c(475);b.INVALID_SPANID="0000000000000000",b.INVALID_TRACEID="00000000000000000000000000000000",b.INVALID_SPAN_CONTEXT={traceId:b.INVALID_TRACEID,spanId:b.INVALID_SPANID,traceFlags:d.TraceFlags.NONE}},357:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.SpanKind=void 0,function(a){a[a.INTERNAL=0]="INTERNAL",a[a.SERVER=1]="SERVER",a[a.CLIENT=2]="CLIENT",a[a.PRODUCER=3]="PRODUCER",a[a.CONSUMER=4]="CONSUMER"}(b.SpanKind||(b.SpanKind={}))},139:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.wrapSpanContext=b.isSpanContextValid=b.isValidSpanId=b.isValidTraceId=void 0;let d=c(476),e=c(403),f=/^([0-9a-f]{32})$/i,g=/^[0-9a-f]{16}$/i;function h(a){return f.test(a)&&a!==d.INVALID_TRACEID}function i(a){return g.test(a)&&a!==d.INVALID_SPANID}b.isValidTraceId=h,b.isValidSpanId=i,b.isSpanContextValid=function(a){return h(a.traceId)&&i(a.spanId)},b.wrapSpanContext=function(a){return new e.NonRecordingSpan(a)}},847:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.SpanStatusCode=void 0,function(a){a[a.UNSET=0]="UNSET",a[a.OK=1]="OK",a[a.ERROR=2]="ERROR"}(b.SpanStatusCode||(b.SpanStatusCode={}))},475:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.TraceFlags=void 0,function(a){a[a.NONE=0]="NONE",a[a.SAMPLED=1]="SAMPLED"}(b.TraceFlags||(b.TraceFlags={}))},521:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.VERSION=void 0,b.VERSION="1.6.0"}},d={};function e(a){var c=d[a];if(void 0!==c)return c.exports;var f=d[a]={exports:{}},g=!0;try{b[a].call(f.exports,f,f.exports,e),g=!1}finally{g&&delete d[a]}return f.exports}e.ab="//";var f={};(()=>{Object.defineProperty(f,"__esModule",{value:!0}),f.trace=f.propagation=f.metrics=f.diag=f.context=f.INVALID_SPAN_CONTEXT=f.INVALID_TRACEID=f.INVALID_SPANID=f.isValidSpanId=f.isValidTraceId=f.isSpanContextValid=f.createTraceState=f.TraceFlags=f.SpanStatusCode=f.SpanKind=f.SamplingDecision=f.ProxyTracerProvider=f.ProxyTracer=f.defaultTextMapSetter=f.defaultTextMapGetter=f.ValueType=f.createNoopMeter=f.DiagLogLevel=f.DiagConsoleLogger=f.ROOT_CONTEXT=f.createContextKey=f.baggageEntryMetadataFromString=void 0;var a=e(369);Object.defineProperty(f,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return a.baggageEntryMetadataFromString}});var b=e(780);Object.defineProperty(f,"createContextKey",{enumerable:!0,get:function(){return b.createContextKey}}),Object.defineProperty(f,"ROOT_CONTEXT",{enumerable:!0,get:function(){return b.ROOT_CONTEXT}});var c=e(972);Object.defineProperty(f,"DiagConsoleLogger",{enumerable:!0,get:function(){return c.DiagConsoleLogger}});var d=e(957);Object.defineProperty(f,"DiagLogLevel",{enumerable:!0,get:function(){return d.DiagLogLevel}});var g=e(102);Object.defineProperty(f,"createNoopMeter",{enumerable:!0,get:function(){return g.createNoopMeter}});var h=e(901);Object.defineProperty(f,"ValueType",{enumerable:!0,get:function(){return h.ValueType}});var i=e(194);Object.defineProperty(f,"defaultTextMapGetter",{enumerable:!0,get:function(){return i.defaultTextMapGetter}}),Object.defineProperty(f,"defaultTextMapSetter",{enumerable:!0,get:function(){return i.defaultTextMapSetter}});var j=e(125);Object.defineProperty(f,"ProxyTracer",{enumerable:!0,get:function(){return j.ProxyTracer}});var k=e(846);Object.defineProperty(f,"ProxyTracerProvider",{enumerable:!0,get:function(){return k.ProxyTracerProvider}});var l=e(996);Object.defineProperty(f,"SamplingDecision",{enumerable:!0,get:function(){return l.SamplingDecision}});var m=e(357);Object.defineProperty(f,"SpanKind",{enumerable:!0,get:function(){return m.SpanKind}});var n=e(847);Object.defineProperty(f,"SpanStatusCode",{enumerable:!0,get:function(){return n.SpanStatusCode}});var o=e(475);Object.defineProperty(f,"TraceFlags",{enumerable:!0,get:function(){return o.TraceFlags}});var p=e(98);Object.defineProperty(f,"createTraceState",{enumerable:!0,get:function(){return p.createTraceState}});var q=e(139);Object.defineProperty(f,"isSpanContextValid",{enumerable:!0,get:function(){return q.isSpanContextValid}}),Object.defineProperty(f,"isValidTraceId",{enumerable:!0,get:function(){return q.isValidTraceId}}),Object.defineProperty(f,"isValidSpanId",{enumerable:!0,get:function(){return q.isValidSpanId}});var r=e(476);Object.defineProperty(f,"INVALID_SPANID",{enumerable:!0,get:function(){return r.INVALID_SPANID}}),Object.defineProperty(f,"INVALID_TRACEID",{enumerable:!0,get:function(){return r.INVALID_TRACEID}}),Object.defineProperty(f,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return r.INVALID_SPAN_CONTEXT}});let s=e(67);Object.defineProperty(f,"context",{enumerable:!0,get:function(){return s.context}});let t=e(506);Object.defineProperty(f,"diag",{enumerable:!0,get:function(){return t.diag}});let u=e(886);Object.defineProperty(f,"metrics",{enumerable:!0,get:function(){return u.metrics}});let v=e(939);Object.defineProperty(f,"propagation",{enumerable:!0,get:function(){return v.propagation}});let w=e(845);Object.defineProperty(f,"trace",{enumerable:!0,get:function(){return w.trace}}),f.default={context:s.context,diag:t.diag,metrics:u.metrics,propagation:v.propagation,trace:w.trace}})(),a.exports=f})()},856:a=>{"use strict";a.exports=function(){throw Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},902:(a,b,c)=>{a.exports={...c(640)}},911:(a,b)=>{"use strict";function c(a){let b=null!=a;return function(c){let d=0;if("["===c[0]&&(d=c.indexOf("=")+1),"{"!==c[d++])throw Error("Invalid array text - must start with {");let e=c.length-1;if("}"!==c[e])throw Error("Invalid array text - must end with }");let f=[],g=f,h=[],i=d,j=[],k=!1,l=!0;for(;d<e;++d){let f=c[d];if('"'===f){i=++d;let e=c.indexOf('"',i),f=c.indexOf("\\",i);for(;-1!==f&&f<e;){d=f;let a=c.slice(i,d);j.push(a),k=!0,i=++d,e===d++&&(e=c.indexOf('"',d)),f=c.indexOf("\\",d)}d=e;let h=c.slice(i,d);if(k){let c=j.join("")+h;g.push(b?a(c):c),j.length=0,k=!1}else g.push(b?a(h):h);l=!1}else if("{"===f){let a=[];g.push(a),h.push(g),g=a,i=d+1,l=!0}else if(","===f)l=!0;else if("}"===f){l=!1;let a=h.pop();if(void 0===a)throw Error("Invalid array text - too many '}'");g=a}else if(l){for(i=d;","!==(f=c[d])&&"}"!==f&&d<e;)++d;let h=c.slice(i,d--);g.push("NULL"===h?null:b?a(h):h),l=!1}else throw Error("Was expecting delimeter")}return f}}let d=c();b.q=(a,b)=>null!=b?c(b)(a):d(a)},918:(a,b,c)=>{"use strict";c.d(b,{s:()=>d});let d=(0,c(58).xl)()},939:(a,b,c)=>{"use strict";let d;a=c.nmd(a);var e=Object.defineProperty,f=Object.getOwnPropertyDescriptor,g=Object.getOwnPropertyNames,h=Object.prototype.hasOwnProperty,i={};((a,b)=>{for(var c in b)e(a,c,{get:b[c],enumerable:!0})})(i,{QueryEngine:()=>E,__wbg_String_8f0eb39a4a4c2f66:()=>F,__wbg_buffer_609cc3eee51ed158:()=>G,__wbg_call_672a4d21634d4a24:()=>H,__wbg_call_7cccdd69e0791ae2:()=>I,__wbg_crypto_805be4ce92f1e370:()=>J,__wbg_done_769e5ede4b31c67b:()=>K,__wbg_entries_3265d4158b33e5dc:()=>L,__wbg_exec_3e2d2d0644c927df:()=>M,__wbg_getRandomValues_f6a868620c8bab49:()=>N,__wbg_getTime_46267b1c24877e30:()=>O,__wbg_get_67b2ba62fc30de12:()=>P,__wbg_get_b9b93047fe3cf45b:()=>Q,__wbg_get_ece95cf6585650d9:()=>R,__wbg_getwithrefkey_1dc361bd10053bfe:()=>S,__wbg_has_a5ea9117f258a0ec:()=>T,__wbg_instanceof_ArrayBuffer_e14585432e3737fc:()=>U,__wbg_instanceof_Map_f3469ce2244d2430:()=>V,__wbg_instanceof_Promise_935168b8f4b49db3:()=>W,__wbg_instanceof_Uint8Array_17156bcf118086a9:()=>X,__wbg_isArray_a1eab7e0d067391b:()=>Y,__wbg_isSafeInteger_343e2beeeece1bb0:()=>Z,__wbg_iterator_9a24c88df860dc65:()=>$,__wbg_keys_5c77a08ddc2fb8a6:()=>_,__wbg_length_a446193dc22c12f8:()=>aa,__wbg_length_e2d2a49132c1b256:()=>ab,__wbg_msCrypto_2ac4d17c4748234a:()=>ac,__wbg_new0_f788a2397c7ca929:()=>ad,__wbg_new_23a2665fac83c611:()=>ae,__wbg_new_405e22f390576ce2:()=>af,__wbg_new_5e0be73521bc8c17:()=>ag,__wbg_new_63847613cde5d4bc:()=>ah,__wbg_new_78feb108b6472713:()=>ai,__wbg_new_a12002a7f91c75be:()=>aj,__wbg_newnoargs_105ed471475aaf50:()=>ak,__wbg_newwithbyteoffsetandlength_d97e637ebe145a9a:()=>al,__wbg_newwithlength_a381634e90c276d4:()=>am,__wbg_next_25feadfc0913fea9:()=>an,__wbg_next_6574e1a8a62d1055:()=>ao,__wbg_node_ecc8306b9857f33d:()=>ap,__wbg_now_7fd00a794a07d388:()=>aq,__wbg_now_807e54c39636c349:()=>ar,__wbg_now_b3f7572f6ef3d3a9:()=>as,__wbg_process_5cff2739921be718:()=>at,__wbg_push_737cfc8c1432c2c6:()=>au,__wbg_queueMicrotask_98e746b9f850fe3d:()=>av,__wbg_queueMicrotask_c847cc8372bec908:()=>aw,__wbg_randomFillSync_d3c85af7e31cf1f8:()=>ax,__wbg_require_0c566c6f2eef6c79:()=>ay,__wbg_resolve_4851785c9c5f573d:()=>az,__wbg_setTimeout_5d6a1d4fc51ea450:()=>aA,__wbg_set_37837023f3d740e8:()=>aB,__wbg_set_3f1d0b984ed272ed:()=>aC,__wbg_set_65595bdd868b3009:()=>aD,__wbg_set_8fc6bf8a5b1071d1:()=>aE,__wbg_set_bb8cecf6a62b9f46:()=>aF,__wbg_set_wasm:()=>k,__wbg_static_accessor_GLOBAL_88a902d13a557d07:()=>aG,__wbg_static_accessor_GLOBAL_THIS_56578be7e9f832b0:()=>aH,__wbg_static_accessor_SELF_37c5d418e4bf5819:()=>aI,__wbg_static_accessor_WINDOW_5de37043a91a9c40:()=>aJ,__wbg_subarray_aa9065fa9dc5df96:()=>aK,__wbg_then_44b73946d2fb3e7d:()=>aL,__wbg_then_48b406749878a531:()=>aM,__wbg_valueOf_7392193dd78c6b97:()=>aN,__wbg_value_cd1ffa7b1ab794f1:()=>aO,__wbg_versions_a8e5a362e1f16442:()=>aP,__wbindgen_as_number:()=>aQ,__wbindgen_bigint_from_i64:()=>aR,__wbindgen_bigint_from_u64:()=>aS,__wbindgen_bigint_get_as_i64:()=>aT,__wbindgen_boolean_get:()=>aU,__wbindgen_cb_drop:()=>aV,__wbindgen_closure_wrapper7368:()=>aW,__wbindgen_debug_string:()=>aX,__wbindgen_error_new:()=>aY,__wbindgen_in:()=>aZ,__wbindgen_init_externref_table:()=>a$,__wbindgen_is_bigint:()=>a_,__wbindgen_is_function:()=>a0,__wbindgen_is_object:()=>a1,__wbindgen_is_string:()=>a2,__wbindgen_is_undefined:()=>a3,__wbindgen_jsval_eq:()=>a4,__wbindgen_jsval_loose_eq:()=>a5,__wbindgen_memory:()=>a6,__wbindgen_number_get:()=>a7,__wbindgen_number_new:()=>a8,__wbindgen_string_get:()=>a9,__wbindgen_string_new:()=>ba,__wbindgen_throw:()=>bb,debug_panic:()=>B,getBuildTimeInfo:()=>A}),a.exports=((a,b,c,d)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let i of g(b))h.call(a,i)||i===c||e(a,i,{get:()=>b[i],enumerable:!(d=f(b,i))||d.enumerable});return a})(e({},"__esModule",{value:!0}),i);var j=()=>{};function k(a){d=a}j.prototype=j;let l=0,m=null;function n(){return(null===m||0===m.byteLength)&&(m=new Uint8Array(d.memory.buffer)),m}let o=new(typeof TextEncoder>"u"?(0,a.require)("util").TextEncoder:TextEncoder)("utf-8"),p="function"==typeof o.encodeInto?function(a,b){return o.encodeInto(a,b)}:function(a,b){let c=o.encode(a);return b.set(c),{read:a.length,written:c.length}};function q(a,b,c){if(void 0===c){let c=o.encode(a),d=b(c.length,1)>>>0;return n().subarray(d,d+c.length).set(c),l=c.length,d}let d=a.length,e=b(d,1)>>>0,f=n(),g=0;for(;g<d;g++){let b=a.charCodeAt(g);if(b>127)break;f[e+g]=b}if(g!==d){0!==g&&(a=a.slice(g)),e=c(e,d,d=g+3*a.length,1)>>>0;let b=p(a,n().subarray(e+g,e+d));g+=b.written,e=c(e,d,g,1)>>>0}return l=g,e}let r=null;function s(){return(null===r||!0===r.buffer.detached||void 0===r.buffer.detached&&r.buffer!==d.memory.buffer)&&(r=new DataView(d.memory.buffer)),r}function t(a){let b=d.__externref_table_alloc();return d.__wbindgen_export_4.set(b,a),b}function u(a,b){try{return a.apply(this,b)}catch(b){let a=t(b);d.__wbindgen_exn_store(a)}}let v=new(typeof TextDecoder>"u"?(0,a.require)("util").TextDecoder:TextDecoder)("utf-8",{ignoreBOM:!0,fatal:!0});function w(a,b){return a>>>=0,v.decode(n().subarray(a,a+b))}function x(a){return null==a}v.decode();let y=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(a=>{d.__wbindgen_export_5.get(a.dtor)(a.a,a.b)});function z(a){let b=d.__wbindgen_export_4.get(a);return d.__externref_table_dealloc(a),b}function A(){return d.getBuildTimeInfo()}function B(a){var b=x(a)?0:q(a,d.__wbindgen_malloc,d.__wbindgen_realloc),c=l;let e=d.debug_panic(b,c);if(e[1])throw z(e[0])}function C(a,b,c){d.closure555_externref_shim(a,b,c)}let D=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(a=>d.__wbg_queryengine_free(a>>>0,1));class E{__destroy_into_raw(){let a=this.__wbg_ptr;return this.__wbg_ptr=0,D.unregister(this),a}free(){let a=this.__destroy_into_raw();d.__wbg_queryengine_free(a,0)}constructor(a,b,c){let e=d.queryengine_new(a,b,c);if(e[2])throw z(e[1]);return this.__wbg_ptr=e[0]>>>0,D.register(this,this.__wbg_ptr,this),this}connect(a,b){let c=q(a,d.__wbindgen_malloc,d.__wbindgen_realloc),e=l,f=q(b,d.__wbindgen_malloc,d.__wbindgen_realloc),g=l;return d.queryengine_connect(this.__wbg_ptr,c,e,f,g)}disconnect(a,b){let c=q(a,d.__wbindgen_malloc,d.__wbindgen_realloc),e=l,f=q(b,d.__wbindgen_malloc,d.__wbindgen_realloc),g=l;return d.queryengine_disconnect(this.__wbg_ptr,c,e,f,g)}query(a,b,c,e){let f=q(a,d.__wbindgen_malloc,d.__wbindgen_realloc),g=l,h=q(b,d.__wbindgen_malloc,d.__wbindgen_realloc),i=l;var j=x(c)?0:q(c,d.__wbindgen_malloc,d.__wbindgen_realloc),k=l;let m=q(e,d.__wbindgen_malloc,d.__wbindgen_realloc),n=l;return d.queryengine_query(this.__wbg_ptr,f,g,h,i,j,k,m,n)}startTransaction(a,b,c){let e=q(a,d.__wbindgen_malloc,d.__wbindgen_realloc),f=l,g=q(b,d.__wbindgen_malloc,d.__wbindgen_realloc),h=l,i=q(c,d.__wbindgen_malloc,d.__wbindgen_realloc),j=l;return d.queryengine_startTransaction(this.__wbg_ptr,e,f,g,h,i,j)}commitTransaction(a,b,c){let e=q(a,d.__wbindgen_malloc,d.__wbindgen_realloc),f=l,g=q(b,d.__wbindgen_malloc,d.__wbindgen_realloc),h=l,i=q(c,d.__wbindgen_malloc,d.__wbindgen_realloc),j=l;return d.queryengine_commitTransaction(this.__wbg_ptr,e,f,g,h,i,j)}rollbackTransaction(a,b,c){let e=q(a,d.__wbindgen_malloc,d.__wbindgen_realloc),f=l,g=q(b,d.__wbindgen_malloc,d.__wbindgen_realloc),h=l,i=q(c,d.__wbindgen_malloc,d.__wbindgen_realloc),j=l;return d.queryengine_rollbackTransaction(this.__wbg_ptr,e,f,g,h,i,j)}metrics(a){let b=q(a,d.__wbindgen_malloc,d.__wbindgen_realloc),c=l;return d.queryengine_metrics(this.__wbg_ptr,b,c)}trace(a){let b=q(a,d.__wbindgen_malloc,d.__wbindgen_realloc),c=l;return d.queryengine_trace(this.__wbg_ptr,b,c)}}function F(a,b){let c=q(String(b),d.__wbindgen_malloc,d.__wbindgen_realloc),e=l;s().setInt32(a+4,e,!0),s().setInt32(a+0,c,!0)}function G(a){return a.buffer}function H(){return u(function(a,b){return a.call(b)},arguments)}function I(){return u(function(a,b,c){return a.call(b,c)},arguments)}function J(a){return a.crypto}function K(a){return a.done}function L(a){return Object.entries(a)}function M(a,b,c){let d=a.exec(w(b,c));return x(d)?0:t(d)}function N(){return u(function(a,b){a.getRandomValues(b)},arguments)}function O(a){return a.getTime()}function P(){return u(function(a,b){return Reflect.get(a,b)},arguments)}function Q(a,b){return a[b>>>0]}function R(){return u(function(a,b){return a[b]},arguments)}function S(a,b){return a[b]}function T(){return u(function(a,b){return Reflect.has(a,b)},arguments)}function U(a){let b;try{b=a instanceof ArrayBuffer}catch{b=!1}return b}function V(a){let b;try{b=a instanceof Map}catch{b=!1}return b}function W(a){let b;try{b=a instanceof Promise}catch{b=!1}return b}function X(a){let b;try{b=a instanceof Uint8Array}catch{b=!1}return b}function Y(a){return Array.isArray(a)}function Z(a){return Number.isSafeInteger(a)}function $(){return Symbol.iterator}function _(a){return Object.keys(a)}function aa(a){return a.length}function ab(a){return a.length}function ac(a){return a.msCrypto}function ad(){return new Date}function ae(a,b){try{var c={a:a,b:b};return new Promise((a,b)=>{let e=c.a;c.a=0;try{var f;return f=c.b,void d.closure133_externref_shim(e,f,a,b)}finally{c.a=e}})}finally{c.a=c.b=0}}function af(){return{}}function ag(){return new Map}function ah(a,b,c,d){return new RegExp(w(a,b),w(c,d))}function ai(){return[]}function aj(a){return new Uint8Array(a)}function ak(a,b){return new j(w(a,b))}function al(a,b,c){return new Uint8Array(a,b>>>0,c>>>0)}function am(a){return new Uint8Array(a>>>0)}function an(a){return a.next}function ao(){return u(function(a){return a.next()},arguments)}function ap(a){return a.node}function aq(a){return a.now()}function ar(){return Date.now()}function as(){return u(function(){return Date.now()},arguments)}function at(a){return a.process}function au(a,b){return a.push(b)}function av(a){queueMicrotask(a)}function aw(a){return a.queueMicrotask}function ax(){return u(function(a,b){a.randomFillSync(b)},arguments)}function ay(){return u(function(){return a.require},arguments)}function az(a){return Promise.resolve(a)}function aA(a,b){return setTimeout(a,b>>>0)}function aB(a,b,c){a[b>>>0]=c}function aC(a,b,c){a[b]=c}function aD(a,b,c){a.set(b,c>>>0)}function aE(a,b,c){return a.set(b,c)}function aF(){return u(function(a,b,c){return Reflect.set(a,b,c)},arguments)}function aG(){let a=typeof c.g>"u"?null:c.g;return x(a)?0:t(a)}function aH(){let a=typeof globalThis>"u"?null:globalThis;return x(a)?0:t(a)}function aI(){let a=typeof self>"u"?null:self;return x(a)?0:t(a)}function aJ(){let a=typeof window>"u"?null:window;return x(a)?0:t(a)}function aK(a,b,c){return a.subarray(b>>>0,c>>>0)}function aL(a,b){return a.then(b)}function aM(a,b,c){return a.then(b,c)}function aN(a){return a.valueOf()}function aO(a){return a.value}function aP(a){return a.versions}function aQ(a){return+a}function aR(a){return a}function aS(a){return BigInt.asUintN(64,a)}function aT(a,b){let c="bigint"==typeof b?b:void 0;s().setBigInt64(a+8,x(c)?BigInt(0):c,!0),s().setInt32(a+0,!x(c),!0)}function aU(a){return"boolean"==typeof a?+!!a:2}function aV(a){let b=a.original;return 1==b.cnt--&&(b.a=0,!0)}function aW(a,b,c){let e={a:a,b:b,cnt:1,dtor:556},f=(...a)=>{e.cnt++;let b=e.a;e.a=0;try{return C(b,e.b,...a)}finally{0==--e.cnt?(d.__wbindgen_export_5.get(e.dtor)(b,e.b),y.unregister(e)):e.a=b}};return f.original=e,y.register(f,e,e),f}function aX(a,b){let c=q(function a(b){let c,d=typeof b;if("number"==d||"boolean"==d||null==b)return`${b}`;if("string"==d)return`"${b}"`;if("symbol"==d){let a=b.description;return null==a?"Symbol":`Symbol(${a})`}if("function"==d){let a=b.name;return"string"==typeof a&&a.length>0?`Function(${a})`:"Function"}if(Array.isArray(b)){let c=b.length,d="[";c>0&&(d+=a(b[0]));for(let e=1;e<c;e++)d+=", "+a(b[e]);return d+"]"}let e=/\[object ([^\]]+)\]/.exec(toString.call(b));if(!e||!(e.length>1))return toString.call(b);if("Object"==(c=e[1]))try{return"Object("+JSON.stringify(b)+")"}catch{return"Object"}return b instanceof Error?`${b.name}: ${b.message}
${b.stack}`:c}(b),d.__wbindgen_malloc,d.__wbindgen_realloc),e=l;s().setInt32(a+4,e,!0),s().setInt32(a+0,c,!0)}function aY(a,b){return Error(w(a,b))}function aZ(a,b){return a in b}function a$(){let a=d.__wbindgen_export_4,b=a.grow(4);a.set(0,void 0),a.set(b+0,void 0),a.set(b+1,null),a.set(b+2,!0),a.set(b+3,!1)}function a_(a){return"bigint"==typeof a}function a0(a){return"function"==typeof a}function a1(a){return"object"==typeof a&&null!==a}function a2(a){return"string"==typeof a}function a3(a){return void 0===a}function a4(a,b){return a===b}function a5(a,b){return a==b}function a6(){return d.memory}function a7(a,b){let c="number"==typeof b?b:void 0;s().setFloat64(a+8,x(c)?0:c,!0),s().setInt32(a+0,!x(c),!0)}function a8(a){return a}function a9(a,b){let c="string"==typeof b?b:void 0;var e=x(c)?0:q(c,d.__wbindgen_malloc,d.__wbindgen_realloc),f=l;s().setInt32(a+4,f,!0),s().setInt32(a+0,e,!0)}function ba(a,b){return w(a,b)}function bb(a,b){throw Error(w(a,b))}},944:(a,b,c)=>{"use strict";c.d(b,{nJ:()=>g,oJ:()=>e,zB:()=>f});var d=c(378);let e="NEXT_REDIRECT";var f=function(a){return a.push="push",a.replace="replace",a}({});function g(a){if("object"!=typeof a||null===a||!("digest"in a)||"string"!=typeof a.digest)return!1;let b=a.digest.split(";"),[c,f]=b,g=b.slice(2,-2).join(";"),h=Number(b.at(-2));return c===e&&("replace"===f||"push"===f)&&"string"==typeof g&&!isNaN(h)&&h in d.Q}},979:(a,b,c)=>{"use strict";c.d(b,{f:()=>d});class d extends Error{constructor(...a){super(...a),this.code="NEXT_STATIC_GEN_BAILOUT"}}}},a=>{var b=a(a.s=518);(_ENTRIES="undefined"==typeof _ENTRIES?{}:_ENTRIES).middleware_middleware=b}]);
//# sourceMappingURL=middleware.js.map